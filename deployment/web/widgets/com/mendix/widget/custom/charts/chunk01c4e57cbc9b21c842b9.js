webpackJsonpCharts([2],{297:function(e,t,r){"use strict";e.exports=r(596)},328:function(e,t,r){"use strict";var n=r(363),a=r(356),i=r(345),o=r(0).removeElement,l=r(26),s=e.exports={};s.align=r(364),s.getCursor=r(365);var c=r(366);function u(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function d(e){return n(e.changedTouches?e.changedTouches[0]:e,document.body)}s.unhover=c.wrapped,s.unhoverRaw=c.raw,s.init=function(e){var t,r,n,c,f,h,p,v,g=e.gd,m=1,y=g._context.doubleClickDelay,x=e.element;g._mouseDownTime||(g._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=b,i?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=b,x.addEventListener("touchstart",b,{passive:!1})):x.ontouchstart=b;var _=e.clampFn||function(e,t,r){return Math.abs(e)<r&&(e=0),Math.abs(t)<r&&(t=0),[e,t]};function b(i){g._dragged=!1,g._dragging=!0;var o=d(i);t=o[0],r=o[1],p=i.target,h=i,v=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=r),(n=(new Date).getTime())-g._mouseDownTime<y?m+=1:(m=1,g._mouseDownTime=n),e.prepFn&&e.prepFn(i,t,r),a&&!v?(f=u()).style.cursor=window.getComputedStyle(x).cursor:a||(f=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),!1!==e.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(n){n.preventDefault();var a=d(n),i=e.minDrag||l.MINDRAG,o=_(a[0]-t,a[1]-r,i),c=o[0],u=o[1];(c||u)&&(g._dragged=!0,s.unhover(g)),g._dragged&&e.moveFn&&!v&&(g._dragdata={element:x,dx:c,dy:u},e.moveFn(c,u))}function M(t){if(delete g._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),a?o(f):c&&(f.documentElement.style.cursor=c,c=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>y&&(m=Math.max(m-1,1)),g._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(m,h),!v){var r;try{r=new MouseEvent("click",t)}catch(e){var n=d(t);(r=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,n[0],n[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(r)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},s.coverSlip=u},329:function(e,t,r){"use strict";var n=r(4),a=r(0),i=r(328),o=r(100),l=r(102),s=r(343);e.exports={moduleType:"component",name:"fx",constants:r(104),schema:{layout:l},attributes:r(106),layoutAttributes:l,supplyLayoutGlobalDefaults:r(370),supplyDefaults:r(371),supplyLayoutDefaults:r(372),calc:r(373),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:function(e,t,r){return a.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return a.castOption(e,r,"hoverinfo",function(r){return a.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)})},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=a.isD3Selection(e)?e:n.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(374)}},330:function(e,t,r){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},331:function(e,t,r){"use strict";var n=r(352).EventEmitter,a={init:function(e){if(e._ev instanceof n)return e;var t=new n,r=new n;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(n,a){"undefined"!=typeof jQuery&&jQuery(e).trigger(n,a),t.emit(n,a),r.emit(n,a)},e},triggerHandler:function(e,t,r){var n,a;"undefined"!=typeof jQuery&&(n=jQuery(e).triggerHandler(t,r));var i=e._ev;if(!i)return n;var o,l=i._events[t];if(!l)return n;function s(e){return e.listener?(i.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[r]))):e.apply(i,[r])}for(l=Array.isArray(l)?l:[l],o=0;o<l.length-1;o++)s(l[o]);return a=s(l[o]),void 0!==n?n:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=a},332:function(e,t,r){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},333:function(e,t,r){"use strict";var n=r(0),a=r(14),i=r(100).isUnifiedHover;e.exports=function(e,t,r,o){function l(e){o.font[e]||(o.font[e]=t.legend?t.legend.font[e]:t.font[e])}o=o||{},t&&i(t.hovermode)&&(o.font||(o.font={}),l("size"),l("family"),l("color"),t.legend?(o.bgcolor||(o.bgcolor=a.combine(t.legend.bgcolor,t.paper_bgcolor)),o.bordercolor||(o.bordercolor=t.legend.bordercolor)):o.bgcolor||(o.bgcolor=t.paper_bgcolor)),r("hoverlabel.bgcolor",o.bgcolor),r("hoverlabel.bordercolor",o.bordercolor),r("hoverlabel.namelength",o.namelength),n.coerceFont(r,"hoverlabel.font",o.font),r("hoverlabel.align",o.align)}},334:function(e,t,r){"use strict";t.selectMode=function(e){return"lasso"===e||"select"===e},t.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.openMode=function(e){return"drawline"===e||"drawopenpath"===e},t.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}},335:function(e,t,r){"use strict";var n=r(391),a=r(339),i=a.CIRCLE_SIDES,o=a.SQRT2,l=r(340),s=l.p2r,c=l.r2p,u=[0,3,4,5,6,1,2],d=[0,3,4,1,2];function f(e,t){return Math.abs(e-t)<=1e-6}function h(e,t){var r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+n*n)}t.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var r="",n=0;n<t;n++)for(var a=e[n].length,i=0;i<a;i++){var o=e[n][i][0];if("Z"===o)r+="Z";else for(var l=e[n][i].length,s=0;s<l;s++){var c=s;"Q"===o||"S"===o?c=d[s]:"C"===o&&(c=u[s]),r+=e[n][i][c],s>0&&s<l-1&&(r+=",")}}return r},t.readPaths=function(e,t,r,a){var o,l,u,d=n(e),f=[],h=-1,p=0,v=0,g=function(){l=p,u=v};g();for(var m=0;m<d.length;m++){var y,x,_,b,w=[],M=d[m][0],k=M;switch(M){case"M":f[++h]=[],p=+d[m][1],v=+d[m][2],w.push([k,p,v]),g();break;case"Q":case"S":y=+d[m][1],_=+d[m][2],p=+d[m][3],v=+d[m][4],w.push([k,p,v,y,_]);break;case"C":y=+d[m][1],_=+d[m][2],x=+d[m][3],b=+d[m][4],p=+d[m][5],v=+d[m][6],w.push([k,p,v,y,_,x,b]);break;case"T":case"L":p=+d[m][1],v=+d[m][2],w.push([k,p,v]);break;case"H":k="L",p=+d[m][1],w.push([k,p,v]);break;case"V":k="L",v=+d[m][1],w.push([k,p,v]);break;case"A":k="L";var L=+d[m][1],A=+d[m][2];+d[m][4]||(L=-L,A=-A);var z=p-L,S=v;for(o=1;o<=i/2;o++){var T=2*Math.PI*o/i;w.push([k,z+L*Math.cos(T),S+A*Math.sin(T)])}break;case"Z":p===l&&v===u||(p=l,v=u,w.push([k,p,v]))}for(var C=(r||{}).domain,I=t._fullLayout._size,D=r&&"pixel"===r.xsizemode,R=r&&"pixel"===r.ysizemode,O=!1===a,P=0;P<w.length;P++){for(o=0;o+2<7;o+=2){var E=w[P][o+1],F=w[P][o+2];void 0!==E&&void 0!==F&&(p=E,v=F,r&&(r.xaxis&&r.xaxis.p2r?(O&&(E-=r.xaxis._offset),E=D?c(r.xaxis,r.xanchor)+E:s(r.xaxis,E)):(O&&(E-=I.l),C?E=C.x[0]+E/I.w:E/=I.w),r.yaxis&&r.yaxis.p2r?(O&&(F-=r.yaxis._offset),F=R?c(r.yaxis,r.yanchor)-F:s(r.yaxis,F)):(O&&(F-=I.t),F=C?C.y[1]-F/I.h:1-F/I.h)),w[P][o+1]=E,w[P][o+2]=F)}f[h].push(w[P].slice())}}return f},t.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!f(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!f(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!f(e[0][1],e[1][1])&&!f(e[0][1],e[3][1]))&&!!(h(e[0],e[1])*h(e[0],e[3]))},t.pointsShapeEllipse=function(e){var t=e.length;if(t!==i+1)return!1;t=i;for(var r=0;r<t;r++){var n=(2*t-r)%t,a=(t/2+n)%t,o=(t/2+r)%t;if(!f(h(e[r],e[o]),h(e[n],e[a])))return!1}return!0},t.handleEllipse=function(e,r,n){if(!e)return[r,n];var a=t.ellipseOver({x0:r[0],y0:r[1],x1:n[0],y1:n[1]}),l=(a.x1+a.x0)/2,s=(a.y1+a.y0)/2,c=(a.x1-a.x0)/2,u=(a.y1-a.y0)/2;c||(c=u/=o),u||(u=c/=o);for(var d=[],f=0;f<i;f++){var h=2*f*Math.PI/i;d.push([l+c*Math.cos(h),s+u*Math.sin(h)])}return d},t.ellipseOver=function(e){var t=e.x0,r=e.y0,n=e.x1,a=e.y1,i=n-t,l=a-r,s=((t-=i)+n)/2,c=((r-=l)+a)/2;return{x0:s-(i*=o),y0:c-(l*=o),x1:s+i,y1:c+l}}},336:function(e,t,r){"use strict";var n=r(392),a=r(3),i=r(38).dashStyle,o=r(14),l=r(329),s=r(100).makeEventData,c=r(334),u=c.freeMode,d=c.rectMode,f=c.drawMode,h=c.openMode,p=c.selectMode,v=r(354),g=r(335).handleEllipse,m=r(355),y=r(0),x=r(376),_=r(108),b=r(27).getFromId,w=r(338),M=r(348).redrawReglTraces,k=r(26),L=k.MINSELECT,A=x.filter,z=x.tester,S=r(103).clearSelect,T=r(340),C=T.p2r,I=T.axValue,D=T.getTransform;function R(e,t,r,n,a,i,o){var l,s,c,u,d,f,p,g,m,y=t._hoverdata,x=t._fullLayout.clickmode.indexOf("event")>-1,_=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(y)){F(e,t,i);var b=function(e,t){var r,n,a=e[0],i=-1,o=[];for(n=0;n<t.length;n++)if(r=t[n],a.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===a.hoverOnBox)break;void 0!==a.pointNumber?i=a.pointNumber:void 0!==a.binNumber&&(i=a.binNumber,o=a.pointNumbers);break}return{pointNumber:i,pointNumbers:o,searchInfo:r}}(y,l=B(t,r,n,a));if(b.pointNumbers.length>0?function(e,t){var r,n,a,i=[];for(a=0;a<e.length;a++)(r=e[a]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&i.push(r);if(1===i.length&&i[0]===t.searchInfo&&(n=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(a=0;a<t.pointNumbers.length;a++)if(n.selectedpoints.indexOf(t.pointNumbers[a])<0)return!1;return!0}return!1}(l,b):function(e){var t,r,n,a=0;for(n=0;n<e.length;n++)if(t=e[n],(r=t.cd[0].trace).selectedpoints){if(r.selectedpoints.length>1)return!1;if((a+=r.selectedpoints.length)>1)return!1}return 1===a}(l)&&(f=Z(b))){for(o&&o.remove(),m=0;m<l.length;m++)(s=l[m])._module.selectPoints(s,!1);N(t,l),H(i),x&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==f?f:Z(b)),c=function(e,t,r){return{pointNumber:e,searchInfo:t,subtract:r}}(b.pointNumber,b.searchInfo,p),u=E(i.selectionDefs.concat([c])),m=0;m<l.length;m++)if(d=V(l[m]._module.selectPoints(l[m],u),l[m]),_.length)for(var w=0;w<d.length;w++)_.push(d[w]);else _=d;if(N(t,l,g={points:_}),c&&i&&i.selectionDefs.push(c),o){var M=i.mergedPolygons,k=h(i.dragmode);v(G(M,k),o,i)}x&&t.emit("plotly_selected",g)}}}function O(e){return"pointNumber"in e&&"searchInfo"in e}function P(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,r,n,a){var i=e.searchInfo.cd[0].trace._expandedIndex;return a.cd[0].trace._expandedIndex===i&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function E(e){for(var t=[],r=O(e[0])?0:e[0][0][0],n=r,a=O(e[0])?0:e[0][0][1],i=a,o=0;o<e.length;o++)if(O(e[o]))t.push(P(e[o]));else{var l=x.tester(e[o]);l.subtract=e[o].subtract,t.push(l),r=Math.min(r,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),i=Math.max(i,l.ymax)}return{xmin:r,xmax:n,ymin:a,ymax:i,pts:[],contains:function(e,r,n,a){for(var i=!1,o=0;o<t.length;o++)t[o].contains(e,r,n,a)&&(i=!1===t[o].subtract);return i},isRect:!1,degenerate:!1}}function F(e,t,r){t._fullLayout._drawing=!1;var n=t._fullLayout,a=r.plotinfo,i=r.dragmode,o=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(f(i)&&h(i));o&&l&&a.selection&&a.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=a.selection.selectionDefs,r.mergedPolygons=a.selection.mergedPolygons):l&&a.selection||H(r),o||(S(t),n._lastSelectedSubplot=a.id)}function H(e){var t=e.dragmode,r=e.plotinfo,n=e.gd;if(n._fullLayout._activeShapeIndex>=0&&n._fullLayout._deactivateShape(n),f(t)){var i=n._fullLayout._zoomlayer.selectAll(".select-outline-"+r.id);if(i&&n._fullLayout._drawing){var o=m(i,e);o&&a.call("_guiRelayout",n,{shapes:o}),n._fullLayout._drawing=!1}}r.selection={},r.selection.selectionDefs=e.selectionDefs=[],r.selection.mergedPolygons=e.mergedPolygons=[]}function B(e,t,r,n){var a,i,o,l=[],s=t.map(function(e){return e._id}),c=r.map(function(e){return e._id});for(o=0;o<e.calcdata.length;o++)if(!0===(i=(a=e.calcdata[o])[0].trace).visible&&i._module&&i._module.selectPoints)if(!n||i.subplot!==n&&i.geo!==n)if("splom"===i.type&&i._xaxes[s[0]]&&i._yaxes[c[0]]){var u=f(i._module,a,t[0],r[0]);u.scene=e._fullLayout._splomScenes[i.uid],l.push(u)}else if("sankey"===i.type){var d=f(i._module,a,t[0],r[0]);l.push(d)}else{if(-1===s.indexOf(i.xaxis))continue;if(-1===c.indexOf(i.yaxis))continue;l.push(f(i._module,a,b(e,i.xaxis),b(e,i.yaxis)))}else l.push(f(i._module,a,t[0],r[0]));return l;function f(e,t,r,n){return{_module:e,cd:t,xaxis:r,yaxis:n}}}function Z(e){var t=e.searchInfo.cd[0].trace,r=e.pointNumber,n=e.pointNumbers,a=n.length>0?n[0]:r;return!!t.selectedpoints&&t.selectedpoints.indexOf(a)>-1}function N(e,t,r){var n,i,o,l;for(n=0;n<t.length;n++){var s=t[n].cd[0].trace._fullInput,c=e._fullLayout._tracePreGUI[s.uid]||{};void 0===c.selectedpoints&&(c.selectedpoints=s._input.selectedpoints||null)}if(r){var u=r.points||[];for(n=0;n<t.length;n++)(l=t[n].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(n=0;n<u.length;n++){var d=u[n],f=d.data,h=d.fullData;d.pointIndices?([].push.apply(f.selectedpoints,d.pointIndices),l._fullInput!==l&&[].push.apply(h.selectedpoints,d.pointIndices)):(f.selectedpoints.push(d.pointIndex),l._fullInput!==l&&h.selectedpoints.push(d.pointIndex))}}else for(n=0;n<t.length;n++)delete(l=t[n].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var p=!1;for(n=0;n<t.length;n++){l=(o=(i=t[n]).cd)[0].trace,a.traceIs(l,"regl")&&(p=!0);var v=i._module,g=v.styleOnSelect||v.style;g&&(g(e,o,o[0].node3),o[0].nodeRangePlot3&&g(e,o,o[0].nodeRangePlot3))}p&&(w(e),M(e))}function V(e,t){if(Array.isArray(e))for(var r=t.cd,n=t.cd[0].trace,a=0;a<e.length;a++)e[a]=s(e[a],n,r);return e}function G(e,t){for(var r=[],n=0;n<e.length;n++){r[n]=[];for(var a=0;a<e[n].length;a++){r[n][a]=[],r[n][a][0]=a?"L":"M";for(var i=0;i<e[n][a].length;i++)r[n][a].push(e[n][a][i])}t||r[n].push(["Z",r[n][0][1],r[n][0][2]])}return r}e.exports={prepSelect:function(e,t,r,a,s){var c=u(s),m=d(s),x=h(s),b=f(s),w=p(s),M="drawcircle"===s,S="drawline"===s||M,T=a.gd,O=T._fullLayout,P=O._zoomlayer,Z=a.element.getBoundingClientRect(),q=a.plotinfo,U=D(q),j=t-Z.left,Y=r-Z.top;O._calcInverseTransform(T);var X=y.apply3DTransform(O._invTransform)(j,Y);j=X[0],Y=X[1];var W,K,Q,J,$,ee,te,re=O._invScaleX,ne=O._invScaleY,ae=j,ie=Y,oe="M"+j+","+Y,le=a.xaxes[0]._length,se=a.yaxes[0]._length,ce=a.xaxes.concat(a.yaxes),ue=e.altKey&&!(f(s)&&x);F(e,T,a),c&&(W=A([[j,Y]],k.BENDPX));var de=P.selectAll("path.select-outline-"+q.id).data(b?[0]:[1,2]),fe=O.newshape;de.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+q.id}).style(b?{opacity:fe.opacity/2,fill:x?void 0:fe.fillcolor,stroke:fe.line.color,"stroke-dasharray":i(fe.line.dash,fe.line.width),"stroke-width":fe.line.width+"px"}:{}).attr("fill-rule",fe.fillrule).classed("cursor-move",!!b).attr("transform",U).attr("d",oe+"Z");var he,pe=P.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform",U).attr("d","M0,0Z"),ve=O._uid+k.SELECTID,ge=[],me=B(T,a.xaxes,a.yaxes,a.subplot);function ye(e,t){return e-t}he=q.fillRangeItems?q.fillRangeItems:m?function(e,t){var r=e.range={};for($=0;$<ce.length;$++){var n=ce[$],a=n._id.charAt(0);r[n._id]=[C(n,t[a+"min"]),C(n,t[a+"max"])].sort(ye)}}:function(e,t,r){var n=e.lassoPoints={};for($=0;$<ce.length;$++){var a=ce[$];n[a._id]=r.filtered.map(I(a))}},a.moveFn=function(e,t){ae=Math.max(0,Math.min(le,re*e+j)),ie=Math.max(0,Math.min(se,ne*t+Y));var r=Math.abs(ae-j),i=Math.abs(ie-Y);if(m){var o,l,s;if(w){var u=O.selectdirection;switch(o="any"===u?i<Math.min(.6*r,L)?"h":r<Math.min(.6*i,L)?"v":"d":u){case"h":l=M?se/2:0,s=se;break;case"v":l=M?le/2:0,s=le}}if(b)switch(O.newshape.drawdirection){case"vertical":o="h",l=M?se/2:0,s=se;break;case"horizontal":o="v",l=M?le/2:0,s=le;break;case"ortho":r<i?(o="h",l=Y,s=ie):(o="v",l=j,s=ae);break;default:o="d"}"h"===o?((J=S?g(M,[ae,l],[ae,s]):[[j,l],[j,s],[ae,s],[ae,l]]).xmin=S?ae:Math.min(j,ae),J.xmax=S?ae:Math.max(j,ae),J.ymin=Math.min(l,s),J.ymax=Math.max(l,s),pe.attr("d","M"+J.xmin+","+(Y-L)+"h-4v"+2*L+"h4ZM"+(J.xmax-1)+","+(Y-L)+"h4v"+2*L+"h-4Z")):"v"===o?((J=S?g(M,[l,ie],[s,ie]):[[l,Y],[l,ie],[s,ie],[s,Y]]).xmin=Math.min(l,s),J.xmax=Math.max(l,s),J.ymin=S?ie:Math.min(Y,ie),J.ymax=S?ie:Math.max(Y,ie),pe.attr("d","M"+(j-L)+","+J.ymin+"v-4h"+2*L+"v4ZM"+(j-L)+","+(J.ymax-1)+"v4h"+2*L+"v-4Z")):"d"===o&&((J=S?g(M,[j,Y],[ae,ie]):[[j,Y],[j,ie],[ae,ie],[ae,Y]]).xmin=Math.min(j,ae),J.xmax=Math.max(j,ae),J.ymin=Math.min(Y,ie),J.ymax=Math.max(Y,ie),pe.attr("d","M0,0Z"))}else c&&(W.addPt([ae,ie]),J=W.filtered);a.selectionDefs&&a.selectionDefs.length?(Q=function(e,t,r){return r?n.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:n.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(a.mergedPolygons,J,ue),J.subtract=ue,K=E(a.selectionDefs.concat([J]))):(Q=[J],K=z(J)),v(G(Q,x),de,a),w&&_.throttle(ve,k.SELECTDELAY,function(){var e;ge=[];var t,r=[];for($=0;$<me.length;$++)if(t=(ee=me[$])._module.selectPoints(ee,K),r.push(t),e=V(t,ee),ge.length)for(var n=0;n<e.length;n++)ge.push(e[n]);else ge=e;N(T,me,te={points:ge}),he(te,J,W),a.gd.emit("plotly_selecting",te)})},a.clickFn=function(e,t){if(pe.remove(),T._fullLayout._activeShapeIndex>=0)T._fullLayout._deactivateShape(T);else if(!b){var r=O.clickmode;_.done(ve).then(function(){if(_.clear(ve),2===e){for(de.remove(),$=0;$<me.length;$++)(ee=me[$])._module.selectPoints(ee,!1);N(T,me),H(a),T.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&R(t,T,a.xaxes,a.yaxes,a.subplot,a,de),"event"===r&&T.emit("plotly_selected",void 0);l.click(T,t)}).catch(y.error)}},a.doneFn=function(){pe.remove(),_.done(ve).then(function(){_.clear(ve),a.gd.emit("plotly_selected",te),J&&a.selectionDefs&&(J.subtract=ue,a.selectionDefs.push(J),a.mergedPolygons.length=0,[].push.apply(a.mergedPolygons,Q)),a.doneFnCompleted&&a.doneFnCompleted(ge)}).catch(y.error),b&&H(a)}},clearSelect:S,clearSelectionsCache:H,selectOnClick:R}},337:function(e,t,r){"use strict";var n=r(0);function a(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}t.formatPiePercent=function(e,t){var r=a((100*e).toPrecision(3));return n.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=a(e.toPrecision(10));return n.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var n=e[t[r]];if(n||0===n||""===n)return n}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0},t.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},338:function(e,t,r){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},339:function(e,t,r){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},340:function(e,t,r){"use strict";var n=r(0).strTranslate;function a(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}e.exports={p2r:a,r2p:function(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}},axValue:function(e){var t="y"===e._id.charAt(0)?1:0;return function(r){return a(e,r[t])}},getTransform:function(e){return n(e.xaxis._offset,e.yaxis._offset)}}},341:function(e,t,r){"use strict";var n=r(0),a=r(107),i=r(27).id2name,o=r(18),l=r(347),s=r(109),c=r(5).ALMOST_EQUAL,u=r(28).FROM_BL;function d(e,t,r){var a=r.axIds,l=r.layoutOut,s=r.hasImage,c=l._axisConstraintGroups,u=l._axisMatchGroups,d=t._id,v=d.charAt(0),g=((l._splomAxes||{})[v]||{})[d]||{},m=t._id,y="x"===m.charAt(0);function x(r,a){return n.coerce(e,t,o,r,a)}t._matchGroup=null,t._constraintGroup=null,x("constrain",s?"domain":"range"),n.coerce(e,t,{constraintoward:{valType:"enumerated",values:y?["left","center","right"]:["bottom","middle","top"],dflt:y?"center":"middle"}},"constraintoward");var _,b,w=t.type,M=[];for(_=0;_<a.length;_++){if((b=a[_])!==m)l[i(b)].type===w&&M.push(b)}var k=h(c,m);if(k){var L=[];for(_=0;_<M.length;_++)k[b=M[_]]||L.push(b);M=L}var A,z,S=M.length;S&&(e.matches||g.matches)&&(A=n.coerce(e,t,{matches:{valType:"enumerated",values:M,dflt:-1!==M.indexOf(g.matches)?g.matches:void 0}},"matches"));var T=s&&!y?t.anchor:void 0;if(S&&!A&&(e.scaleanchor||T)&&(z=n.coerce(e,t,{scaleanchor:{valType:"enumerated",values:M}},"scaleanchor",T)),A){t._matchGroup=p(u,m,A,1);var C=l[i(A)],I=f(l,t)/f(l,C);y!==("x"===A.charAt(0))&&(I=(y?"x":"y")+I),p(c,m,A,I)}else e.matches&&-1!==a.indexOf(e.matches)&&n.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(z){var D=x("scaleratio");D||(D=t.scaleratio=1),p(c,m,z,D)}else e.scaleanchor&&-1!==a.indexOf(e.scaleanchor)&&n.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function f(e,t){var r=t.domain;return r||(r=e[i(t.overlaying)].domain),r[1]-r[0]}function h(e,t){for(var r=0;r<e.length;r++)if(e[r][t])return e[r];return null}function p(e,t,r,n){var a,i,o,l,s,c=h(e,t);null===c?((c={})[t]=1,s=e.length,e.push(c)):s=e.indexOf(c);var u=Object.keys(c);for(a=0;a<e.length;a++)if(o=e[a],a!==s&&o[r]){var d=o[r];for(i=0;i<u.length;i++)o[l=u[i]]=v(d,v(n,c[l]));return void e.splice(s,1)}if(1!==n)for(i=0;i<u.length;i++){var f=u[i];c[f]=v(n,c[f])}c[r]=1}function v(e,t){var r,n,a="",i="";"string"==typeof e&&(r=(a=e.match(/^[xy]*/)[0]).length,e=+e.substr(r)),"string"==typeof t&&(n=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(n));var o=e*t;return r||n?r&&n&&a.charAt(0)!==i.charAt(0)?r===n?o:(r>n?a.substr(n):i.substr(r))+o:a+i+e*t:o}function g(e,t){for(var r=t._size,n=r.h/r.w,a={},i=Object.keys(e),o=0;o<i.length;o++){var l=i[o],s=e[l];if("string"==typeof s){var c=s.match(/^[xy]*/)[0],u=c.length;s=+s.substr(u);for(var d="y"===c.charAt(0)?n:1/n,f=0;f<u;f++)s*=d}a[l]=s}return a}function m(e,t){var r=e._inputDomain,n=u[e.constraintoward],a=r[0]+(r[1]-r[0])*n;e.domain=e._input.domain=[a+(r[0]-a)/t,a+(r[1]-a)/t],e.setScale()}t.handleDefaults=function(e,t,r){var a,o,l,c,u,f,h,p,v=r.axIds,g=r.axHasImage,m=t._axisConstraintGroups=[],y=t._axisMatchGroups=[];for(a=0;a<v.length;a++)d(u=e[c=i(v[a])],f=t[c],{axIds:v,layoutOut:t,hasImage:g[c]});function x(e,r){for(a=0;a<e.length;a++)for(l in o=e[a])t[i(l)][r]=o}for(x(y,"_matchGroup"),a=0;a<m.length;a++)for(l in o=m[a])if((f=t[i(l)]).fixedrange){for(var _ in o){var b=i(_);!1===(e[b]||{}).fixedrange&&n.warn("fixedrange was specified as false for axis "+b+" but was overridden because another axis in its constraint group has fixedrange true"),t[b].fixedrange=!0}break}for(a=0;a<m.length;){for(l in o=m[a]){(f=t[i(l)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(o).length&&(m.splice(a,1),a--);break}a++}x(m,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],M=!1,k=!1;function L(){p=f[h],"rangebreaks"===h&&(k=f._hasDayOfWeekBreaks)}for(a=0;a<y.length;a++){o=y[a];for(var A=0;A<w.length;A++){var z;for(l in h=w[A],p=null,o)if(u=e[c=i(l)],f=t[c],h in f){if(!f.matches&&(z=f,h in u)){L();break}null===p&&h in u&&L()}if("range"===h&&p&&(M=!0),"autorange"===h&&null===p&&M&&(p=!1),null===p&&h in z&&(p=z[h]),null!==p)for(l in o)(f=t[i(l)])[h]="range"===h?p.slice():p,"rangebreaks"===h&&(f._hasDayOfWeekBreaks=k,s(f,t))}}},t.enforce=function(e){var t,r,n,o,s,u,d,f,h=e._fullLayout,p=h._axisConstraintGroups||[];for(t=0;t<p.length;t++){n=g(p[t],h);var v=Object.keys(n),y=1/0,x=0,_=1/0,b={},w={},M=!1;for(r=0;r<v.length;r++)w[o=v[r]]=s=h[i(o)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),b[o]=u=Math.abs(s._m)/n[o],y=Math.min(y,u),"domain"!==s.constrain&&s._constraintShrinkable||(_=Math.min(_,u)),delete s._constraintShrinkable,x=Math.max(x,u),"domain"===s.constrain&&(M=!0);if(!(y>c*x)||M)for(r=0;r<v.length;r++)if(u=b[o=v[r]],d=(s=w[o]).constrain,u!==_||"domain"===d)if(f=u/_,"range"===d)l(s,f);else{var k=s._inputDomain,L=(s.domain[1]-s.domain[0])/(k[1]-k[0]),A=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if((f/=L)*A<1){s.domain=s._input.domain=k.slice(),l(s,f);continue}if(A<1&&(s.range=s._input.range=s._inputRange.slice(),f*=A),s.autorange){var z=s.r2l(s.range[0]),S=s.r2l(s.range[1]),T=(z+S)/2,C=T,I=T,D=Math.abs(S-T),R=T-D*f*1.0001,O=T+D*f*1.0001,P=a.makePadFn(h,s,0),E=a.makePadFn(h,s,1);m(s,f);var F,H,B=Math.abs(s._m),Z=a.concatExtremes(e,s),N=Z.min,V=Z.max;for(H=0;H<N.length;H++)(F=N[H].val-P(N[H])/B)>R&&F<C&&(C=F);for(H=0;H<V.length;H++)(F=V[H].val+E(V[H])/B)<O&&F>I&&(I=F);f/=(I-C)/(2*D),C=s.l2r(C),I=s.l2r(I),s.range=s._input.range=z<S?[C,I]:[I,C]}m(s,f)}}},t.getAxisGroup=function(e,t){for(var r=e._axisMatchGroups,n=0;n<r.length;n++){if(r[n][t])return"g"+n}return t},t.clean=function(e,t){if(t._inputDomain){for(var r=!1,n=t._id,a=e._fullLayout._axisConstraintGroups,i=0;i<a.length;i++)if(a[i][n]){r=!0;break}r&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},342:function(e,t){e.exports=!0},343:function(e,t,r){"use strict";var n=r(4),a=r(1),i=r(19),o=r(0),l=o.strTranslate,s=o.strRotate,c=r(331),u=r(39),d=r(367),f=r(38),h=r(14),p=r(328),v=r(99),g=r(3),m=r(100),y=r(104),x=r(357),_=r(359),b=y.YANGLE,w=Math.PI*b/180,M=1/Math.sin(w),k=Math.cos(w),L=Math.sin(w),A=y.HOVERARROWSIZE,z=y.HOVERTEXTPAD;function S(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}t.hover=function(e,t,r,i){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,function(){!function(e,t,r,i){r||(r="xy");var l=Array.isArray(r)?r:[r],s=e._fullLayout,u=s._plots||[],f=u[r],v=s._has("cartesian");if(f){var y=f.overlays.map(function(e){return e.id});l=l.concat(y)}for(var x=l.length,_=new Array(x),b=new Array(x),w=!1,k=0;k<x;k++){var L=l[k];if(u[L])w=!0,_[k]=u[L].xaxis,b[k]=u[L].yaxis;else{if(!s[L]||!s[L]._subplot)return void o.warn("Unrecognized subplot: "+L);var A=s[L]._subplot;_[k]=A.xaxis,b[k]=A.yaxis}}var z=t.hovermode||s.hovermode;z&&!w&&(z="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(z)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return p.unhoverRaw(e,t);var T,I,E,F,H,B,Z,N,V,G,q,U,j,Y=-1===s.hoverdistance?1/0:s.hoverdistance,X=-1===s.spikedistance?1/0:s.spikedistance,W=[],K=[],Q={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(z="array",E=0;E<t.length;E++)(H=e.calcdata[t[E].curveNumber||0])&&(B=H[0].trace,"skip"!==H[0].trace.hoverinfo&&(K.push(H),"h"===B.orientation&&(J=!0)));else{for(F=0;F<e.calcdata.length;F++)H=e.calcdata[F],"skip"!==(B=H[0].trace).hoverinfo&&m.isTraceInSubplots(B,l)&&(K.push(H),"h"===B.orientation&&(J=!0));var $,ee,te=!t.target;if(te)$="xpx"in t?t.xpx:_[0]._length/2,ee="ypx"in t?t.ypx:b[0]._length/2;else{if(!1===c.triggerHandler(e,"plotly_beforehover",t))return;var re=t.target.getBoundingClientRect();$=t.clientX-re.left,ee=t.clientY-re.top,s._calcInverseTransform(e);var ne=o.apply3DTransform(s._invTransform)($,ee);if($=ne[0],ee=ne[1],$<0||$>_[0]._length||ee<0||ee>b[0]._length)return p.unhoverRaw(e,t)}if(t.pointerX=$+_[0]._offset,t.pointerY=ee+b[0]._offset,T="xval"in t?m.flat(l,t.xval):m.p2c(_,$),I="yval"in t?m.flat(l,t.yval):m.p2c(b,ee),!a(T[0])||!a(I[0]))return o.warn("Fx.hover failed",t,e),p.unhoverRaw(e,t)}var ae=1/0;function ie(e,r){for(F=0;F<K.length;F++)if((H=K[F])&&H[0]&&H[0].trace&&!0===(B=H[0].trace).visible&&0!==B._length&&-1===["carpet","contourcarpet"].indexOf(B._module.name)){if("splom"===B.type?Z=l[N=0]:(Z=m.getSubplot(B),N=l.indexOf(Z)),V=z,m.isUnifiedHover(V)&&(V=V.charAt(0)),U={cd:H,trace:B,xa:_[N],ya:b[N],maxHoverDistance:Y,maxSpikeDistance:X,index:!1,distance:Math.min(ae,Y),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:B.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[Z]&&(U.subplot=s[Z]._subplot),s._splomScenes&&s._splomScenes[B.uid]&&(U.scene=s._splomScenes[B.uid]),j=W.length,"array"===V){var n=t[F];"pointNumber"in n?(U.index=n.pointNumber,V="closest"):(V="","xval"in n&&(G=n.xval,V="x"),"yval"in n&&(q=n.yval,V=V?"closest":"y"))}else void 0!==e&&void 0!==r?(G=e,q=r):(G=T[N],q=I[N]);if(0!==Y)if(B._module&&B._module.hoverPoints){var i=B._module.hoverPoints(U,G,q,V,s._hoverlayer);if(i)for(var c,u=0;u<i.length;u++)c=i[u],a(c.x0)&&a(c.y0)&&W.push(R(c,z))}else o.log("Unrecognized trace type in hover:",B);if("closest"===z&&W.length>j&&(W.splice(0,j),ae=W[0].distance),v&&0!==X&&0===W.length){U.distance=X,U.index=!1;var d=B._module.hoverPoints(U,G,q,"closest",s._hoverlayer);if(d&&(d=d.filter(function(e){return e.spikeDistance<=X})),d&&d.length){var f,p=d.filter(function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap});if(p.length){var g=p[0];a(g.x0)&&a(g.y0)&&(f=le(g),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>f.spikeDistance)&&(Q.vLinePoint=f))}var y=d.filter(function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap});if(y.length){var x=y[0];a(x.x0)&&a(x.y0)&&(f=le(x),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>f.spikeDistance)&&(Q.hLinePoint=f))}}}}}function oe(e,t){for(var r,n=null,a=1/0,i=0;i<e.length;i++)(r=e[i].spikeDistance)<=a&&r<=t&&(n=e[i],a=r);return n}function le(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}ie();var se={fullLayout:s,container:s._hoverlayer,outerContainer:s._paperdiv,event:t},ce=e._spikepoints,ue={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=ue,v&&0!==X&&0!==W.length){var de=W.filter(function(e){return e.ya.showspikes}),fe=oe(de,X);Q.hLinePoint=le(fe);var he=W.filter(function(e){return e.xa.showspikes}),pe=oe(he,X);Q.vLinePoint=le(pe)}if(0===W.length){var ve=p.unhoverRaw(e,t);return!v||null===Q.hLinePoint&&null===Q.vLinePoint||P(ce)&&O(e,Q,se),ve}v&&P(ce)&&O(e,Q,se);if(W.sort(function(e,t){return e.distance-t.distance}),m.isXYhover(V)&&0!==W[0].length&&"splom"!==W[0].trace.type){var ge=W[0],me=ge.cd[ge.index],ye="group"===s.boxmode||"group"===s.violinmode,xe=ge.xVal,_e=ge.xa;"category"===_e.type&&(xe=_e._categoriesMap[xe]),"date"===_e.type&&(xe=_e.d2c(xe)),me&&me.t&&me.t.posLetter===_e._id&&ye&&(xe+=me.t.dPos);var be=ge.yVal;"category"===(_e=ge.ya).type&&(be=_e._categoriesMap[be]),"date"===_e.type&&(be=_e.d2c(be)),me&&me.t&&me.t.posLetter===_e._id&&ye&&(be+=me.t.dPos),ie(xe,be);var we={};W=W.filter(function(e){var t=S(e);if(!we[t])return we[t]=!0,we[t]})}var Me=e._hoverdata,ke=[];for(E=0;E<W.length;E++){var Le=W[E],Ae=m.makeEventData(Le,Le.trace,Le.cd);if(!1!==Le.hovertemplate){var ze=!1;Le.cd[Le.index]&&Le.cd[Le.index].ht&&(ze=Le.cd[Le.index].ht),Le.hovertemplate=ze||Le.trace.hovertemplate||!1}Le.eventData=[Ae],ke.push(Ae)}e._hoverdata=ke;var Se="y"===z&&(K.length>1||W.length>1)||"closest"===z&&J&&W.length>1,Te=h.combine(s.plot_bgcolor||h.background,s.paper_bgcolor),Ce={hovermode:z,rotateLabels:Se,bgColor:Te,container:s._hoverlayer,outerContainer:s._paperdiv,commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance},Ie=C(W,Ce,e);m.isUnifiedHover(z)||(!function(e,t,r){var n,a,i,o,l,s,c,u=0,d=1,f=e.size(),h=new Array(f),p=0;function v(e){var t=e[0],r=e[e.length-1];if(a=t.pmin-t.pos-t.dp+t.size,i=r.pos+r.dp+r.size-t.pmax,a>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=a;n=!1}if(!(i<.01)){if(a<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;n=!1}if(n){var c=0;for(o=0;o<e.length;o++)(s=e[o]).pos+s.dp+s.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos>t.pmax-1&&(s.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if((s=e[o]).pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}e.each(function(e){var n=e[t],a="x"===n._id.charAt(0),i=n.range;0===p&&i&&i[0]>i[1]!==a&&(d=-1),h[p++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(a?M:1)/2,pmin:0,pmax:a?r.width:r.height}]}),h.sort(function(e,t){return e[0].posref-t[0].posref||d*(t[0].traceIndex-e[0].traceIndex)});for(;!n&&u<=f;){for(u++,n=!0,o=0;o<h.length-1;){var g=h[o],m=h[o+1],y=g[g.length-1],x=m[0];if((a=y.pos+y.dp+y.size-x.pos-x.dp+x.size)>.01&&y.pmin===x.pmin&&y.pmax===x.pmax){for(l=m.length-1;l>=0;l--)m[l].dp+=a;for(g.push.apply(g,m),h.splice(o+1,1),c=0,l=g.length-1;l>=0;l--)c+=g[l].dp;for(i=c/g.length,l=g.length-1;l>=0;l--)g[l].dp-=i;n=!1}else o++}h.forEach(v)}for(o=h.length-1;o>=0;o--){var _=h[o];for(l=_.length-1;l>=0;l--){var b=_[l],w=b.datum;w.offset=b.dp,w.del=b.del}}}(Ie,Se?"xa":"ya",s),D(Ie,Se,s._invScaleX,s._invScaleY));if(t.target&&t.target.tagName){var De=g.getComponentMethod("annotations","hasClickToShow")(e,ke);d(n.select(t.target),De?"pointer":"")}if(!t.target||i||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var a=r[n],i=e._hoverdata[n];if(a.curveNumber!==i.curveNumber||String(a.pointNumber)!==String(i.pointNumber)||String(a.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(e,0,Me))return;Me&&e.emit("plotly_unhover",{event:t,points:Me});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:_,yaxes:b,xvals:T,yvals:I})}(e,t,r,i)})},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var a=e.map(function(e){return{color:e.color||h.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}}),i=n.select(t.container),o=t.outerContainer?n.select(t.outerContainer):i,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||h.background,container:i,outerContainer:o},s=C(a,l,t.gd),c=0,u=0;s.sort(function(e,t){return e.y0-t.y0}).each(function(e,r){var n=e.y0-e.by/2;e.offset=n-5<c?c-n+5:0,c=n+e.by+e.offset,r===t.anchorIndex&&(u=e.offset)}).each(function(e){e.offset-=u});var d=t.gd._fullLayout._invScaleX,f=t.gd._fullLayout._invScaleY;return D(s,l.rotateLabels,d,f),r?s:s.node()};var T=/<extra>([\s\S]*)<\/extra>/;function C(e,t,r){var a=r._fullLayout,i=t.hovermode,c=t.rotateLabels,d=t.bgColor,p=t.container,v=t.outerContainer,g=t.commonLabelOpts||{},w=t.fontFamily||y.HOVERFONT,M=t.fontSize||y.HOVERFONTSIZE,k=e[0],L=k.xa,T=k.ya,C="y"===i.charAt(0)?"yLabel":"xLabel",D=k[C],R=(String(D)||"").split(" ")[0],O=v.node().getBoundingClientRect(),P=O.top,E=O.width,F=O.height,H=void 0!==D&&k.distance<=t.hoverdistance&&("x"===i||"y"===i);if(H){var B,Z,N=!0;for(B=0;B<e.length;B++)if(N&&void 0===e[B].zLabel&&(N=!1),Z=e[B].hoverinfo||e[B].trace.hoverinfo){var V=Array.isArray(Z)?Z:Z.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(i)){H=!1;break}}N&&(H=!1)}var G=p.selectAll("g.axistext").data(H?[0]:[]);function q(e){return e.filter(function(e){return void 0!==e.zLabelVal||(e[C]||"").split(" ")[0]===R})}if(G.enter().append("g").classed("axistext",!0),G.exit().remove(),G.each(function(){var t=n.select(this),s=o.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),c=o.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),d=g.bgcolor||h.defaultLine,p=g.bordercolor||h.contrast(d),v=h.contrast(d),m={family:g.font.family||w,size:g.font.size||M,color:g.font.color||v};s.style({fill:d,stroke:p}),c.text(D).call(f.font,m).call(u.positionText,0,0).call(u.convertToTspans,r),t.attr("transform","");var y,x,_=c.node().getBoundingClientRect();if("x"===i){var b="top"===L.side?"-":"";c.attr("text-anchor","middle").call(u.positionText,0,"top"===L.side?P-_.bottom-A-z:P-_.top+A+z),y=L._offset+(k.x0+k.x1)/2,x=T._offset+("top"===L.side?0:T._length);var S=_.width/2+z;y<S?(y=S,s.attr("d","M-"+(S-A)+",0L-"+(S-2*A)+","+b+A+"H"+(z+_.width/2)+"v"+b+(2*z+_.height)+"H-"+S+"V"+b+A+"Z")):y>a.width-S?(y=a.width-S,s.attr("d","M"+(S-A)+",0L"+S+","+b+A+"v"+b+(2*z+_.height)+"H-"+S+"V"+b+A+"H"+(S-2*A)+"Z")):s.attr("d","M0,0L"+A+","+b+A+"H"+(z+_.width/2)+"v"+b+(2*z+_.height)+"H-"+(z+_.width/2)+"V"+b+A+"H-"+A+"Z")}else{var C,I,R;"right"===T.side?(C="start",I=1,R="",y=L._offset+L._length):(C="end",I=-1,R="-",y=L._offset),x=T._offset+(k.y0+k.y1)/2,c.attr("text-anchor",C),s.attr("d","M0,0L"+R+A+","+A+"V"+(z+_.height/2)+"h"+R+(2*z+_.width)+"V-"+(z+_.height/2)+"H"+R+A+"V-"+A+"Z");var O,E=_.height/2,F=P-_.top-E,H="clip"+a._uid+"commonlabel"+T._id;if(y<_.width+2*z+A){O="M-"+(A+z)+"-"+E+"h-"+(_.width-z)+"V"+E+"h"+(_.width-z)+"Z";var B=_.width-y+z;u.positionText(c,B,F),"end"===C&&c.selectAll("tspan").each(function(){var e=n.select(this),t=f.tester.append("text").text(e.text()).call(f.font,m),r=t.node().getBoundingClientRect();Math.round(r.width)<Math.round(_.width)&&e.attr("x",B-r.width),t.remove()})}else u.positionText(c,I*(z+A),F),O=null;var Z=a._topclips.selectAll("#"+H).data(O?[0]:[]);Z.enter().append("clipPath").attr("id",H).append("path"),Z.exit().remove(),Z.select("path").attr("d",O),f.setClipUrl(c,O?H:null,r)}t.attr("transform",l(y,x)),e=q(e)}),m.isUnifiedHover(i)){if(p.selectAll("g.hovertext").remove(),void 0!==D&&k.distance<=t.hoverdistance&&(e=q(e)),0===e.length)return;var U={showlegend:!0,legend:{title:{text:D,font:a.hoverlabel.font},font:a.hoverlabel.font,bgcolor:a.hoverlabel.bgcolor,bordercolor:a.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:a.legend?a.legend.traceorder:void 0,orientation:"v"}},j={};x(U,j,r._fullData);var Y=j.legend;Y.entries=[];for(var X=0;X<e.length;X++){var W=I(e[X],!0,i,a,D),K=W[0],Q=W[1],J=e[X];J.name=Q,J.text=""!==Q?Q+" : "+K:K;var $=J.cd[J.index];$&&($.mc&&(J.mc=$.mc),$.mcc&&(J.mc=$.mcc),$.mlc&&(J.mlc=$.mlc),$.mlcc&&(J.mlc=$.mlcc),$.mlw&&(J.mlw=$.mlw),$.mrc&&(J.mrc=$.mrc),$.dir&&(J.dir=$.dir)),J._distinct=!0,Y.entries.push([J])}Y.entries.sort(function(e,t){return e[0].trace.index-t[0].trace.index}),Y.layer=p,_(r,Y);var ee=o.mean(e.map(function(e){return(e.y0+e.y1)/2})),te=o.mean(e.map(function(e){return(e.x0+e.x1)/2})),re=p.select("g.legend"),ne=re.node().getBoundingClientRect();te+=L._offset,ee+=T._offset-ne.height/2;var ae=ne.width+2*z;!(te+ae<=E)&&te-ae>=0?te-=ae:te+=2*z;var ie=ne.height+2*z,oe=ee+ie>=F;return ie<=F&&(ee<=P?ee=T._offset+2*z:oe&&(ee=F-ie)),re.attr("transform",l(te,ee)),re}var le=p.selectAll("g.hovertext").data(e,function(e){return S(e)});return le.enter().append("g").classed("hovertext",!0).each(function(){var e=n.select(this);e.append("rect").call(h.fill,h.addOpacity(d,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(f.font,w,M)}),le.exit().remove(),le.each(function(e){var t=n.select(this).attr("transform",""),o=e.color;Array.isArray(o)&&(o=o[e.eventData[0].pointNumber]);var p=e.bgcolor||o,v=h.combine(h.opacity(p)?p:h.defaultLine,d),g=h.combine(h.opacity(o)?o:h.defaultLine,d),m=e.borderColor||h.contrast(v),y=I(e,H,i,a,D,t),x=y[0],_=y[1],k=t.select("text.nums").call(f.font,e.fontFamily||w,e.fontSize||M,e.fontColor||m).text(x).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r),L=t.select("text.name"),S=0,T=0;if(_&&_!==x){L.call(f.font,e.fontFamily||w,e.fontSize||M,g).text(_).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r);var C=L.node().getBoundingClientRect();S=C.width+2*z,T=C.height+2*z}else L.remove(),t.select("rect").remove();t.select("path").style({fill:v,stroke:m});var R,O,B=k.node().getBoundingClientRect(),Z=e.xa._offset+(e.x0+e.x1)/2,N=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),G=Math.abs(e.y1-e.y0),q=B.width+A+z+S;if(e.ty0=P-B.top,e.bx=B.width+2*z,e.by=Math.max(B.height+2*z,T),e.anchor="start",e.txwidth=B.width,e.tx2width=S,e.offset=0,c)e.pos=Z,R=N+G/2+q<=F,O=N-G/2-q>=0,"top"!==e.idealAlign&&R||!O?R?(N+=G/2,e.anchor="start"):e.anchor="middle":(N-=G/2,e.anchor="end");else if(e.pos=N,R=Z+V/2+q<=E,O=Z-V/2-q>=0,"left"!==e.idealAlign&&R||!O)if(R)Z+=V/2,e.anchor="start";else{e.anchor="middle";var U=q/2,j=Z+U-E,Y=Z-U;j>0&&(Z-=j),Y<0&&(Z+=-Y)}else Z-=V/2,e.anchor="end";k.attr("text-anchor",e.anchor),S&&L.attr("text-anchor",e.anchor),t.attr("transform",l(Z,N)+(c?s(b):""))}),le}function I(e,t,r,n,a,i){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),l=E(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[r.charAt(0)+"Label"]===a?s=e[("x"===r.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),i&&""===s&&!e.hovertemplate&&(""===l&&i.remove(),s=l);var c=n._d3locale,u=e.hovertemplate||!1,d=e.hovertemplateLabels||e,f=e.eventData[0]||{};return u&&(s=(s=o.hovertemplateString(u,d,c,f,e.trace._meta)).replace(T,function(t,r){return l=E(r,e.nameLength),""})),[s,l]}function D(e,t,r,a){var i=function(e){return e*r},o=function(e){return e*a};e.each(function(e){var r=n.select(this);if(e.del)return r.remove();var a=r.select("text.nums"),l=e.anchor,s="end"===l?-1:1,c={start:1,end:-1,middle:0}[l],d=c*(A+z),h=d+c*(e.txwidth+z),p=0,v=e.offset,g="middle"===l;g&&(d-=e.tx2width/2,h+=e.txwidth/2+z),t&&(v*=-L,p=e.offset*k),r.select("path").attr("d",g?"M-"+i(e.bx/2+e.tx2width/2)+","+o(v-e.by/2)+"h"+i(e.bx)+"v"+o(e.by)+"h-"+i(e.bx)+"Z":"M0,0L"+i(s*A+p)+","+o(A+v)+"v"+o(e.by/2-A)+"h"+i(s*e.bx)+"v-"+o(e.by)+"H"+i(s*A+p)+"V"+o(v-A)+"Z");var m=p+d,y=v+e.ty0-e.by/2+z,x=e.textAlign||"auto";"auto"!==x&&("left"===x&&"start"!==l?(a.attr("text-anchor","start"),m=g?-e.bx/2-e.tx2width/2+z:-e.bx-z):"right"===x&&"end"!==l&&(a.attr("text-anchor","end"),m=g?e.bx/2-e.tx2width/2-z:e.bx+z)),a.call(u.positionText,i(m),o(y)),e.tx2width&&(r.select("text.name").call(u.positionText,i(h+c*z+p),o(v+e.ty0-e.by/2+z)),r.select("rect").call(f.setRect,i(h+(c-1)*e.tx2width/2+p),o(v-e.by/2-1),i(e.tx2width),o(e.by+2)))})}function R(e,t){var r=e.index,n=e.trace||{},i=e.cd[0],l=e.cd[r]||{};function s(e){return e||a(e)&&0===e}var c=Array.isArray(r)?function(e,t){var a=o.castOption(i,r,e);return s(a)?a:o.extractOption({},n,"",t)}:function(e,t){return o.extractOption(l,n,e,t)};function u(t,r,n){var a=c(r,n);s(a)&&(e[t]=a)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===n.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:v.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:v.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var d=v.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+d+" / -"+v.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+d,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var f=v.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+f+" / -"+v.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+f,"y"===t&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===h.indexOf("y")&&(e.yLabel=void 0),-1===h.indexOf("z")&&(e.zLabel=void 0),-1===h.indexOf("text")&&(e.text=void 0),-1===h.indexOf("name")&&(e.name=void 0)),e}function O(e,t,r){var n,a,o=r.container,l=r.fullLayout,s=l._size,c=r.event,u=!!t.hLinePoint,d=!!t.vLinePoint;if(o.selectAll(".spikeline").remove(),d||u){var p=h.combine(l.plot_bgcolor,l.paper_bgcolor);if(u){var g,m,y=t.hLinePoint;n=y&&y.xa,"cursor"===(a=y&&y.ya).spikesnap?(g=c.pointerX,m=c.pointerY):(g=n._offset+y.x,m=a._offset+y.y);var x,_,b=i.readability(y.color,p)<1.5?h.contrast(p):y.color,w=a.spikemode,M=a.spikethickness,k=a.spikecolor||b,L=v.getPxPosition(e,a);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(x=L,_=g),-1!==w.indexOf("across")){var A=a._counterDomainMin,z=a._counterDomainMax;"free"===a.anchor&&(A=Math.min(A,a.position),z=Math.max(z,a.position)),x=s.l+A*s.w,_=s.l+z*s.w}o.insert("line",":first-child").attr({x1:x,x2:_,y1:m,y2:m,"stroke-width":M,stroke:k,"stroke-dasharray":f.dashStyle(a.spikedash,M)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:x,x2:_,y1:m,y2:m,"stroke-width":M+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:L+("right"!==a.side?M:-M),cy:m,r:M,fill:k}).classed("spikeline",!0)}if(d){var S,T,C=t.vLinePoint;n=C&&C.xa,a=C&&C.ya,"cursor"===n.spikesnap?(S=c.pointerX,T=c.pointerY):(S=n._offset+C.x,T=a._offset+C.y);var I,D,R=i.readability(C.color,p)<1.5?h.contrast(p):C.color,O=n.spikemode,P=n.spikethickness,E=n.spikecolor||R,F=v.getPxPosition(e,n);if(-1!==O.indexOf("toaxis")||-1!==O.indexOf("across")){if(-1!==O.indexOf("toaxis")&&(I=F,D=T),-1!==O.indexOf("across")){var H=n._counterDomainMin,B=n._counterDomainMax;"free"===n.anchor&&(H=Math.min(H,n.position),B=Math.max(B,n.position)),I=s.t+(1-B)*s.h,D=s.t+(1-H)*s.h}o.insert("line",":first-child").attr({x1:S,x2:S,y1:I,y2:D,"stroke-width":P,stroke:E,"stroke-dasharray":f.dashStyle(n.spikedash,P)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:S,x2:S,y1:I,y2:D,"stroke-width":P+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==O.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:S,cy:F-("top"!==n.side?P:-P),r:P,fill:E}).classed("spikeline",!0)}}}function P(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function E(e,t){return u.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},344:function(e,t,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},345:function(e,t,r){"use strict";var n=r(342);e.exports=n&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},346:function(e,t,r){"use strict";var n=r(0),a=r(102);e.exports=function(e,t,r){function i(r,i){return void 0!==t[r]?t[r]:n.coerce(e,t,a,r,i)}var o,l=i("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?o="closest":(t._isHoriz=function(e,t){for(var r=t._scatterStackOpts||{},n=0;n<e.length;n++){var a=e[n],i=a.xaxis+a.yaxis,o=r[i]||{},l=o[a.stackgroup]||{};if("h"!==a.orientation&&"h"!==l.orientation)return!1}return!0}(r,t),o=t._isHoriz?"y":"x"):o="closest",i("hovermode",o)}},347:function(e,t,r){"use strict";var n=r(28).FROM_BL;e.exports=function(e,t,r){void 0===r&&(r=n[e.constraintoward||"center"]);var a=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=a[0]+(a[1]-a[0])*r;e.range=e._input.range=[e.l2r(i+(a[0]-i)*t),e.l2r(i+(a[1]-i)*t)],e.setScale()}},348:function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(57),o=r(0),l=r(338),s=r(14),c=r(38),u=r(111),d=r(387),f=r(99),h=r(28),p=r(341),v=p.enforce,g=p.clean,m=r(107).doAutoRange,y="start",x="middle",_="end";function b(e,t,r){for(var n=0;n<r.length;n++){var a=r[n][0],i=r[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&(i[0]<t[1]&&i[1]>t[0]))return!0}return!1}function w(e){var r,a,l,u,p,v,g=e._fullLayout,m=g._size,y=m.p,x=f.list(e,"",!0);if(g._paperdiv.style({width:e._context.responsive&&g.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":g.width+"px",height:e._context.responsive&&g.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(c.setSize,g.width,g.height),e._context.setBackground(e,g.paper_bgcolor),t.drawMainTitle(e),d.manage(e),!g._has("cartesian"))return i.previousPromises(e);function _(e,t,r){var n=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===r?t._offset-y-n:t._offset+t._length+y+n:m.t+m.h*(1-(e.position||0))+n%1:t?"right"===r?t._offset+t._length+y+n:t._offset-y-n:m.l+m.w*(e.position||0)+n%1}for(r=0;r<x.length;r++){var w=(u=x[r])._anchorAxis;u._linepositions={},u._lw=c.crispRound(e,u.linewidth,1),u._mainLinePosition=_(u,w,u.side),u._mainMirrorPosition=u.mirror&&w?_(u,w,h.OPPOSITE_SIDE[u.side]):null}var k=[],A=[],z=[],S=1===s.opacity(g.paper_bgcolor)&&1===s.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(a in g._plots)if((l=g._plots[a]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var T=l.xaxis.domain,C=l.yaxis.domain,I=l.plotgroup;if(b(T,C,z)){var D=I.node(),R=l.bg=o.ensureSingle(I,"rect","bg");D.insertBefore(R.node(),D.childNodes[0]),A.push(a)}else I.select("rect.bg").remove(),z.push([T,C]),S||(k.push(a),A.push(a))}var O,P,E,F,H,B,Z,N,V,G,q,U,j,Y=g._bgLayer.selectAll(".bg").data(k);for(Y.enter().append("rect").classed("bg",!0),Y.exit().remove(),Y.each(function(e){g._plots[e].bg=n.select(this)}),r=0;r<A.length;r++)l=g._plots[A[r]],p=l.xaxis,v=l.yaxis,l.bg&&void 0!==p._offset&&void 0!==v._offset&&l.bg.call(c.setRect,p._offset-y,v._offset-y,p._length+2*y,v._length+2*y).call(s.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(a in g._plots){l=g._plots[a],p=l.xaxis,v=l.yaxis;var X,W,K=l.clipId="clip"+g._uid+a+"plot",Q=o.ensureSingleById(g._clips,"clipPath",K,function(e){e.classed("plotclip",!0).append("rect")});l.clipRect=Q.select("rect").attr({width:p._length,height:v._length}),c.setTranslate(l.plot,p._offset,v._offset),l._hasClipOnAxisFalse?(X=null,W=K):(X=K,W=null),c.setClipUrl(l.plot,X,e),l.layerClipId=W}function J(e){return"M"+O+","+e+"H"+P}function $(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+N+"V"+Z}function te(e){return"M"+e+","+v._offset+"v"+v._length}function re(e,t,r){if(!e.showline||a!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var n=t(e._mainLinePosition);return e.mirror&&(n+=t(e._mainMirrorPosition)),n}for(a in g._plots){l=g._plots[a],p=l.xaxis,v=l.yaxis;var ne="M0,0";M(p,a)&&(H=L(p,"left",v,x),O=p._offset-(H?y+H:0),B=L(p,"right",v,x),P=p._offset+p._length+(B?y+B:0),E=_(p,v,"bottom"),F=_(p,v,"top"),!(j=!p._anchorAxis||a!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[a]=[E,F]),ne=re(p,J,$),j&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(ne+=J(E)+J(F)),l.xlines.style("stroke-width",p._lw+"px").call(s.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",ne);var ae="M0,0";M(v,a)&&(q=L(v,"bottom",p,x),Z=v._offset+v._length+(q?y:0),U=L(v,"top",p,x),N=v._offset-(U?y:0),V=_(v,p,"left"),G=_(v,p,"right"),!(j=!v._anchorAxis||a!==v._mainSubplot)||"allticks"!==v.mirror&&"all"!==v.mirror||(v._linepositions[a]=[V,G]),ae=re(v,ee,te),j&&v.showline&&("all"===v.mirror||"allticks"===v.mirror)&&(ae+=ee(V)+ee(G)),l.ylines.style("stroke-width",v._lw+"px").call(s.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ae)}return f.makeClipPaths(e),i.previousPromises(e)}function M(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function k(e,t,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var n=r._anchorAxis;if(!n)return!1;var a=h.FROM_BL[t];return r.side===t?n.domain[a]===e.domain[a]:r.mirror&&n.domain[1-a]===e.domain[1-a]}function L(e,t,r,n){if(k(e,t,r))return r._lw;for(var a=0;a<n.length;a++){var i=n[a];if(i._mainAxis===r._mainAxis&&k(e,t,i))return i._lw}return 0}t.layoutStyles=function(e){return o.syncOrAsync([i.doAutoMargin,w],e)},t.drawMainTitle=function(e){var t=e._fullLayout,r=function(e){var t=e.title,r=x;o.isRightAnchor(t)?r=_:o.isLeftAnchor(t)&&(r=y);return r}(t),n=function(e){var t=e.title,r="0em";o.isTopAnchor(t)?r=h.CAP_SHIFT+"em":o.isMiddleAnchor(t)&&(r=h.MID_SHIFT+"em");return r}(t);u.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:function(e,t){var r=e.title,n=e._size,a=0;t===y?a=r.pad.l:t===_&&(a=-r.pad.r);switch(r.xref){case"paper":return n.l+n.w*r.x+a;case"container":default:return e.width*r.x+a}}(t,r),y:function(e,t){var r=e.title,n=e._size,a=0;"0em"!==t&&t?t===h.CAP_SHIFT+"em"&&(a=r.pad.t):a=-r.pad.b;if("auto"===r.y)return n.t/2;switch(r.yref){case"paper":return n.t+n.h-n.h*r.y+a;case"container":default:return e.height-e.height*r.y+a}}(t,n),"text-anchor":r,dy:n}})},t.doTraceStyle=function(e){var r,n=e.calcdata,o=[];for(r=0;r<n.length;r++){var s=n[r],c=s[0]||{},u=c.trace||{},d=u._module||{},f=d.arraysToCalcdata;f&&f(s,u);var h=d.editStyle;h&&o.push({fn:h,cd0:c})}if(o.length){for(r=0;r<o.length;r++){var p=o[r];p.fn(e,p.cd0)}l(e),t.redrawReglTraces(e)}return i.style(e),a.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doColorBars=function(e){return a.getComponentMethod("colorbar","draw")(e),i.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,a.call("plot",e,"",t)},t.doLegend=function(e){return a.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doTicksRelayout=function(e){return f.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),i.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var n=t._basePlotModules[r].updateFx;n&&n(e)}return i.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,r=t._subplots.gl3d,n=0;n<r.length;n++){var a=t[r[n]];a._scene.setViewport(a)}},t.drawData=function(e){var r=e._fullLayout;l(e);for(var n=r._basePlotModules,o=0;o<n.length;o++)n[o].plot(e);return t.redrawReglTraces(e),i.style(e),a.getComponentMethod("shapes","draw")(e),a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("images","draw")(e),r._replotting=!1,i.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r,n,a=e._fullData,i=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),r=0;r<a.length;r++){var s=a[r];!0===s.visible&&0!==s._length&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?o.pushUnique(i,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&o.pushUnique(l,s.subplot))}for(r=0;r<i.length;r++)(n=t._plots[i[r]])._scene&&n._scene.draw();for(r=0;r<l.length;r++)(n=t[l[r]]._subplot)._scene&&n._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,r=f.list(e,"",!0),n={},a=0;a<r.length;a++)if(!n[(t=r[a])._id]){n[t._id]=1,g(e,t),m(e,t);var i=t._matchGroup;if(i)for(var o in i){var l=f.getFromId(e,o);m(e,l,t.range),n[o]=1}}v(e)},t.finalDraw=function(e){a.getComponentMethod("rangeslider","draw")(e),a.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){a.getComponentMethod("legend","draw")(e),a.getComponentMethod("rangeselector","draw")(e),a.getComponentMethod("sliders","draw")(e),a.getComponentMethod("updatemenus","draw")(e),a.getComponentMethod("colorbar","draw")(e)}},349:function(e,t,r){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},350:function(e,t,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},352:function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(a(r))for(l=Array.prototype.slice.call(arguments,1),o=(c=r.slice()).length,s=0;s<o;s++)c[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var r,i,o,l;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(l=o;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){i=l;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},353:function(e,t,r){"use strict";var n=r(14),a=r(337).castOption;e.exports=function(e,t,r){var i=r.marker.line,o=a(i.color,t.pts)||n.defaultLine,l=a(i.width,t.pts)||0;e.style("stroke-width",l).call(n.fill,t.color).call(n.stroke,o)}},354:function(e,t,r){"use strict";var n=r(328),a=r(334).drawMode,i=r(3),o=r(339),l=o.i000,s=o.i090,c=o.i180,u=o.i270,d=r(103).clearOutlineControllers,f=r(335),h=f.pointsShapeRectangle,p=f.pointsShapeEllipse,v=f.writePaths,g=r(355);e.exports=function e(t,r,o,f){f||(f=0);var m=o.gd;function y(){e(t,r,o,f++),p(t[0])&&x({redrawing:!0})}function x(e){o.isActiveShape=!1;var t=g(r,o);Object.keys(t).length&&i.call((e||{}).redrawing?"relayout":"_guiRelayout",m,t)}var _,b,w,M,k,L=o.isActiveShape,A=m._fullLayout._zoomlayer,z=o.dragmode;(a(z)?m._fullLayout._drawing=!0:m._fullLayout._activeShapeIndex>=0&&d(m),r.attr("d",v(t)),L&&!f)&&(k=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e[r]=[];for(var a=0;a<n.length;a++){e[r][a]=[];for(var i=0;i<n[a].length;i++)e[r][a][i]=n[a][i]}}return e}([],t),function(e){_=[];for(var r=0;r<t.length;r++){var a=t[r],i=h(a),o=!i&&p(a);_[r]=[];for(var d=0;d<a.length;d++)if("Z"!==a[d][0]&&(!o||d===l||d===s||d===c||d===u)){var f=a[d][1],v=a[d][2],g=e.append("circle").classed("cursor-grab",!0).attr("data-i",r).attr("data-j",d).attr("cx",f).attr("cy",v).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});_[r][d]={element:g.node(),gd:m,prepFn:S,doneFn:C,clickFn:I},n.init(_[r][d])}}}(A.append("g").attr("class","outline-controllers")),function(){if(b=[],!t.length)return;b[0]={element:r[0][0],gd:m,prepFn:R,doneFn:O},n.init(b[0])}());function S(e){w=+e.srcElement.getAttribute("data-i"),M=+e.srcElement.getAttribute("data-j"),_[w][M].moveFn=T}function T(e,r){if(t.length){var n=k[w][M][1],a=k[w][M][2],i=t[w],o=i.length;if(h(i)){for(var l=0;l<o;l++)if(l!==M){var s=i[l];s[1]===i[M][1]&&(s[1]=n+e),s[2]===i[M][2]&&(s[2]=a+r)}if(i[M][1]=n+e,i[M][2]=a+r,!h(i))for(var c=0;c<o;c++)for(var u=0;u<i[c].length;u++)i[c][u]=k[w][c][u]}else i[M][1]=n+e,i[M][2]=a+r;y()}}function C(){x()}function I(e,r){if(2===e){w=+r.srcElement.getAttribute("data-i"),M=+r.srcElement.getAttribute("data-j");var n=t[w];h(n)||p(n)||function(){if(t.length&&t[w]&&t[w].length){for(var e=[],r=0;r<t[w].length;r++)r!==M&&e.push(t[w][r]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===M&&(e[0][0]="M"),t[w]=e,y(),x())}}()}}function D(e,r){!function(e,r){if(t.length)for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)for(var i=0;i+2<t[n][a].length;i+=2)t[n][a][i+1]=k[n][a][i+1]+e,t[n][a][i+2]=k[n][a][i+2]+r}(e,r),y()}function R(e){(w=+e.srcElement.getAttribute("data-i"))||(w=0),b[w].moveFn=D}function O(){x()}}},355:function(e,t,r){"use strict";var n=r(334),a=n.drawMode,i=n.openMode,o=r(339),l=o.i000,s=o.i090,c=o.i180,u=o.i270,d=o.cos45,f=o.sin45,h=r(340),p=h.p2r,v=h.r2p,g=r(103).clearSelect,m=r(335),y=m.readPaths,x=m.writePaths,_=m.ellipseOver;e.exports=function(e,t){if(e.length){var r=e[0][0];if(r){var n=r.getAttribute("d"),o=t.gd,h=o._fullLayout.newshape,m=t.plotinfo,b=m.xaxis,w=m.yaxis,M=!!m.domain||!m.xaxis,k=!!m.domain||!m.yaxis,L=t.isActiveShape,A=t.dragmode,z=(o.layout||{}).shapes||[];if(!a(A)&&void 0!==L){var S=o._fullLayout._activeShapeIndex;if(S<z.length)switch(o._fullLayout.shapes[S].type){case"rect":A="drawrect";break;case"circle":A="drawcircle";break;case"line":A="drawline";break;case"path":var T=z[S].path||"";A="Z"===T[T.length-1]?"drawclosedpath":"drawopenpath"}}var C,I=i(A),D=y(n,o,m,L),R={editable:!0,xref:M?"paper":b._id,yref:k?"paper":w._id,layer:h.layer,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};if(I||(R.fillcolor=h.fillcolor,R.fillrule=h.fillrule),1===D.length&&(C=D[0]),C&&"drawrect"===A)R.type="rect",R.x0=C[0][1],R.y0=C[0][2],R.x1=C[2][1],R.y1=C[2][2];else if(C&&"drawline"===A)R.type="line",R.x0=C[0][1],R.y0=C[0][2],R.x1=C[1][1],R.y1=C[1][2];else if(C&&"drawcircle"===A){R.type="circle";var O=C[l][1],P=C[s][1],E=C[c][1],F=C[u][1],H=C[l][2],B=C[s][2],Z=C[c][2],N=C[u][2],V=m.xaxis&&("date"===m.xaxis.type||"log"===m.xaxis.type),G=m.yaxis&&("date"===m.yaxis.type||"log"===m.yaxis.type);V&&(O=v(m.xaxis,O),P=v(m.xaxis,P),E=v(m.xaxis,E),F=v(m.xaxis,F)),G&&(H=v(m.yaxis,H),B=v(m.yaxis,B),Z=v(m.yaxis,Z),N=v(m.yaxis,N));var q=(P+F)/2,U=(H+Z)/2,j=_({x0:q,y0:U,x1:q+(F-P+E-O)/2*d,y1:U+(N-B+Z-H)/2*f});V&&(j.x0=p(m.xaxis,j.x0),j.x1=p(m.xaxis,j.x1)),G&&(j.y0=p(m.yaxis,j.y0),j.y1=p(m.yaxis,j.y1)),R.x0=j.x0,R.y0=j.y0,R.x1=j.x1,R.y1=j.y1}else R.type="path",b&&w&&function(e,t,r){var n="date"===t.type,a="date"===r.type;if(!n&&!a)return e;for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var l=0;l+2<e[i][o].length;l+=2)n&&(e[i][o][l+1]=e[i][o][l+1].replace(" ","_")),a&&(e[i][o][l+2]=e[i][o][l+2].replace(" ","_"))}(D,b,w),R.path=x(D),C=null;g(o);for(var Y=t.editHelpers,X=(Y||{}).modifyItem,W=[],K=0;K<z.length;K++){var Q=o._fullLayout.shapes[K];if(W[K]=Q._input,void 0!==L&&K===o._fullLayout._activeShapeIndex){var J=R;switch(Q.type){case"line":case"rect":case"circle":X("x0",J.x0),X("x1",J.x1),X("y0",J.y0),X("y1",J.y1);break;case"path":X("path",J.path)}}}return void 0===L?(W.push(R),W):Y?Y.getUpdateObj():{}}}}},356:function(e,t,r){"use strict";(function(t){var n,a=r(342);n="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:a,e.exports=n}).call(t,r(10))},357:function(e,t,r){"use strict";var n=r(3),a=r(0),i=r(17),o=r(358),l=r(41),s=r(332);e.exports=function(e,t,r){for(var c=e.legend||{},u=0,d=!1,f="normal",h=0;h<r.length;h++){var p=r[h];p.visible&&((p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&!1===p._module.attributes.showlegend.dflt))&&(u++,p.showlegend&&(d=!0,(n.traceIs(p,"pie-like")||!0===p._input.showlegend)&&u++)),(n.traceIs(p,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(f=s.isGrouped({traceorder:f})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(f=s.isReversed({traceorder:f})?"reversed+grouped":"grouped"))}var v=a.coerce(e,t,l,"showlegend",d&&u>1);if(!1!==v||c.uirevision){var g=i.newContainer(t,"legend");if(b("uirevision",t.uirevision),!1!==v){b("bgcolor",t.paper_bgcolor),b("bordercolor"),b("borderwidth"),a.coerceFont(b,"font",t.font);var m,y,x,_=b("orientation");"h"===_?(m=0,n.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(y=1.1,x="bottom"):(y=-.1,x="top")):(m=1.02,y=1,x="auto"),b("traceorder",f),s.isGrouped(t.legend)&&b("tracegroupgap"),b("itemsizing"),b("itemwidth"),b("itemclick"),b("itemdoubleclick"),b("x",m),b("xanchor"),b("y",y),b("yanchor",x),b("valign"),a.noneOrAll(c,g,["x","y"]),b("title.text")&&(b("title.side","h"===_?"left":"top"),a.coerceFont(b,"title.font",t.font))}}function b(e,t){return a.coerce(c,g,o,e,t)}}},358:function(e,t,r){"use strict";var n=r(11),a=r(40);e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:n({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:n({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},359:function(e,t,r){"use strict";var n=r(4),a=r(0),i=r(57),o=r(3),l=r(331),s=r(328),c=r(38),u=r(14),d=r(39),f=r(368),h=r(344),p=r(28),v=p.LINE_SPACING,g=p.FROM_TL,m=p.FROM_BR,y=r(369),x=r(360),_=r(332);function b(e,t,r,n,a){var i=r.data()[0][0].trace,s={event:a,node:r.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(i._group&&(s.group=i._group),o.traceIs(i,"pie-like")&&(s.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",s))if(1===n)t._clickTimeout=setTimeout(function(){f(r,e,n)},e._context.doubleClickDelay);else if(2===n){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",s)&&f(r,e,n)}}function w(e,t,r){var n,i=e.data()[0][0],l=i.trace,s=o.traceIs(l,"pie-like"),u=l.index,f=r._main&&t._context.edits.legendText&&!s,p=r._maxNameLength;r.entries?n=i.text:(n=s?i.label:l.name,l._meta&&(n=a.templateString(n,l._meta)));var v=a.ensureSingle(e,"text","legendtext");v.attr("text-anchor","start").call(c.font,r.font).text(f?M(n,p):n);var g=r.itemwidth+2*h.itemGap;d.positionText(v,g,0),f?v.call(d.makeEditable,{gd:t,text:n}).call(L,e,t,r).on("edit",function(n){this.text(M(n,p)).call(L,e,t,r);var l=i.trace._fullInput||{},s={};if(o.hasTransform(l,"groupby")){var c=o.getTransformIndices(l,"groupby"),d=c[c.length-1],f=a.keyedContainer(l,"transforms["+d+"].styles","target","value.name");f.set(i.trace._group,n),s=f.constructUpdate()}else s.name=n;return o.call("_guiRestyle",t,s,u)}):L(v,e,t,r)}function M(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;for(var n=r-(e=e||"").length;n>0;n--)e+=" ";return e}function k(e,t){var r,i=t._context.doubleClickDelay,o=1,l=a.ensureSingle(e,"rect","legendtoggle",function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(u.fill,"rgba(0,0,0,0)")});t._context.staticPlot||(l.on("mousedown",function(){(r=(new Date).getTime())-t._legendMouseDownTime<i?o+=1:(o=1,t._legendMouseDownTime=r)}),l.on("mouseup",function(){if(!t._dragged&&!t._editing){var r=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>i&&(o=Math.max(o-1,1)),b(t,r,e,o,n.event)}}))}function L(e,t,r,n){n._main||e.attr("data-notex",!0),d.convertToTspans(e,r,function(){!function(e,t,r){var n=e.data()[0][0];if(r._main&&n&&!n.trace.showlegend)return void e.remove();var a=e.select("g[class*=math-group]"),i=a.node();r||(r=t._fullLayout.legend);var o,l,s=r.borderwidth,u=(n?r:r.title).font.size*v;if(i){var f=c.bBox(i);o=f.height,l=f.width,n?c.setTranslate(a,0,.25*o):c.setTranslate(a,s,.75*o+s)}else{var p=e.select(n?".legendtext":".legendtitletext"),g=d.lineCount(p),m=p.node();o=u*g,l=m?c.bBox(m).width:0;var y=u*((g-1)/2-.3);if(n){var x=r.itemwidth+2*h.itemGap;d.positionText(p,x,-y)}else d.positionText(p,h.titlePad+s,u+s)}n?(n.lineHeight=u,n.height=Math.max(o,16)+3,n.width=l):(r._titleWidth=l,r._titleHeight=o)}(t,r,n)})}function A(e){return a.isRightAnchor(e)?"right":a.isCenterAnchor(e)?"center":"left"}function z(e){return a.isBottomAnchor(e)?"bottom":a.isMiddleAnchor(e)?"middle":"top"}e.exports=function(e,t){var r,l=e._fullLayout,d="legend"+l._uid;if(t?(r=t.layer,d+="-hover"):((t=l.legend||{})._main=!0,r=l._infolayer),r){var f;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;f=l.showlegend&&y(e.calcdata,t)}else{if(!t.entries)return;f=y(t.entries,t)}var p=l.hiddenlabels||[];if(t._main&&(!l.showlegend||!f.length))return r.selectAll(".legend").remove(),l._topdefs.select("#"+d).remove(),i.autoMargin(e,"legend");var v=a.ensureSingle(r,"g","legend",function(e){t._main&&e.attr("pointer-events","all")}),M=a.ensureSingleById(l._topdefs,"clipPath",d,function(e){e.append("rect")}),S=a.ensureSingle(v,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});S.call(u.stroke,t.bordercolor).call(u.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var T=a.ensureSingle(v,"g","scrollbox"),C=t.title;if(t._titleWidth=0,t._titleHeight=0,C.text){var I=a.ensureSingle(T,"text","legendtitletext");I.attr("text-anchor","start").call(c.font,C.font).text(C.text),L(I,T,e,t)}else T.selectAll(".legendtitletext").remove();var D=a.ensureSingle(v,"rect","scrollbar",function(e){e.attr(h.scrollBarEnterAttrs).call(u.fill,h.scrollBarColor)}),R=T.selectAll("g.groups").data(f);R.enter().append("g").attr("class","groups"),R.exit().remove();var O=R.selectAll("g.traces").data(a.identity);O.enter().append("g").attr("class","traces"),O.exit().remove(),O.style("opacity",function(e){var t=e[0].trace;return o.traceIs(t,"pie-like")?-1!==p.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){n.select(this).call(w,e,t)}).call(x,e,t).each(function(){t._main&&n.select(this).call(k,e)}),a.syncOrAsync([i.previousPromises,function(){return function(e,t,r,a){var i=e._fullLayout;a||(a=i.legend);var o=i._size,l=_.isVertical(a),s=_.isGrouped(a),u=a.borderwidth,d=2*u,f=h.itemGap,p=a.itemwidth+2*f,v=2*(u+f),g=z(a),m=a.y<0||0===a.y&&"top"===g,y=a.y>1||1===a.y&&"bottom"===g;a._maxHeight=Math.max(m||y?i.height/2:o.h,30);var x=0;a._width=0,a._height=0;var b=function(e){var t=0,r=0,n=e.title.side;n&&(-1!==n.indexOf("left")&&(t=e._titleWidth),-1!==n.indexOf("top")&&(r=e._titleHeight));return[t,r]}(a);if(l)r.each(function(e){var t=e[0].height;c.setTranslate(this,u+b[0],u+b[1]+a._height+t/2+f),a._height+=t,a._width=Math.max(a._width,e[0].width)}),x=p+a._width,a._width+=f+p+d,a._height+=v,s&&(t.each(function(e,t){c.setTranslate(this,0,t*a.tracegroupgap)}),a._height+=(a._lgroupsLength-1)*a.tracegroupgap);else{var w=A(a),M=a.x<0||0===a.x&&"right"===w,k=a.x>1||1===a.x&&"left"===w,L=y||m,S=i.width/2;a._maxWidth=Math.max(M?L&&"left"===w?o.l+o.w:S:k?L&&"right"===w?o.r+o.w:S:o.w,2*p);var T=0,C=0;r.each(function(e){var t=e[0].width+p;T=Math.max(T,t),C+=t}),x=null;var I=0;if(s){var D=0,R=0,O=0;t.each(function(){var e=0,t=0;n.select(this).selectAll("g.traces").each(function(r){var n=r[0].height;c.setTranslate(this,b[0],b[1]+u+f+n/2+t),t+=n,e=Math.max(e,p+r[0].width)}),D=Math.max(D,t);var r=e+f;r+u+R>a._maxWidth&&(I=Math.max(I,R),R=0,O+=D+a.tracegroupgap,D=t),c.setTranslate(this,R,O),R+=r}),a._width=Math.max(I,R)+u,a._height=O+D+v}else{var P=r.size(),E=C+d+(P-1)*f<a._maxWidth,F=0,H=0,B=0,Z=0;r.each(function(e){var t=e[0].height,r=p+e[0].width,n=(E?r:T)+f;n+u+H-f>=a._maxWidth&&(I=Math.max(I,Z),H=0,B+=F,a._height+=F,F=0),c.setTranslate(this,b[0]+u+H,b[1]+u+B+t/2+f),Z=H+r+f,H+=n,F=Math.max(F,t)}),E?(a._width=H+d,a._height=F+v):(a._width=Math.max(I,Z)+d,a._height+=F+v)}}a._width=Math.ceil(Math.max(a._width+b[0],a._titleWidth+2*(u+h.titlePad))),a._height=Math.ceil(Math.max(a._height+b[1],a._titleHeight+2*(u+h.itemGap))),a._effHeight=Math.min(a._height,a._maxHeight);var N=e._context.edits,V=N.legendText||N.legendPosition;r.each(function(e){var t=n.select(this).select(".legendtoggle"),r=e[0].height,a=V?p:x||p+e[0].width;l||(a+=f/2),c.setRect(t,0,-r/2,a,r)})}(e,R,O,t)},function(){if(!t._main||!function(e){var t=e._fullLayout.legend,r=A(t),n=z(t);return i.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*g[r],r:t._width*m[r],b:t._effHeight*m[n],t:t._effHeight*g[n]})}(e)){var u,f,p,y,x=l._size,_=t.borderwidth,w=x.l+x.w*t.x-g[A(t)]*t._width,k=x.t+x.h*(1-t.y)-g[z(t)]*t._effHeight;if(t._main&&l.margin.autoexpand){var L=w,C=k;w=a.constrain(w,0,l.width-t._width),k=a.constrain(k,0,l.height-t._effHeight),w!==L&&a.log("Constrain legend.x to make legend fit inside graph"),k!==C&&a.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&c.setTranslate(v,w,k),D.on(".drag",null),v.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var I=t._effHeight;t._main||(I=t._height),S.attr({width:t._width-_,height:I-_,x:_/2,y:_/2}),c.setTranslate(T,0,0),M.select("rect").attr({width:t._width-2*_,height:I-2*_,x:_,y:_}),c.setClipUrl(T,d,e),c.setRect(D,0,0,0,0),delete t._scrollY}else{var R,O,P,E=Math.max(h.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),F=t._effHeight-E-2*h.scrollBarMargin,H=t._height-t._effHeight,B=F/H,Z=Math.min(t._scrollY||0,H);S.attr({width:t._width-2*_+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-_,x:_/2,y:_/2}),M.select("rect").attr({width:t._width-2*_+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-2*_,x:_,y:_+Z}),c.setClipUrl(T,d,e),G(Z,E,B),v.on("wheel",function(){G(Z=a.constrain(t._scrollY+n.event.deltaY/F*H,0,H),E,B),0!==Z&&Z!==H&&n.event.preventDefault()});var N=n.behavior.drag().on("dragstart",function(){var e=n.event.sourceEvent;R="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,P=Z}).on("drag",function(){var e=n.event.sourceEvent;2===e.buttons||e.ctrlKey||(O="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,G(Z=function(e,t,r){var n=(r-t)/B+e;return a.constrain(n,0,H)}(P,R,O),E,B))});D.call(N);var V=n.behavior.drag().on("dragstart",function(){var e=n.event.sourceEvent;"touchstart"===e.type&&(R=e.changedTouches[0].clientY,P=Z)}).on("drag",function(){var e=n.event.sourceEvent;"touchmove"===e.type&&(O=e.changedTouches[0].clientY,G(Z=function(e,t,r){var n=(t-r)/B+e;return a.constrain(n,0,H)}(P,R,O),E,B))});T.call(V)}if(e._context.edits.legendPosition)v.classed("cursor-move",!0),s.init({element:v.node(),gd:e,prepFn:function(){var e=c.getTranslate(v);p=e.x,y=e.y},moveFn:function(e,r){var n=p+e,a=y+r;c.setTranslate(v,n,a),u=s.align(n,0,x.l,x.l+x.w,t.xanchor),f=s.align(a,0,x.t+x.h,x.t,t.yanchor)},doneFn:function(){void 0!==u&&void 0!==f&&o.call("_guiRelayout",e,{"legend.x":u,"legend.y":f})},clickFn:function(t,n){var a=r.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return n.clientX>=e.left&&n.clientX<=e.right&&n.clientY>=e.top&&n.clientY<=e.bottom});a.size()>0&&b(e,v,a,t,n)}})}function G(r,n,a){t._scrollY=e._fullLayout.legend._scrollY=r,c.setTranslate(T,0,-r),c.setRect(D,t._width,h.scrollBarMargin+r*a,h.scrollBarWidth,n),M.select("rect").attr("y",_+r)}}],e)}}},360:function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(0),o=i.strTranslate,l=r(38),s=r(14),c=r(29).extractOpts,u=r(101),d=r(353),f=r(337).castOption,h=r(344),p=12,v=5,g=2,m=10,y=5;function x(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}e.exports=function(e,t,r){var _=t._fullLayout;r||(r=_.legend);var b="constant"===r.itemsizing,w=r.itemwidth,M=(w+2*h.itemGap)/2,k=o(M,0),L=function(e,t,r,n){var a;if(e+1)a=e;else{if(!(t&&t.width>0))return 0;a=t.width}return b?n:Math.min(a,r)};function A(e,t,r){var i=e[0].trace,o=i.marker||{},l=o.line||{},c=r?i.visible&&i.type===r:a.traceIs(i,"bar"),u=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(c?[e]:[]);u.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",k),u.exit().remove(),u.each(function(e){var t=n.select(this),r=e[0],a=L(r.mlw,o.line,y,g);t.style("stroke-width",a+"px").call(s.fill,r.mc||o.color),a&&s.stroke(t,r.mlc||l.color)})}function z(e,t,r){var o=e[0],l=o.trace,s=r?l.visible&&l.type===r:a.traceIs(l,r),c=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(s?[e]:[]);if(c.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",k),c.exit().remove(),c.size()){var u=(l.marker||{}).line,h=L(f(u.width,o.pts),u,y,g),p=i.minExtend(l,{marker:{line:{width:h}}});p.marker.line.color=u.color;var v=i.minExtend(o,{trace:p});d(c,v,p)}}e.each(function(e){var t=n.select(this),a=i.ensureSingle(t,"g","layers");a.style("opacity",e[0].trace.opacity);var l=r.valign,s=e[0].lineHeight,c=e[0].height;if("middle"!==l&&s&&c){var u={top:1,bottom:-1}[l]*(.5*(s-c+3));a.attr("transform",o(0,u))}else a.attr("transform",null);a.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),a.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var d=a.selectAll("g.legendsymbols").data([e]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var r,a=e[0].trace,o=[];if(a.visible)switch(a.type){case"histogram2d":case"heatmap":o=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":o=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":o=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":o=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":o=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":o=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var u=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(o);u.enter().append("path").classed("legend3dandfriends",!0).attr("transform",k).style("stroke-miterlimit",1),u.exit().remove(),u.each(function(e,o){var u,d=n.select(this),f=c(a),h=f.colorscale,p=f.reversescale;if(h){if(!r){var v=h.length;u=0===o?h[p?v-1:0][1]:1===o?h[p?0:v-1][1]:h[Math.floor((v-1)/2)][1]}}else{var g=a.vertexcolor||a.facecolor||a.color;u=i.isArrayOrTypedArray(g)?g[o]||g[0]:g}d.attr("d",e[0]),u?d.call(s.fill,u):d.call(function(e){if(e.size()){var n="legendfill-"+a.uid;l.gradient(e,t,n,x(p,"radial"===r),h,"fill")}})})}).each(function(e){var t=e[0].trace,r="waterfall"===t.type;if(e[0]._distinct&&r){var a=e[0].trace[e[0].dir].marker;return e[0].mc=a.color,e[0].mlw=a.line.width,e[0].mlc=a.line.color,A(e,this,"waterfall")}var i=[];t.visible&&r&&(i=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(i);o.enter().append("path").classed("legendwaterfall",!0).attr("transform",k).style("stroke-miterlimit",1),o.exit().remove(),o.each(function(e){var r=n.select(this),a=t[e[0]].marker,i=L(void 0,a.line,y,g);r.attr("d",e[1]).style("stroke-width",i+"px").call(s.fill,a.color),i&&r.call(s.stroke,a.line.color)})}).each(function(e){A(e,this,"funnel")}).each(function(e){A(e,this)}).each(function(e){var r=e[0].trace,o=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible&&a.traceIs(r,"box-violin")?[e]:[]);o.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",k),o.exit().remove(),o.each(function(){var e=n.select(this);if("all"!==r.boxpoints&&"all"!==r.points||0!==s.opacity(r.fillcolor)||0!==s.opacity((r.line||{}).color)){var a=L(void 0,r.line,y,g);e.style("stroke-width",a+"px").call(s.fill,r.fillcolor),a&&s.stroke(e,r.line.color)}else{var c=i.minExtend(r,{marker:{size:b?p:i.constrain(r.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});o.call(l.pointStyle,c,t)}})}).each(function(e){z(e,this,"funnelarea")}).each(function(e){z(e,this,"pie")}).each(function(e){var r,a,o=e[0],s=o.trace,d=s.visible&&s.fill&&"none"!==s.fill,f=u.hasLines(s),h=s.contours,p=!1,g=!1,y=c(s),_=y.colorscale,b=y.reversescale;if(h){var M=h.coloring;"lines"===M?p=!0:f="none"===M||"heatmap"===M||h.showlines,"constraint"===h.type?d="="!==h._operation:"fill"!==M&&"heatmap"!==M||(g=!0)}var k=u.hasMarkers(s)||u.hasText(s)||!d&&!g?"M5,0":f||p?"M5,-2":"M5,-3",A=n.select(this),z=A.select(".legendfill").selectAll("path").data(d||g?[e]:[]);if(z.enter().append("path").classed("js-fill",!0),z.exit().remove(),z.attr("d",k+"h"+w+"v6h-"+w+"z").call(d?l.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+s.uid;l.gradient(e,t,r,x(b),_,"fill")}}),f||p){var S=L(void 0,s.line,m,v);a=i.minExtend(s,{line:{width:S}}),r=[i.minExtend(o,{trace:a})]}var T=A.select(".legendlines").selectAll("path").data(f||p?[r]:[]);T.enter().append("path").classed("js-line",!0),T.exit().remove(),T.attr("d",k+(p?"l"+w+",0.0001":"h"+w)).call(f?l.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+s.uid;l.lineGroupStyle(e),l.gradient(e,t,r,x(b),_,"stroke")}})}).each(function(e){var r,a,o=e[0],s=o.trace,c=u.hasMarkers(s),d=u.hasText(s),f=u.hasLines(s);function h(e,t,r,n){var a=i.nestedProperty(s,e).get(),o=i.isArrayOrTypedArray(a)&&t?t(a):a;if(b&&o&&void 0!==n&&(o=n),r){if(o<r[0])return r[0];if(o>r[1])return r[1]}return o}function m(e){return o._distinct&&o.index&&e[o.index]?e[o.index]:e[0]}if(c||d||f){var y={},x={};if(c){y.mc=h("marker.color",m),y.mx=h("marker.symbol",m),y.mo=h("marker.opacity",i.mean,[.2,1]),y.mlc=h("marker.line.color",m),y.mlw=h("marker.line.width",i.mean,[0,5],g),x.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var _=h("marker.size",i.mean,[2,16],p);y.ms=_,x.marker.size=_}f&&(x.line={width:h("line.width",m,[0,10],v)}),d&&(y.tx="Aa",y.tp=h("textposition",m),y.ts=10,y.tc=h("textfont.color",m),y.tf=h("textfont.family",m)),r=[i.minExtend(o,y)],(a=i.minExtend(s,x)).selectedpoints=null,a.texttemplate=null}var w=n.select(this).select("g.legendpoints"),M=w.selectAll("path.scatterpts").data(c?r:[]);M.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",k),M.exit().remove(),M.call(l.pointStyle,a,t),c&&(r[0].mrc=3);var L=w.selectAll("g.pointtext").data(d?r:[]);L.enter().append("g").classed("pointtext",!0).append("text").attr("transform",k),L.exit().remove(),L.selectAll("text").call(l.textPointStyle,a,t)}).each(function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",k).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var a=n.select(this),i=t[r?"increasing":"decreasing"],o=L(void 0,i.line,y,g);a.style("stroke-width",o+"px").call(s.fill,i.fillcolor),o&&s.stroke(a,i.line.color)})}).each(function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",k).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var a=n.select(this),i=t[r?"increasing":"decreasing"],o=L(void 0,i.line,y,g);a.style("fill","none").call(l.dashLine,i.line.dash,o),o&&s.stroke(a,i.line.color)})})}},363:function(e,t){var r={left:0,top:0};e.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var a=e.clientX||0,i=e.clientY||0,o=(l=t,l===window||l===document||l===document.body?r:l.getBoundingClientRect());var l;return n[0]=a-o.left,n[1]=i-o.top,n}},364:function(e,t,r){"use strict";e.exports=function(e,t,r,n,a){var i=(e-r)/(n-r),o=i+t/(n-r),l=(i+o)/2;return"left"===a||"bottom"===a?i:"center"===a||"middle"===a?l:"right"===a||"top"===a?o:i<2/3-l?i:o>4/3-l?o:l}},365:function(e,t,r){"use strict";var n=r(0),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,r,i){return e="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:n.constrain(Math.floor(3*t),0,2),a[t][e]}},366:function(e,t,r){"use strict";var n=r(331),a=r(108),i=r(62).getGraphDiv,o=r(104),l=e.exports={};l.wrapped=function(e,t,r){(e=i(e))._fullLayout&&a.clear(e._fullLayout._uid+o.HOVERID),l.raw(e,t,r)},l.raw=function(e,t){var r=e._fullLayout,a=e._hoverdata;t||(t={}),t.target&&!1===n.triggerHandler(e,"plotly_beforehover",t)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&a&&e.emit("plotly_unhover",{event:t,points:a}))}},367:function(e,t,r){"use strict";var n=r(330),a="data-savedcursor";e.exports=function(e,t){var r=e.attr(a);if(t){if(!r){for(var i=(e.attr("class")||"").split(" "),o=0;o<i.length;o++){var l=i[o];0===l.indexOf("cursor-")&&e.attr(a,l.substr(7)).classed(l,!1)}e.attr(a)||e.attr(a,"!!")}n(e,t)}else r&&(e.attr(a,null),"!!"===r?n(e):n(e,r))}},368:function(e,t,r){"use strict";var n=r(0),a=r(3),i=!0;e.exports=function(e,t,r){var o=t._fullLayout;if(!t._dragged&&!t._editing){var l,s=o.legend.itemclick,c=o.legend.itemdoubleclick;if(1===r&&"toggle"===s&&"toggleothers"===c&&i&&t.data&&t._context.showTips?(n.notifier(n._(t,"Double-click on legend to isolate one trace"),"long"),i=!1):i=!1,1===r?l=s:2===r&&(l=c),l){var u,d,f,h,p,v=o.hiddenlabels?o.hiddenlabels.slice():[],g=e.data()[0][0],m=t._fullData,y=g.trace,x=y.legendgroup,_={},b=[],w=[],M=[];if(a.traceIs(y,"pie-like")){var k=g.label,L=v.indexOf(k);"toggle"===l?-1===L?v.push(k):v.splice(L,1):"toggleothers"===l&&(v=[],t.calcdata[0].forEach(function(e){k!==e.label&&v.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===v.length&&-1===L&&(v=[])),a.call("_guiRelayout",t,"hiddenlabels",v)}else{var A,z=x&&x.length,S=[];if(z)for(u=0;u<m.length;u++)(A=m[u]).visible&&A.legendgroup===x&&S.push(u);if("toggle"===l){var T;switch(y.visible){case!0:T="legendonly";break;case!1:T=!1;break;case"legendonly":T=!0}if(z)for(u=0;u<m.length;u++)!1!==m[u].visible&&m[u].legendgroup===x&&H(m[u],T);else H(y,T)}else if("toggleothers"===l){var C,I,D,R,O=!0;for(u=0;u<m.length;u++)if(C=m[u]===y,D=!0!==m[u].showlegend,!(C||D||(I=z&&m[u].legendgroup===x)||!0!==m[u].visible||a.traceIs(m[u],"notLegendIsolatable"))){O=!1;break}for(u=0;u<m.length;u++)if(!1!==m[u].visible&&!a.traceIs(m[u],"notLegendIsolatable"))switch(y.visible){case"legendonly":H(m[u],!0);break;case!0:R=!!O||"legendonly",C=m[u]===y,D=!0!==m[u].showlegend&&!m[u].legendgroup,I=C||z&&m[u].legendgroup===x,H(m[u],!(!I&&!D)||R)}}for(u=0;u<w.length;u++)if(f=w[u]){var P=f.constructUpdate(),E=Object.keys(P);for(d=0;d<E.length;d++)h=E[d],(_[h]=_[h]||[])[M[u]]=P[h]}for(p=Object.keys(_),u=0;u<p.length;u++)for(h=p[u],d=0;d<b.length;d++)_[h].hasOwnProperty(d)||(_[h][d]=void 0);a.call("_guiRestyle",t,_,b)}}}function F(e,t,r){var n=b.indexOf(e),a=_[t];return a||(a=_[t]=[]),-1===b.indexOf(e)&&(b.push(e),n=b.length-1),a[n]=r,n}function H(e,t){var r=e._fullInput;if(a.hasTransform(r,"groupby")){var i=w[r.index];if(!i){var o=a.getTransformIndices(r,"groupby"),l=o[o.length-1];i=n.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),w[r.index]=i}var s=i.get(e._group);void 0===s&&(s=!0),!1!==s&&i.set(e._group,t),M[r.index]=F(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&t;F(r.index,"visible",c)}}}},369:function(e,t,r){"use strict";var n=r(3),a=r(332);e.exports=function(e,t){var r,i,o={},l=[],s=!1,c={},u=0,d=0,f=t._main;function h(e,r){if(""!==e&&a.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,o[e]=[[r]]):o[e].push([r]);else{var n="~~i"+u;l.push(n),o[n]=[[r]],u++}}for(r=0;r<e.length;r++){var p=e[r],v=p[0],g=v.trace,m=g.legendgroup;if(!f||g.visible&&g.showlegend)if(n.traceIs(g,"pie-like"))for(c[m]||(c[m]={}),i=0;i<p.length;i++){var y=p[i].label;c[m][y]||(h(m,{label:y,color:p[i].color,i:p[i].i,trace:g,pts:p[i].pts}),c[m][y]=!0,d=Math.max(d,(y||"").length))}else h(m,v),d=Math.max(d,(g.name||"").length)}if(!l.length)return[];var x,_,b=l.length;if(s&&a.isGrouped(t))for(_=new Array(b),r=0;r<b;r++)x=o[l[r]],_[r]=a.isReversed(t)?x.reverse():x;else{for(_=[new Array(b)],r=0;r<b;r++)x=o[l[r]][0],_[0][a.isReversed(t)?b-r-1:r]=x;b=1}return t._lgroupsLength=b,t._maxNameLength=d,_}},370:function(e,t,r){"use strict";var n=r(0),a=r(333),i=r(102);e.exports=function(e,t){a(e,t,function(r,a){return n.coerce(e,t,i,r,a)})}},371:function(e,t,r){"use strict";var n=r(0),a=r(106),i=r(333);e.exports=function(e,t,r,o){var l=n.extendFlat({},o.hoverlabel);t.hovertemplate&&(l.namelength=-1),i(e,t,function(r,i){return n.coerce(e,t,a,r,i)},l)}},372:function(e,t,r){"use strict";var n=r(0),a=r(100).isUnifiedHover,i=r(102),o=r(346),l=r(333);e.exports=function(e,t,r){function s(r,a){return n.coerce(e,t,i,r,a)}var c=o(e,t,r);c&&(s("hoverdistance"),s("spikedistance",a(c)?-1:void 0)),"select"===s("dragmode")&&s("selectdirection");var u=t._has("mapbox"),d=t._has("geo"),f=t._basePlotModules.length;"zoom"===t.dragmode&&((u||d)&&1===f||u&&d&&2===f)&&(t.dragmode="pan"),l(e,t,s)}},373:function(e,t,r){"use strict";var n=r(0),a=r(3);function i(e,t,r,a){a=a||n.identity,Array.isArray(e)&&(t[0][r]=a(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function o(e){return function(t){return n.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!a.traceIs(c,"pie-like")){var u=a.traceIs(c,"2dMap")?i:n.fillArray;u(c.hoverinfo,s,"hi",o(c)),c.hovertemplate&&u(c.hovertemplate,s,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,s,"hbg"),u(c.hoverlabel.bordercolor,s,"hbc"),u(c.hoverlabel.font.size,s,"hts"),u(c.hoverlabel.font.color,s,"htc"),u(c.hoverlabel.font.family,s,"htf"),u(c.hoverlabel.namelength,s,"hnl"),u(c.hoverlabel.align,s,"hta"))}}}},374:function(e,t,r){"use strict";var n=r(3),a=r(343).hover;e.exports=function(e,t,r){var i=n.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&a(e,t,r,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},375:function(e,t,r){"use strict";var n=r(350),a=r(0);t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.extractPathCoords=function(e,t){var r=[];return e.match(n.segmentRE).forEach(function(e){var i=t[e.charAt(0)].drawn;if(void 0!==i){var o=e.substr(1).match(n.paramRE);!o||o.length<i||r.push(a.cleanNumber(o[i]))}}),r},t.getDataToPixel=function(e,r,n,a){var i,o=e._fullLayout._size;if(r)if("domain"===a)i=function(e){return r._length*(n?1-e:e)+r._offset};else{var l=t.shapePositionToRange(r);i=function(e){return r._offset+r.r2p(l(e,!0))},"date"===r.type&&(i=t.decodeDate(i))}else i=n?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return i},t.getPixelToData=function(e,r,n,a){var i,o=e._fullLayout._size;if(r)if("domain"===a)i=function(e){var t=(e-r._offset)/r._length;return n?1-t:t};else{var l=t.rangeToShapePosition(r);i=function(e){return l(r.p2r(e-r._offset))}}else i=n?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return i},t.roundPositionForSharpStrokeRendering=function(e,t){var r=1===Math.round(t%2),n=Math.round(e);return r?n+.5:n},t.makeOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.shapes[t]||{},n=e._fullLayout._plots[r.xref+r.yref];return!!n?n._hadPlotinfo=!0:(n={},r.xref&&"paper"!==r.xref&&(n.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&"paper"!==r.yref&&(n.yaxis=e._fullLayout[r.yref+"axis"])),n.xsizemode=r.xsizemode,n.ysizemode=r.ysizemode,n.xanchor=r.xanchor,n.yanchor=r.yanchor,{options:r,plotinfo:n}}},376:function(e,t,r){"use strict";var n=r(64).dot,a=r(5).BADNUM,i=e.exports={};i.tester=function(e){var t,r=e.slice(),n=r[0][0],i=n,o=r[0][1],l=o;for(r.push(r[0]),t=1;t<r.length;t++)n=Math.min(n,r[t][0]),i=Math.max(i,r[t][0]),o=Math.min(o,r[t][1]),l=Math.max(l,r[t][1]);var s,c=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,s=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,s=function(e){return e[1]===r[0][1]}));var u=!0,d=r[0];for(t=1;t<r.length;t++)if(d[0]!==r[t][0]||d[1]!==r[t][1]){u=!1;break}return{xmin:n,xmax:i,ymin:o,ymax:l,pts:r,contains:c?function(e,t){var r=e[0],c=e[1];return!(r===a||r<n||r>i||c===a||c<o||c>l||t&&s(e))}:function(e,t){var s=e[0],c=e[1];if(s===a||s<n||s>i||c===a||c<o||c>l)return!1;var u,d,f,h,p,v=r.length,g=r[0][0],m=r[0][1],y=0;for(u=1;u<v;u++)if(d=g,f=m,g=r[u][0],m=r[u][1],!(s<(h=Math.min(d,g))||s>Math.max(d,g)||c>Math.max(f,m)))if(c<Math.min(f,m))s!==h&&y++;else{if(c===(p=g===d?c:f+(s-d)*(m-f)/(g-d)))return 1!==u||!t;c<=p&&s!==h&&y++}return y%2==1},isRect:c,degenerate:u}},i.isSegmentBent=function(e,t,r,a){var i,o,l,s=e[t],c=[e[r][0]-s[0],e[r][1]-s[1]],u=n(c,c),d=Math.sqrt(u),f=[-c[1]/d,c[0]/d];for(i=t+1;i<r;i++)if(o=[e[i][0]-s[0],e[i][1]-s[1]],(l=n(o,c))<0||l>u||Math.abs(n(o,f))>a)return!0;return!1},i.filter=function(e,t){var r=[e[0]],n=0,a=0;function o(o){e.push(o);var l=r.length,s=n;r.splice(a+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||i.isSegmentBent(e,s,c+1,t))&&(r.push(e[c]),r.length<l-2&&(n=c,a=r.length-1),s=c)}e.length>1&&o(e.pop());return{addPt:o,raw:e,filtered:r}}},377:function(e,t,r){"use strict";var n=r(0).dateTick0,a=r(5).ONEWEEK;function i(e,t){return n(t,e%a==0?1:0)}e.exports=function(e,t,r,n,a){if(a||(a={x:!0,y:!0}),a.x){var o=n("xperiod");o&&(n("xperiod0",i(o,t.xcalendar)),n("xperiodalignment"))}if(a.y){var l=n("yperiod");l&&(n("yperiod0",i(l,t.ycalendar)),n("yperiodalignment"))}}},378:function(e,t,r){"use strict";var n=r(4),a=r(329),i=r(328),o=r(330),l=r(386).makeDragBox,s=r(26).DRAGGERSIZE;t.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot)n.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(e,t){if((r._plots[e].mainplot&&!0)===(r._plots[t].mainplot&&!0)){var n=e.split("y"),a=t.split("y");return n[0]===a[0]?Number(n[1]||1)-Number(a[1]||1):Number(n[0]||1)-Number(a[0]||1)}return r._plots[e].mainplot?1:-1}).forEach(function(t){var n=r._plots[t],o=n.xaxis,c=n.yaxis;if(!n.mainplot){var u=l(e,n,o._offset,c._offset,o._length,c._length,"ns","ew");u.onmousemove=function(r){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===t&&e._fullLayout._plots[t]&&a.hover(e,r,t)},a.hover(e,r,t),e._fullLayout._lasthover=u,e._fullLayout._hoversubplot=t},u.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},e._context.showAxisDragHandles&&(l(e,n,o._offset-s,c._offset-s,s,s,"n","w"),l(e,n,o._offset+o._length,c._offset-s,s,s,"n","e"),l(e,n,o._offset-s,c._offset+c._length,s,s,"s","w"),l(e,n,o._offset+o._length,c._offset+c._length,s,s,"s","e"))}if(e._context.showAxisDragHandles){if(t===o._mainSubplot){var d=o._mainLinePosition;"top"===o.side&&(d-=s),l(e,n,o._offset+.1*o._length,d,.8*o._length,s,"","ew"),l(e,n,o._offset,d,.1*o._length,s,"","w"),l(e,n,o._offset+.9*o._length,d,.1*o._length,s,"","e")}if(t===c._mainSubplot){var f=c._mainLinePosition;"right"!==c.side&&(f-=s),l(e,n,f,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(e,n,f,c._offset+.9*c._length,s,.1*c._length,"s",""),l(e,n,f,c._offset,s,.1*c._length,"n","")}}});var o=r._hoverlayer.node();o.onmousemove=function(t){t.target=e._fullLayout._lasthover,a.hover(e,t,r._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,a.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},t.updateFx(e)}},t.updateFx=function(e){var t=e._fullLayout,r="pan"===t.dragmode?"move":"crosshair";o(t._draggers,r)}},379:function(e,t,r){"use strict";var n=r(3),a=r(0),i=r(99),o=r(335).readPaths,l=r(354),s=r(103).clearOutlineControllers,c=r(14),u=r(38),d=r(17).arrayEditor,f=r(328),h=r(330),p=r(350),v=r(375);function g(e){var t=e._fullLayout;for(var r in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var n=t._plots[r].shapelayer;n&&n.selectAll("path").remove()}for(var a=0;a<t.shapes.length;a++)t.shapes[a].visible&&x(e,a)}function m(e){return!!e._fullLayout._drawing}function y(e){return!e._context.edits.shapePosition}function x(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=v.makeOptionsAndPlotinfo(e,t),s=r.options,x=r.plotinfo;if(s._input&&!1!==s.visible)if("below"!==s.layer)k(e._fullLayout._shapeUpperLayer);else if("paper"===s.xref||"paper"===s.yref)k(e._fullLayout._shapeLowerLayer);else{if(x._hadPlotinfo)k((x.mainplotinfo||x).shapelayer);else k(e._fullLayout._shapeLowerLayer)}function k(r){var k=b(e,s),L={"data-index":t,"fill-rule":s.fillrule,d:k},A=s.opacity,z=s.fillcolor,S=s.line.width?s.line.color:"rgba(0,0,0,0)",T=s.line.width,C=s.line.dash;T||!0!==s.editable||(T=5,C="solid");var I="Z"!==k[k.length-1],D=y(e)&&s.editable&&e._fullLayout._activeShapeIndex===t;D&&(z=I?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,A=e._fullLayout.activeshape.opacity);var R,O=r.append("path").attr(L).style("opacity",A).call(c.stroke,S).call(c.fill,z).call(u.dashLine,C,T);if(_(O,e,s),(D||e._context.edits.shapePosition)&&(R=d(e.layout,"shapes",s)),D){O.style({cursor:"move"});var P={element:O.node(),plotinfo:x,gd:e,editHelpers:R,isActiveShape:!0},E=o(k,e);l(E,O,P)}else e._context.edits.shapePosition?function(e,t,r,o,l,s){var c,d,g,y,x,M,k,L,A,z,S,T,C,I,D,R,O=10,P=10,E="pixel"===r.xsizemode,F="pixel"===r.ysizemode,H="line"===r.type,B="path"===r.type,Z=s.modifyItem,N=i.getFromId(e,r.xref),V=i.getRefType(r.xref),G=i.getFromId(e,r.yref),q=i.getRefType(r.yref),U=v.getDataToPixel(e,N,!1,V),j=v.getDataToPixel(e,G,!0,q),Y=v.getPixelToData(e,N,!1,V),X=v.getPixelToData(e,G,!0,q),W=H?function(){var e=Math.max(r.line.width,10),n=l.append("g").attr("data-index",o);n.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var a={"fill-opacity":"0"},i=Math.max(e/2,10);return n.append("circle").attr({"data-line-point":"start-point",cx:E?U(r.xanchor)+r.x0:U(r.x0),cy:F?j(r.yanchor)-r.y0:j(r.y0),r:i}).style(a).classed("cursor-grab",!0),n.append("circle").attr({"data-line-point":"end-point",cx:E?U(r.xanchor)+r.x1:U(r.x1),cy:F?j(r.yanchor)-r.y1:j(r.y1),r:i}).style(a).classed("cursor-grab",!0),n}():t,K={element:W.node(),gd:e,prepFn:function(n){if(m(e))return;E&&(x=U(r.xanchor));F&&(M=j(r.yanchor));"path"===r.type?D=r.path:(c=E?r.x0:U(r.x0),d=F?r.y0:j(r.y0),g=E?r.x1:U(r.x1),y=F?r.y1:j(r.y1));c<g?(A=c,C="x0",z=g,I="x1"):(A=g,C="x1",z=c,I="x0");!F&&d<y||F&&d>y?(k=d,S="y0",L=y,T="y1"):(k=y,S="y1",L=d,T="y0");Q(n),ee(l,r),function(e,t,r){var n=t.xref,a=t.yref,o=i.getFromId(r,n),l=i.getFromId(r,a),s="";"paper"===n||o.autorange||(s+=n);"paper"===a||l.autorange||(s+=a);u.setClipUrl(e,s?"clip"+r._fullLayout._uid+s:null,r)}(t,r,e),K.moveFn="move"===R?J:$,K.altKey=n.altKey},doneFn:function(){if(m(e))return;h(t),te(l),_(t,e,r),n.call("_guiRelayout",e,s.getUpdateObj())},clickFn:function(){if(m(e))return;te(l)}};function Q(r){if(m(e))R=null;else if(H)R="path"===r.target.tagName?"move":"start-point"===r.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=K.element.getBoundingClientRect(),a=n.right-n.left,i=n.bottom-n.top,o=r.clientX-n.left,l=r.clientY-n.top,s=!B&&a>O&&i>P&&!r.shiftKey?f.getCursor(o/a,1-l/i):"move";h(t,s),R=s.split("-")[0]}}function J(n,a){if("path"===r.type){var i=function(e){return e},o=i,s=i;E?Z("xanchor",r.xanchor=Y(x+n)):(o=function(e){return Y(U(e)+n)},N&&"date"===N.type&&(o=v.encodeDate(o))),F?Z("yanchor",r.yanchor=X(M+a)):(s=function(e){return X(j(e)+a)},G&&"date"===G.type&&(s=v.encodeDate(s))),Z("path",r.path=w(D,o,s))}else E?Z("xanchor",r.xanchor=Y(x+n)):(Z("x0",r.x0=Y(c+n)),Z("x1",r.x1=Y(g+n))),F?Z("yanchor",r.yanchor=X(M+a)):(Z("y0",r.y0=X(d+a)),Z("y1",r.y1=X(y+a)));t.attr("d",b(e,r)),ee(l,r)}function $(n,a){if(B){var i=function(e){return e},o=i,s=i;E?Z("xanchor",r.xanchor=Y(x+n)):(o=function(e){return Y(U(e)+n)},N&&"date"===N.type&&(o=v.encodeDate(o))),F?Z("yanchor",r.yanchor=X(M+a)):(s=function(e){return X(j(e)+a)},G&&"date"===G.type&&(s=v.encodeDate(s))),Z("path",r.path=w(D,o,s))}else if(H){if("resize-over-start-point"===R){var u=c+n,f=F?d-a:d+a;Z("x0",r.x0=E?u:Y(u)),Z("y0",r.y0=F?f:X(f))}else if("resize-over-end-point"===R){var h=g+n,p=F?y-a:y+a;Z("x1",r.x1=E?h:Y(h)),Z("y1",r.y1=F?p:X(p))}}else{var m=function(e){return-1!==R.indexOf(e)},_=m("n"),V=m("s"),q=m("w"),W=m("e"),K=_?k+a:k,Q=V?L+a:L,J=q?A+n:A,$=W?z+n:z;F&&(_&&(K=k-a),V&&(Q=L-a)),(!F&&Q-K>P||F&&K-Q>P)&&(Z(S,r[S]=F?K:X(K)),Z(T,r[T]=F?Q:X(Q))),$-J>O&&(Z(C,r[C]=E?J:Y(J)),Z(I,r[I]=E?$:Y($)))}t.attr("d",b(e,r)),ee(l,r)}function ee(e,t){(E||F)&&function(){var r="path"!==t.type,n=e.selectAll(".visual-cue").data([0]);n.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var i=U(E?t.xanchor:a.midRange(r?[t.x0,t.x1]:v.extractPathCoords(t.path,p.paramIsX))),o=j(F?t.yanchor:a.midRange(r?[t.y0,t.y1]:v.extractPathCoords(t.path,p.paramIsY)));if(i=v.roundPositionForSharpStrokeRendering(i,1),o=v.roundPositionForSharpStrokeRendering(o,1),E&&F){var l="M"+(i-1-1)+","+(o-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";n.attr("d",l)}else if(E){var s="M"+(i-1-1)+","+(o-9-1)+"v18 h2 v-18 Z";n.attr("d",s)}else{var c="M"+(i-9-1)+","+(o-1-1)+"h18 v2 h-18 Z";n.attr("d",c)}}()}function te(e){e.selectAll(".visual-cue").remove()}f.init(K),W.node().onmousemove=Q}(e,O,s,t,r,R):!0===s.editable&&O.style("pointer-events",I||c.opacity(z)*A<=.5?"stroke":"all");O.node().addEventListener("click",function(){return function(e,t){if(!y(e))return;var r=+t.node().getAttribute("data-index");if(r>=0){if(r===e._fullLayout._activeShapeIndex)return void M(e);e._fullLayout._activeShapeIndex=r,e._fullLayout._deactivateShape=M,g(e)}}(e,O)})}}function _(e,t,r){var n=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(e,n?"clip"+t._fullLayout._uid+n:null,t)}function b(e,t){var r,n,o,l,s,c,u,d,f=t.type,h=i.getRefType(t.xref),g=i.getRefType(t.yref),m=i.getFromId(e,t.xref),y=i.getFromId(e,t.yref),x=e._fullLayout._size;if(m?"domain"===h?n=function(e){return m._offset+m._length*e}:(r=v.shapePositionToRange(m),n=function(e){return m._offset+m.r2p(r(e,!0))}):n=function(e){return x.l+x.w*e},y?"domain"===g?l=function(e){return y._offset+y._length*(1-e)}:(o=v.shapePositionToRange(y),l=function(e){return y._offset+y.r2p(o(e,!0))}):l=function(e){return x.t+x.h*(1-e)},"path"===f)return m&&"date"===m.type&&(n=v.decodeDate(n)),y&&"date"===y.type&&(l=v.decodeDate(l)),function(e,t,r){var n=e.path,i=e.xsizemode,o=e.ysizemode,l=e.xanchor,s=e.yanchor;return n.replace(p.segmentRE,function(e){var n=0,c=e.charAt(0),u=p.paramIsX[c],d=p.paramIsY[c],f=p.numParams[c],h=e.substr(1).replace(p.paramRE,function(e){return u[n]?e="pixel"===i?t(l)+Number(e):t(e):d[n]&&(e="pixel"===o?r(s)-Number(e):r(e)),++n>f&&(e="X"),e});return n>f&&(h=h.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+e)),c+h})}(t,n,l);if("pixel"===t.xsizemode){var _=n(t.xanchor);s=_+t.x0,c=_+t.x1}else s=n(t.x0),c=n(t.x1);if("pixel"===t.ysizemode){var b=l(t.yanchor);u=b-t.y0,d=b-t.y1}else u=l(t.y0),d=l(t.y1);if("line"===f)return"M"+s+","+u+"L"+c+","+d;if("rect"===f)return"M"+s+","+u+"H"+c+"V"+d+"H"+s+"Z";var w=(s+c)/2,M=(u+d)/2,k=Math.abs(w-s),L=Math.abs(M-u),A="A"+k+","+L,z=w+k+","+M;return"M"+z+A+" 0 1,1 "+(w+","+(M-L))+A+" 0 0,1 "+z+"Z"}function w(e,t,r){return e.replace(p.segmentRE,function(e){var n=0,a=e.charAt(0),i=p.paramIsX[a],o=p.paramIsY[a],l=p.numParams[a];return a+e.substr(1).replace(p.paramRE,function(e){return n>=l?e:(i[n]?e=t(e):o[n]&&(e=r(e)),n++,e)})})}function M(e){y(e)&&(e._fullLayout._activeShapeIndex>=0&&(s(e),delete e._fullLayout._activeShapeIndex,g(e)))}e.exports={draw:g,drawOne:x,eraseActiveShape:function(e){if(!y(e))return;s(e);var t=e._fullLayout._activeShapeIndex,r=(e.layout||{}).shapes||[];if(t<r.length){for(var a=[],i=0;i<r.length;i++)i!==t&&a.push(r[i]);delete e._fullLayout._activeShapeIndex,n.call("_guiRelayout",e,{shapes:a})}}}},380:function(e,t,r){"use strict";var n=r(1),a=r(0),i=a.dateTime2ms,o=a.incrementMonth,l=r(5).ONEAVGMONTH;e.exports=function(e,t,r,a){if("date"!==t.type)return a;var s=e[r+"periodalignment"];if(!s)return a;var c,u=e[r+"period"];if(n(u)){if((u=+u)<=0)return a}else if("string"==typeof u&&"M"===u.charAt(0)){var d=+u.substring(1);if(!(d>0&&Math.round(d)===d))return a;c=d}for(var f=t.calendar,h="start"===s,p="end"===s,v=e[r+"period0"],g=i(v,f)||0,m=[],y=a.length,x=0;x<y;x++){var _,b,w,M=a[x];if(c){for(_=Math.round((M-g)/(c*l)),w=o(g,c*_,f);w>M;)w=o(w,-c,f);for(;w<=M;)w=o(w,c,f);b=o(w,-c,f)}else{for(w=g+(_=Math.round((M-g)/u))*u;w>M;)w-=u;for(;w<=M;)w+=u;b=w-u}m[x]=h?b:p?w:(b+w)/2}return m}},381:function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(0),o=r(57),l=r(38),s=r(119).getModuleCalcData,c=r(27),u=r(26),d=r(59),f=i.ensureSingle;function h(e,t,r){return i.ensureSingle(e,t,r,function(e){e.datum(r)})}function p(e,t,r,i,o){for(var c,d,f,h=u.traceLayerClasses,p=e._fullLayout,v=p._modules,g=[],m=[],y=0;y<v.length;y++){var x=(c=v[y]).name,_=a.modules[x].categories;if(_.svg){var b=c.layerName||x+"layer",w=c.plot;f=(d=s(r,w))[0],r=d[1],f.length&&g.push({i:h.indexOf(b),className:b,plotMethod:w,cdModule:f}),_.zoomScale&&m.push("."+b)}}g.sort(function(e,t){return e.i-t.i});var M=t.plot.selectAll("g.mlayer").data(g,function(e){return e.className});if(M.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),M.exit().remove(),M.order(),M.each(function(r){var a=n.select(this),s=r.className;r.plotMethod(e,t,r.cdModule,a,i,o),-1===u.clipOnAxisFalseQuery.indexOf("."+s)&&l.setClipUrl(a,t.layerClipId,e)}),p._has("scattergl")&&(c=a.getModule("scattergl"),f=s(r,c)[0],c.plot(e,t,f)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(u.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var k=t.plot.selectAll(m.join(",")).selectAll(".trace");t.zoomScalePts=k.selectAll("path.point"),t.zoomScaleTxt=k.selectAll(".textpoint")}}function v(e,t){var r=t.plotgroup,n=t.id,a=u.layerValue2layerClass[t.xaxis.layer],i=u.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,s=l.plotgroup,d=n+"-x",p=n+"-y";t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,f(l.overlinesBelow,"path",d),f(l.overlinesBelow,"path",p),f(l.overaxesBelow,"g",d),f(l.overaxesBelow,"g",p),t.plot=f(l.overplot,"g",n),f(l.overlinesAbove,"path",d),f(l.overlinesAbove,"path",p),f(l.overaxesAbove,"g",d),f(l.overaxesAbove,"g",p),t.xlines=s.select(".overlines-"+a).select("."+d),t.ylines=s.select(".overlines-"+i).select("."+p),t.xaxislayer=s.select(".overaxes-"+a).select("."+d),t.yaxislayer=s.select(".overaxes-"+i).select("."+p)}else if(o)t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.xaxislayer=f(r,"g","xaxislayer-above"),t.yaxislayer=f(r,"g","yaxislayer-above");else{var v=f(r,"g","layer-subplot");t.shapelayer=f(v,"g","shapelayer"),t.imagelayer=f(v,"g","imagelayer"),t.gridlayer=f(r,"g","gridlayer"),t.zerolinelayer=f(r,"g","zerolinelayer"),f(r,"path","xlines-below"),f(r,"path","ylines-below"),t.overlinesBelow=f(r,"g","overlines-below"),f(r,"g","xaxislayer-below"),f(r,"g","yaxislayer-below"),t.overaxesBelow=f(r,"g","overaxes-below"),t.plot=f(r,"g","plot"),t.overplot=f(r,"g","overplot"),t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.overlinesAbove=f(r,"g","overlines-above"),f(r,"g","xaxislayer-above"),f(r,"g","yaxislayer-above"),t.overaxesAbove=f(r,"g","overaxes-above"),t.xlines=r.select(".xlines-"+a),t.ylines=r.select(".ylines-"+i),t.xaxislayer=r.select(".xaxislayer-"+a),t.yaxislayer=r.select(".yaxislayer-"+i)}o||(h(t.gridlayer,"g",t.xaxis._id),h(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(c.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function g(e,t){if(e){var r={};for(var a in e.each(function(e){var a=e[0];n.select(this).remove(),m(a,t),r[a]=!0}),t._plots)for(var i=t._plots[a].overlays||[],o=0;o<i.length;o++){var l=i[o];r[l.id]&&l.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=u.idRegex,t.attrRegex=u.attrRegex,t.attributes=r(401),t.layoutAttributes=r(18),t.supplyLayoutDefaults=r(402),t.transitionAxes=r(406),t.finalizeSubplots=function(e,t){var r,n,a,o=t._subplots,l=o.xaxis,s=o.yaxis,d=o.cartesian,f=d.concat(o.gl2d||[]),h={},p={};for(r=0;r<f.length;r++){var v=f[r].split("y");h[v[0]]=1,p["y"+v[1]]=1}for(r=0;r<l.length;r++)h[n=l[r]]||(a=(e[c.id2name(n)]||{}).anchor,u.idRegex.y.test(a)||(a="y"),d.push(n+a),f.push(n+a),p[a]||(p[a]=1,i.pushUnique(s,a)));for(r=0;r<s.length;r++)p[a=s[r]]||(n=(e[c.id2name(a)]||{}).anchor,u.idRegex.x.test(n)||(n="x"),d.push(n+a),f.push(n+a),h[n]||(h[n]=1,i.pushUnique(l,n)));if(!f.length){for(var g in n="",a="",e){if(u.attrRegex.test(g))"x"===g.charAt(0)?(!n||+g.substr(5)<+n.substr(5))&&(n=g):(!a||+g.substr(5)<+a.substr(5))&&(a=g)}n=n?c.name2id(n):"x",a=a?c.name2id(a):"y",l.push(n),s.push(a),d.push(n+a)}},t.plot=function(e,t,r,n){var a,i=e._fullLayout,o=i._subplots.cartesian,l=e.calcdata;if(!Array.isArray(t))for(t=[],a=0;a<l.length;a++)t.push(a);for(a=0;a<o.length;a++){for(var s,c=o[a],u=i._plots[c],d=[],f=0;f<l.length;f++){var h=l[f],v=h[0].trace;v.xaxis+v.yaxis===c&&((-1!==t.indexOf(v.index)||v.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===d.indexOf(s)&&d.push(s),d.push(h)),s=h)}p(e,u,d,r,n)}},t.clean=function(e,t,r,n){var a,i,o,l=n._plots||{},s=t._plots||{},u=n._subplots||{};if(n._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(o in l)(a=l[o]).plotgroup&&a.plotgroup.remove();var d=n._has&&n._has("gl"),f=t._has&&t._has("gl");if(d&&!f)for(o in l)(a=l[o])._scene&&a._scene.destroy();if(u.xaxis&&u.yaxis){var h=c.listIds({_fullLayout:n});for(i=0;i<h.length;i++){var p=h[i];t[c.id2name(p)]||n._infolayer.selectAll(".g-"+p+"title").remove()}}var v=n._has&&n._has("cartesian"),y=t._has&&t._has("cartesian");if(v&&!y)g(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(u.cartesian)for(i=0;i<u.cartesian.length;i++){var x=u.cartesian[i];if(!s[x]){var _="."+x+",."+x+"-x,."+x+"-y";n._cartesianlayer.selectAll(_).remove(),m(x,n)}}},t.drawFramework=function(e){var t=e._fullLayout,r=function(e){var t,r,n,a,i,o,l=e._fullLayout,s=l._subplots.cartesian,c=s.length,u=[],d=[];for(t=0;t<c;t++){n=s[t],a=l._plots[n],i=a.xaxis,o=a.yaxis;var f=i._mainAxis,h=o._mainAxis,p=f._id+h._id,v=l._plots[p];a.overlays=[],p!==n&&v?(a.mainplot=p,a.mainplotinfo=v,d.push(n)):(a.mainplot=void 0,a.mainplotinfo=void 0,u.push(n))}for(t=0;t<d.length;t++)n=d[t],(a=l._plots[n]).mainplotinfo.overlays.push(a);var g=u.concat(d),m=new Array(c);for(t=0;t<c;t++){n=g[t],a=l._plots[n],i=a.xaxis,o=a.yaxis;var y=[n,i.layer,o.layer,i.overlaying||"",o.overlaying||""];for(r=0;r<a.overlays.length;r++)y.push(a.overlays[r].id);m[t]=y}return m}(e),a=t._cartesianlayer.selectAll(".subplot").data(r,String);a.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),a.order(),a.exit().call(g,t),a.each(function(r){var a=r[0],i=t._plots[a];i.plotgroup=n.select(this),v(e,i),i.draglayer=f(t._draggers,"g",a)})},t.rangePlot=function(e,t,r){v(e,t),p(e,t,r),o.style(e)},t.toSVG=function(e){var t=e._fullLayout._glimages,r=n.select(e).selectAll(".svg-container");r.filter(function(e,t){return t===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:d.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},t.updateFx=r(378).updateFx},382:function(e,t,r){"use strict";var n=r(1),a=r(3),i=r(0),o=r(105),l=r(18),s=r(114),c=r(115),u=r(116),d=r(404),f=r(405),h=r(109),p=r(26).WEEKDAY_PATTERN,v=r(26).HOUR_PATTERN;function g(e,t,r){function a(r,n){return i.coerce(e,t,l.rangebreaks,r,n)}if(a("enabled")){var o=a("bounds");if(o&&o.length>=2){var s,c,u="";if(2===o.length)for(s=0;s<2;s++)if(c=y(o[s])){u=p;break}var d=a("pattern",u);if(d===p)for(s=0;s<2;s++)(c=y(o[s]))&&(t.bounds[s]=o[s]=c-1);if(d)for(s=0;s<2;s++)switch(c=o[s],d){case p:if(!n(c))return void(t.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(t.enabled=!1);t.bounds[s]=o[s]=c;break;case v:if(!n(c))return void(t.enabled=!1);if((c=+c)<0||c>24)return void(t.enabled=!1);t.bounds[s]=o[s]=c}if(!1===r.autorange){var f=r.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1])return void(t.enabled=!1)}else if(o[0]>f[0]&&o[1]<f[1])return void(t.enabled=!1)}}else{var h=a("values");if(!h||!h.length)return void(t.enabled=!1);a("dvalue")}}}e.exports=function(e,t,r,n,v){var m,y=n.letter,x=n.font||{},_=n.splomStash||{},b=r("visible",!n.visibleDflt),w=t._template||{},M=t.type||w.type||"-";"date"===M&&(a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",n.calendar),n.noTicklabelmode||(m=r("ticklabelmode")));n.noTicklabelposition&&"multicategory"!==M||i.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===m?["outside","inside"]:"x"===y?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),h(t,v);var k=!t.isValidRange(e.range);k&&n.reverseDflt&&(k="reversed"),!r("autorange",k)||"linear"!==M&&"-"!==M||r("rangemode"),r("range"),t.cleanRange(),d(e,t,r,n),"category"===M||n.noHover||r("hoverformat");var L=r("color"),A=L!==l.color.dflt?L:x.color,z=_.label||v._dfltTitle[y];if(u(e,t,r,M,n,{pass:1}),!b)return t;r("title.text",z),i.coerceFont(r,"title.font",{family:x.family,size:Math.round(1.2*x.size),color:A}),s(e,t,r,M),u(e,t,r,M,n,{pass:2}),c(e,t,r,n),f(e,t,r,{dfltColor:L,bgColor:n.bgColor,showGrid:n.showGrid,attributes:l}),(t.showline||t.ticks)&&r("mirror"),n.automargin&&r("automargin");var S,T="multicategory"===M;n.noTickson||"category"!==M&&!T||!t.ticks&&!t.showgrid||(T&&(S="boundaries"),"boundaries"===r("tickson",S)&&delete t.ticklabelposition);T&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));if("date"===M)if(o(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),t.rangebreaks.length){for(var C=0;C<t.rangebreaks.length;C++)if(t.rangebreaks[C].pattern===p){t._hasDayOfWeekBreaks=!0;break}if(h(t,v),v._has("scattergl")||v._has("splom"))for(var I=0;I<n.data.length;I++){var D=n.data[I];"scattergl"!==D.type&&"splom"!==D.type||(D.visible=!1,i.warn(D.type+" traces do not work on axes with rangebreaks. Setting trace "+D.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function y(e){if("string"==typeof e)return m[e.substr(0,3).toLowerCase()]}},383:function(e,t,r){"use strict";var n=r(1),a=r(0);e.exports=function(e,t,r,i){var o,l,s,c,u=i.counterAxes||[],d=i.overlayableAxes||[],f=i.letter,h=i.grid;h&&(l=h._domains[f][h._axisMap[t._id]],o=h._anchors[t._id],l&&(s=h[f+"side"].split(" ")[0],c=h.domain[f]["right"===s||"top"===s?1:0])),l=l||[0,1],o=o||(n(e.position)?"free":u[0]||"free"),s=s||("x"===f?"bottom":"left"),c=c||0,"free"===a.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:o}},"anchor")&&r("position",c),a.coerce(e,t,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:s}},"side");var p=!1;if(d.length&&(p=a.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!p){var v=r("domain",l);v[0]>v[1]-1/4096&&(t.domain=l),a.noneOrAll(e.domain,t.domain,l)}return r("layer"),t}},386:function(e,t,r){"use strict";var n=r(4),a=r(19),i=r(345),o=r(3),l=r(0),s=l.strTranslate,c=r(39),u=r(14),d=r(38),f=r(329),h=r(99),p=r(330),v=r(328),g=r(334),m=g.selectingOrDrawing,y=g.freeMode,x=r(28).FROM_TL,_=r(338),b=r(348).redrawReglTraces,w=r(57),M=r(27).getFromId,k=r(336).prepSelect,L=r(336).clearSelect,A=r(336).selectOnClick,z=r(347),S=r(26),T=S.MINDRAG,C=S.MINZOOM,I=!0;function D(e,t,r,n){var a=l.ensureSingle(e.draglayer,t,r,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(p,n),a.node()}function R(e,t,r,a,i,o,l){var s=D(e,"rect",t,r);return n.select(s).call(d.setRect,a,i,o,l),s}function O(e,t){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return t;return""}function P(e,t,r,n,a){for(var i=0;i<e.length;i++){var o=e[i];if(!o.fixedrange)if(o.rangebreaks){var l="y"===o._id.charAt(0),s=l?1-t:t,c=l?1-r:r;n[o._name+".range[0]"]=o.l2r(o.p2l(s*o._length)),n[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],d=o._rl[1]-u;n[o._name+".range[0]"]=o.l2r(u+d*t),n[o._name+".range[1]"]=o.l2r(u+d*r)}}if(a&&a.length){var f=(t+(1-r))/2;P(a,f,1-f,n,[])}}function E(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n.fixedrange)if(n.rangebreaks){var a=n._length,i=(n.p2l(0+t)-n.p2l(0)+(n.p2l(a+t)-n.p2l(a)))/2;n.range=[n.l2r(n._rl[0]-i),n.l2r(n._rl[1]-i)]}else n.range=[n.l2r(n._rl[0]-t/n._m),n.l2r(n._rl[1]-t/n._m)]}}function F(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function H(e,t,r,n,a){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(r,n)).attr("d",a+"Z")}function B(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(t,r)).attr("d","M0,0Z")}function Z(e,t,r,n,a,i){e.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),N(e,t,a,i)}function N(e,t,r,n){r||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function V(e){n.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function G(e){I&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),I=!1)}function q(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,C)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function U(e,t,r,n,a){for(var i,o,s,c,u=!1,d={},f={},h=(a||{}).xaHash,p=(a||{}).yaHash,v=0;v<t.length;v++){var g=t[v];for(i in r)if(g[i]){for(s in g)a&&(h[s]||p[s])||("x"===s.charAt(0)?r:n)[s]||(d[s]=i);for(o in n)a&&(h[o]||p[o])||!g[o]||(u=!0)}for(o in n)if(g[o])for(c in g)a&&(h[c]||p[c])||("x"===c.charAt(0)?r:n)[c]||(f[c]=o)}u&&(l.extendFlat(d,f),f={});var m={},y=[];for(s in d){var x=M(e,s);y.push(x),m[x._id]=x}var _={},b=[];for(c in f){var w=M(e,c);b.push(w),_[w._id]=w}return{xaHash:m,yaHash:_,xaxes:y,yaxes:b,xLinks:d,yLinks:f,isSubplotConstrained:u}}function j(e,t){if(i){var r=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=t,e.addEventListener(r,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function Y(e){var t=[];for(var r in e)t.push(e[r]);return t}e.exports={makeDragBox:function(e,t,r,i,s,u,p,g){var I,D,N,X,W,K,Q,J,$,ee,te,re,ne,ae,ie,oe,le,se,ce,ue,de,fe,he,pe=e._fullLayout._zoomlayer,ve=p+g==="nsew",ge=1===(p+g).length;function me(){if(I=t.xaxis,D=t.yaxis,$=I._length,ee=D._length,Q=I._offset,J=D._offset,(N={})[I._id]=I,(X={})[D._id]=D,p&&g)for(var r=t.overlays,n=0;n<r.length;n++){var a=r[n].xaxis;N[a._id]=a;var i=r[n].yaxis;X[i._id]=i}W=Y(N),K=Y(X),ne=O(W,g),ae=O(K,p),ie=!ae&&!ne,re=U(e,e._fullLayout._axisMatchGroups,N,X);var o=(te=U(e,e._fullLayout._axisConstraintGroups,N,X,re)).isSubplotConstrained||re.isSubplotConstrained;oe=g||o,le=p||o;var l=e._fullLayout;se=l._has("scattergl"),ce=l._has("splom"),ue=l._has("svg")}me();var ye=function(e,t,r){return e?"nsew"===e?r?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(ae+ne,e._fullLayout.dragmode,ve),xe=R(t,p+g+"drag",ye,r,i,s,u);if(ie&&!ve)return xe.onmousedown=null,xe.style.pointerEvents="none",xe;var _e,be,we,Me,ke,Le,Ae,ze,Se,Te,Ce={element:xe,gd:e,plotinfo:t};function Ie(){Ce.plotinfo.selection=!1,L(e)}function De(e,r){var a=Ce.gd;if(a._fullLayout._activeShapeIndex>=0)a._fullLayout._deactivateShape(a);else{var i=a._fullLayout.clickmode;if(V(a),2!==e||ge||Ge(),ve)i.indexOf("select")>-1&&A(r,a,W,K,t.id,Ce),i.indexOf("event")>-1&&f.click(a,r,t.id);else if(1===e&&ge){var l=p?D:I,s="s"===p||"w"===g?0:1,u=l._name+".range["+s+"]",d=function(e,t){var r,a=e.range[t],i=Math.abs(a-e.range[1-t]);return"date"===e.type?a:"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,n.format("."+r+"g")(Math.pow(10,a))):(r=Math.floor(Math.log(Math.abs(a))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,n.format("."+String(r)+"g")(a))}(l,s),h="left",v="middle";if(l.fixedrange)return;p?(v="n"===p?"top":"bottom","right"===l.side&&(h="right")):"e"===g&&(h="right"),a._context.showAxisRangeEntryBoxes&&n.select(xe).call(c.makeEditable,{gd:a,immediate:!0,background:a._fullLayout.paper_bgcolor,text:String(d),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:h,verticalAlign:v}).on("edit",function(e){var t=l.d2r(e);void 0!==t&&o.call("_guiRelayout",a,u,t)})}}}function Re(t,r){if(e._transitioningWithDuration)return!1;var n=Math.max(0,Math.min($,fe*t+_e)),a=Math.max(0,Math.min(ee,he*r+be)),i=Math.abs(n-_e),o=Math.abs(a-be);function l(){Ae="",we.r=we.l,we.t=we.b,Se.attr("d","M0,0Z")}if(we.l=Math.min(_e,n),we.r=Math.max(_e,n),we.t=Math.min(be,a),we.b=Math.max(be,a),te.isSubplotConstrained)i>C||o>C?(Ae="xy",i/$>o/ee?(o=i*ee/$,be>a?we.t=be-o:we.b=be+o):(i=o*$/ee,_e>n?we.l=_e-i:we.r=_e+i),Se.attr("d",q(we))):l();else if(re.isSubplotConstrained)if(i>C||o>C){Ae="xy";var s=Math.min(we.l/$,(ee-we.b)/ee),c=Math.max(we.r/$,(ee-we.t)/ee);we.l=s*$,we.r=c*$,we.b=(1-s)*ee,we.t=(1-c)*ee,Se.attr("d",q(we))}else l();else!ae||o<Math.min(Math.max(.6*i,T),C)?i<T||!ne?l():(we.t=0,we.b=ee,Ae="x",Se.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-C-.5)+"h-3v"+(2*C+1)+"h3ZM"+(e.r+.5)+","+(t-C-.5)+"h3v"+(2*C+1)+"h-3Z"}(we,be))):!ne||i<Math.min(.6*o,C)?(we.l=0,we.r=$,Ae="y",Se.attr("d",function(e,t){return"M"+(t-C-.5)+","+(e.t-.5)+"v-3h"+(2*C+1)+"v3ZM"+(t-C-.5)+","+(e.b+.5)+"v3h"+(2*C+1)+"v-3Z"}(we,_e))):(Ae="xy",Se.attr("d",q(we)));we.w=we.r-we.l,we.h=we.b-we.t,Ae&&(Te=!0),e._dragged=Te,Z(ze,Se,we,ke,Le,Me),Oe(),e.emit("plotly_relayouting",de),Le=!0}function Oe(){de={},"xy"!==Ae&&"x"!==Ae||(P(W,we.l/$,we.r/$,de,te.xaxes),Ne("x",de)),"xy"!==Ae&&"y"!==Ae||(P(K,(ee-we.b)/ee,(ee-we.t)/ee,de,te.yaxes),Ne("y",de))}function Pe(){Oe(),V(e),qe(),G(e)}Ce.prepFn=function(t,r,n){var i=Ce.dragmode,o=e._fullLayout.dragmode;o!==i&&(Ce.dragmode=o),me(),fe=e._fullLayout._invScaleX,he=e._fullLayout._invScaleY,ie||(ve?t.shiftKey?"pan"===o?o="zoom":m(o)||(o="pan"):t.ctrlKey&&(o="pan"):o="pan"),y(o)?Ce.minDrag=1:Ce.minDrag=void 0,m(o)?(Ce.xaxes=W,Ce.yaxes=K,k(t,r,n,Ce,o)):(Ce.clickFn=De,m(i)&&Ie(),ie||("zoom"===o?(Ce.moveFn=Re,Ce.doneFn=Pe,Ce.minDrag=1,function(t,r,n){var i=xe.getBoundingClientRect();_e=r-i.left,be=n-i.top,e._fullLayout._calcInverseTransform(e);var o=l.apply3DTransform(e._fullLayout._invTransform)(_e,be);_e=o[0],be=o[1],we={l:_e,r:_e,w:0,t:be,b:be,h:0},Me=e._hmpixcount?e._hmlumcount/e._hmpixcount:a(e._fullLayout.plot_bgcolor).getLuminance(),Le=!1,Ae="xy",Te=!1,ze=H(pe,Me,Q,J,ke="M0,0H"+$+"V"+ee+"H0V0"),Se=B(pe,Q,J)}(0,r,n)):"pan"===o&&(Ce.moveFn=Ze,Ce.doneFn=qe))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===xe){var r=e._fullLayout.dragmode;m(r)||(me(),Ue([0,0,$,ee]),Ce.moveFn(t.dx,t.dy))}}},v.init(Ce);var Ee=[0,0,$,ee],Fe=null,He=S.REDRAWDELAY,Be=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function Ze(t,r){if(t*=fe,r*=he,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===ne||"ns"===ae){var n=ne?-t:0,a=ae?-r:0;if(re.isSubplotConstrained){if(ne&&ae){var i=(t/$-r/ee)/2;n=-(t=i*$),a=-(r=-i*ee)}ae?n=-a*$/ee:a=-n*ee/$}return ne&&(E(W,t),Ne("x")),ae&&(E(K,r),Ne("y")),Ue([n,a,$,ee]),Ve(),void e.emit("plotly_relayouting",de)}var o,l,s="w"===ne==("n"===ae)?1:-1;if(ne&&ae&&(te.isSubplotConstrained||re.isSubplotConstrained)){var c=(t/$+s*r/ee)/2;t=c*$,r=s*c*ee}if("w"===ne?t=h(W,0,t):"e"===ne?t=h(W,1,-t):ne||(t=0),"n"===ae?r=h(K,1,r):"s"===ae?r=h(K,0,-r):ae||(r=0),o="w"===ne?t:0,l="n"===ae?r:0,te.isSubplotConstrained&&!re.isSubplotConstrained||re.isSubplotConstrained&&ne&&ae&&s>0){var u;if(re.isSubplotConstrained||!ne&&1===ae.length){for(u=0;u<W.length;u++)W[u].range=W[u]._r.slice(),z(W[u],1-r/ee);o=(t=r*$/ee)/2}if(re.isSubplotConstrained||!ae&&1===ne.length){for(u=0;u<K.length;u++)K[u].range=K[u]._r.slice(),z(K[u],1-t/$);l=(r=t*ee/$)/2}}re.isSubplotConstrained&&ae||Ne("x"),re.isSubplotConstrained&&ne||Ne("y");var d=$-t,f=ee-r;!re.isSubplotConstrained||ne&&ae||(ne?(l=o?0:t*ee/$,f=d*ee/$):(o=l?0:r*$/ee,d=f*$/ee)),Ue([o,l,d,f]),Ve(),e.emit("plotly_relayouting",de)}function h(e,t,r){for(var n,a,i=1-t,o=0;o<e.length;o++){var l=e[o];if(!l.fixedrange){n=l,a=l._rl[i]+(l._rl[t]-l._rl[i])/F(r/l._length);var s=l.l2r(a);!1!==s&&void 0!==s&&(l.range[t]=s)}}return n._length*(n._rl[t]-a)/(n._rl[t]-n._rl[i])}}function Ne(e,t){for(var r=re.isSubplotConstrained?{x:K,y:W}[e]:re[e+"axes"],n=re.isSubplotConstrained?{x:W,y:K}[e]:[],a=0;a<r.length;a++){var i=r[a],o=i._id,l=re.xLinks[o]||re.yLinks[o],s=n[0]||N[l]||X[l];s&&(t?(t[i._name+".range[0]"]=t[s._name+".range[0]"],t[i._name+".range[1]"]=t[s._name+".range[1]"]):i.range=s.range.slice())}}function Ve(){var t,r=[];function n(e){for(t=0;t<e.length;t++)e[t].fixedrange||r.push(e[t]._id)}for(oe&&(n(W),n(te.xaxes),n(re.xaxes)),le&&(n(K),n(te.yaxes),n(re.yaxes)),de={},t=0;t<r.length;t++){var a=r[t],i=M(e,a);h.drawOne(e,i,{skipTitle:!0}),de[i._name+".range[0]"]=i.range[0],de[i._name+".range[1]"]=i.range[1]}h.redrawComponents(e,r)}function Ge(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,r=[];ne&&(r=r.concat(W)),ae&&(r=r.concat(K)),re.xaxes&&(r=r.concat(re.xaxes)),re.yaxes&&(r=r.concat(re.yaxes));var n,a,i,l={};if("reset+autosize"===t)for(t="autosize",a=0;a<r.length;a++)if((n=r[a])._rangeInitial&&(n.range[0]!==n._rangeInitial[0]||n.range[1]!==n._rangeInitial[1])||!n._rangeInitial&&!n.autorange){t="reset";break}if("autosize"===t)for(a=0;a<r.length;a++)(n=r[a]).fixedrange||(l[n._name+".autorange"]=!0);else if("reset"===t)for((ne||te.isSubplotConstrained)&&(r=r.concat(te.xaxes)),ae&&!te.isSubplotConstrained&&(r=r.concat(te.yaxes)),te.isSubplotConstrained&&(ne?ae||(r=r.concat(K)):r=r.concat(W)),a=0;a<r.length;a++)(n=r[a]).fixedrange||(n._rangeInitial?(i=n._rangeInitial,l[n._name+".range[0]"]=i[0],l[n._name+".range[1]"]=i[1]):l[n._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),o.call("_guiRelayout",e,l)}}function qe(){Ue([0,0,$,ee]),l.syncOrAsync([w.previousPromises,function(){e._fullLayout._replotting=!1,o.call("_guiRelayout",e,de)}],e)}function Ue(t){var r,n,a,i,s=e._fullLayout,c=s._plots,u=s._subplots.cartesian;if(ce&&o.subplotsRegistry.splom.drag(e),se)for(r=0;r<u.length;r++)if(a=(n=c[u[r]]).xaxis,i=n.yaxis,n._scene){var f=l.simpleMap(a.range,a.r2l),h=l.simpleMap(i.range,i.r2l);n._scene.update({range:[f[0],h[0],f[1],h[1]]})}if((ce||se)&&(_(e),b(e)),ue){var v=t[2]/I._length,m=t[3]/D._length;for(r=0;r<u.length;r++){a=(n=c[u[r]]).xaxis,i=n.yaxis;var y,x,w,M,k=(oe||re.isSubplotConstrained)&&!a.fixedrange&&N[a._id],L=(le||re.isSubplotConstrained)&&!i.fixedrange&&X[i._id];if(k?(y=v,w=g||re.isSubplotConstrained?t[0]:Xe(a,y)):re.xaHash[a._id]?(y=v,w=t[0]*a._length/I._length):re.yaHash[a._id]?(y=m,w="ns"===ae?-t[1]*a._length/D._length:Xe(a,y,{n:"top",s:"bottom"}[ae])):w=Ye(a,y=je(a,v,m)),L?(x=m,M=p||re.isSubplotConstrained?t[1]:Xe(i,x)):re.yaHash[i._id]?(x=m,M=t[1]*i._length/D._length):re.xaHash[i._id]?(x=v,M="ew"===ne?-t[0]*i._length/I._length:Xe(i,x,{e:"right",w:"left"}[ne])):M=Ye(i,x=je(i,v,m)),y||x){y||(y=1),x||(x=1);var A=a._offset-w/y,z=i._offset-M/x;n.clipRect.call(d.setTranslate,w,M).call(d.setScale,y,x),n.plot.call(d.setTranslate,A,z).call(d.setScale,1/y,1/x),y===n.xScaleFactor&&x===n.yScaleFactor||(d.setPointGroupScale(n.zoomScalePts,y,x),d.setTextPointsScale(n.zoomScaleTxt,y,x)),d.hideOutsideRangePoints(n.clipOnAxisFalseTraces,n),n.xScaleFactor=y,n.yScaleFactor=x}}}}function je(e,t,r){return e.fixedrange?0:oe&&te.xaHash[e._id]?t:le&&(te.isSubplotConstrained?te.xaHash:te.yaHash)[e._id]?r:0}function Ye(e,t){return t?(e.range=e._r.slice(),z(e,t),Xe(e,t)):0}function Xe(e,t,r){return e._length*(1-t)*x[r||e.constraintoward||"middle"]}return p.length*g.length!=1&&j(xe,function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Ie(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();me(),clearTimeout(Fe);var r=-t.deltaY;if(isFinite(r)||(r=t.wheelDelta/10),isFinite(r)){var n,a=Math.exp(-Math.min(Math.max(r,-20),20)/200),i=Be.draglayer.select(".nsewdrag").node().getBoundingClientRect(),o=(t.clientX-i.left)/i.width,s=(i.bottom-t.clientY)/i.height;if(oe){for(g||(o=.5),n=0;n<W.length;n++)c(W[n],o,a);Ne("x"),Ee[2]*=a,Ee[0]+=Ee[2]*o*(1/a-1)}if(le){for(p||(s=.5),n=0;n<K.length;n++)c(K[n],s,a);Ne("y"),Ee[3]*=a,Ee[1]+=Ee[3]*(1-s)*(1/a-1)}Ue(Ee),Ve(),e.emit("plotly_relayouting",de),Fe=setTimeout(function(){Ee=[0,0,$,ee],qe()},He),t.preventDefault()}else l.log("Did not find wheel motion attributes: ",t)}function c(e,t,r){if(!e.fixedrange){var n=l.simpleMap(e.range,e.r2l),a=n[0]+(n[1]-n[0])*t;e.range=n.map(function(t){return e.l2r(a+(t-a)*r)})}}}),xe},makeDragger:D,makeRectDragger:R,makeZoombox:H,makeCorners:B,updateZoombox:Z,xyCorners:q,transitionZoombox:N,removeZoombox:V,showDoubleClickNotifier:G,attachWheelEventHandler:j}},387:function(e,t,r){"use strict";t.manage=r(388)},388:function(e,t,r){"use strict";var n=r(27),a=r(101),i=r(3),o=r(100).isUnifiedHover,l=r(389),s=r(390);e.exports=function(e){var t=e._fullLayout,r=e._context,u=t._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,f=r.modeBarButtons;d=Array.isArray(f)&&f.length?function(e){for(var t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.length;n++){var a=r[n];if("string"==typeof a){if(void 0===s[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][n]=s[a]}}return e}(f):!r.displayModeBar&&r.watermark?[]:function(e){var t=e._fullLayout,r=e._fullData,l=e._context,u=l.modeBarButtonsToRemove,d=l.modeBarButtonsToAdd,f=t._has("cartesian"),h=t._has("gl3d"),p=t._has("geo"),v=t._has("pie"),g=t._has("funnelarea"),m=t._has("gl2d"),y=t._has("ternary"),x=t._has("mapbox"),_=t._has("polar"),b=t._has("sankey"),w=function(e){for(var t=n.list({_fullLayout:e},null,!0),r=0;r<t.length;r++)if(!t[r].fixedrange)return!1;return!0}(t),M=o(t.hovermode),k=[];function L(e){if(e.length){for(var t=[],r=0;r<e.length;r++){var n=e[r];-1===u.indexOf(n)&&t.push(s[n])}k.push(t)}}var A=["toImage"];l.showEditInChartStudio?A.push("editInChartStudio"):l.showSendToCloud&&A.push("sendDataToCloud");L(A);var z=[],S=[],T=[],C=[];(f||m||v||g||y)+p+h+x+_>1?(S=["toggleHover"],T=["resetViews"]):p?(z=["zoomInGeo","zoomOutGeo"],S=["hoverClosestGeo"],T=["resetGeo"]):h?(S=["hoverClosest3d"],T=["resetCameraDefault3d","resetCameraLastSave3d"]):x?(z=["zoomInMapbox","zoomOutMapbox"],S=["toggleHover"],T=["resetViewMapbox"]):m?S=["hoverClosestGl2d"]:v?S=["hoverClosestPie"]:b?(S=["hoverClosestCartesian","hoverCompareCartesian"],T=["resetViewSankey"]):S=["toggleHover"];f&&(S=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);((function(e){for(var t=0;t<e.length;t++)if(!i.traceIs(e[t],"noHover"))return!1;return!0})(r)||M)&&(S=[]);!f&&!m||w||(z=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==T[0]&&(T=["resetScale2d"]));h?C=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||m)&&!w||y?C=["zoom2d","pan2d"]:x||p?C=["pan2d"]:_&&(C=["zoom2d"]);(function(e){for(var t=!1,r=0;r<e.length&&!t;r++){var n=e[r];n._module&&n._module.selectPoints&&(i.traceIs(n,"scatter-like")?(a.hasMarkers(n)||a.hasText(n))&&(t=!0):i.traceIs(n,"box-violin")&&"all"!==n.boxpoints&&"all"!==n.points||(t=!0))}return t})(r)&&C.push("select2d","lasso2d");if(Array.isArray(d)){for(var I=[],D=0;D<d.length;D++){var R=d[D];"string"==typeof R?-1!==c.indexOf(R)&&(t._has("mapbox")||t._has("cartesian"))&&C.push(R):I.push(R)}d=I}return L(C),L(z.concat(T)),L(S),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t);return e}(k,d)}(e),u?u.update(e,d):t._modeBar=l(e,d)}else u&&(u.destroy(),delete t._modeBar)};var c=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},389:function(e,t,r){"use strict";var n=r(4),a=r(1),i=r(0),o=r(349),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===n.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var o=n.modebar,l="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(a),i.addRelatedStyleRule(a,l+"#"+a+" .modebar-group","background-color: "+o.bgcolor),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn .icon path","fill: "+o.color),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn:hover .icon path","fill: "+o.activecolor),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn.active .icon path","fill: "+o.activecolor);var s=!this.hasButtons(t),c=this.hasLogo!==r.displaylogo,u=this.locale!==r.locale;if(this.locale=r.locale,(s||c||u)&&(this.removeAllButtons(),this.updateButtons(t),r.watermark||r.displaylogo)){var d=this.getLogo();r.watermark&&(d.className=d.className+" watermark"),"v"===n.modebar.orientation?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var r=t.createGroup();e.forEach(function(e){var n=e.name;if(!n)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(n))throw new Error("button name '"+n+"' is taken");t.buttonsNames.push(n);var a=t.createButton(e);t.buttonElements.push(a),r.appendChild(a)}),t.element.appendChild(r)})},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var a=e.title;void 0===a?a=e.name:"function"==typeof a&&(a=a(this.graphInfo)),(a||0===a)&&r.setAttribute("data-title",a),void 0!==e.attr&&r.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),r.setAttribute("data-val",i)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(r){e.click(t.graphInfo,r),t.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&n.select(r).classed("active",!0);var l=e.icon;return"function"==typeof l?r.appendChild(l()):r.appendChild(this.createIcon(l||o.question)),r.setAttribute("data-gravity",e.gravity||"n"),r},c.createIcon=function(e){var t,r=a(e.height)?Number(e.height):e.ascent-e.descent,n="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(n,"svg")).setAttribute("viewBox",[0,0,e.width,r].join(" ")),t.setAttribute("class","icon");var i=document.createElementNS(n,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(i)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var a=e.getAttribute("data-val")||!0,o=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=n.select(e);if(l)o===r&&s.classed("active",!s.classed("active"));else{var c=null===o?o:i.nestedProperty(t,o).get();s.classed("active",c===a)}})},c.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var n=0;n<e[r].length;n++)if(e[r][n].name!==t[r][n].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var r=e._fullLayout,a=new s({graphInfo:e,container:r._modebardiv.node(),buttons:t});return r._privateplot&&n.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},390:function(e,t,r){"use strict";var n=r(3),a=r(57),i=r(27),o=r(349),l=r(379).eraseActiveShape,s=r(0),c=s._,u=e.exports={};function d(e,t){var r,a,o=t.currentTarget,l=o.getAttribute("data-attr"),s=o.getAttribute("data-val")||!0,c=e._fullLayout,u={},d=i.list(e,null,!0),f=c._cartesianSpikesEnabled;if("zoom"===l){var h,p="in"===s?.5:2,v=(1+p)/2,g=(1-p)/2;for(a=0;a<d.length;a++)if(!(r=d[a]).fixedrange)if(h=r._name,"auto"===s)u[h+".autorange"]=!0;else if("reset"===s){if(void 0===r._rangeInitial)u[h+".autorange"]=!0;else{var m=r._rangeInitial.slice();u[h+".range[0]"]=m[0],u[h+".range[1]"]=m[1]}void 0!==r._showSpikeInitial&&(u[h+".showspikes"]=r._showSpikeInitial,"on"!==f||r._showSpikeInitial||(f="off"))}else{var y=[r.r2l(r.range[0]),r.r2l(r.range[1])],x=[v*y[0]+g*y[1],v*y[1]+g*y[0]];u[h+".range[0]"]=r.l2r(x[0]),u[h+".range[1]"]=r.l2r(x[1])}}else"hovermode"!==l||"x"!==s&&"y"!==s||(s=c._isHoriz?"y":"x",o.setAttribute("data-val",s)),u[l]=s;c._cartesianSpikesEnabled=f,n.call("_guiRelayout",e,u)}function f(e,t){for(var r=t.currentTarget,a=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],l={},s=a.split("."),c=0;c<o.length;c++)l[o[c]+"."+s[1]]=i;var u="pan"===i?i:"zoom";l.dragmode=u,n.call("_guiRelayout",e,l)}function h(e,t){for(var r=t.currentTarget.getAttribute("data-attr"),a="resetLastSave"===r,i="resetDefault"===r,o=e._fullLayout,l=o._subplots.gl3d||[],s={},c=0;c<l.length;c++){var u,d=l[c],f=d+".camera",h=d+".aspectratio",p=d+".aspectmode",v=o[d]._scene;a?(s[f+".up"]=v.viewInitial.up,s[f+".eye"]=v.viewInitial.eye,s[f+".center"]=v.viewInitial.center,u=!0):i&&(s[f+".up"]=null,s[f+".eye"]=null,s[f+".center"]=null,u=!0),u&&(s[h+".x"]=v.viewInitial.aspectratio.x,s[h+".y"]=v.viewInitial.aspectratio.y,s[h+".z"]=v.viewInitial.aspectratio.z,s[p]=v.viewInitial.aspectmode)}n.call("_guiRelayout",e,s)}function p(e,t){var r=t.currentTarget,n=r._previousVal,a=e._fullLayout,i=a._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],l={},s={};if(n)s=n,r._previousVal=null;else{for(var c=0;c<i.length;c++){var u=i[c],d=a[u],f=u+".hovermode";l[f]=d.hovermode,s[f]=!1;for(var h=0;h<3;h++){var p=o[h],v=u+"."+p+".showspikes";s[v]=!1,l[v]=d[p].showspikes}}r._previousVal=l}return s}function v(e,t){for(var r=t.currentTarget,a=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout,l=o._subplots.geo||[],s=0;s<l.length;s++){var c=l[s],u=o[c];if("zoom"===a){var d=u.projection.scale,f="in"===i?2*d:.5*d;n.call("_guiRelayout",e,c+".projection.scale",f)}}"reset"===a&&x(e,"geo")}function g(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function m(e){var t=g(e);n.call("_guiRelayout",e,"hovermode",t)}function y(e,t){for(var r=t.currentTarget.getAttribute("data-val"),a=e._fullLayout,i=a._subplots.mapbox||[],o={},l=0;l<i.length;l++){var s=i[l],c=a[s].zoom,u="in"===r?1.05*c:c/1.05;o[s+".zoom"]=u}n.call("_guiRelayout",e,o)}function x(e,t){for(var r=e._fullLayout,a=r._subplots[t]||[],i={},o=0;o<a.length;o++)for(var l=a[o],s=r[l]._subplot.viewInitial,c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];i[l+"."+d]=s[d]}n.call("_guiRelayout",e,i)}u.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return c(e,"png"===t?"Download plot as a png":"Download plot")},icon:o.camera,click:function(e){var t=e._context.toImageButtonOptions,r={format:t.format||"png"};s.notifier(c(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&s.isIE()&&(s.notifier(c(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(e){e in t&&(r[e]=t[e])}),n.call("downloadImage",e,r).then(function(t){s.notifier(c(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){s.notifier(c(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.disk,click:function(e){a.sendDataToCloud(e)}},u.editInChartStudio={name:"editInChartStudio",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.pencil,click:function(e){a.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return c(e,"Zoom")},attr:"dragmode",val:"zoom",icon:o.zoombox,click:d},u.pan2d={name:"pan2d",title:function(e){return c(e,"Pan")},attr:"dragmode",val:"pan",icon:o.pan,click:d},u.select2d={name:"select2d",title:function(e){return c(e,"Box Select")},attr:"dragmode",val:"select",icon:o.selectbox,click:d},u.lasso2d={name:"lasso2d",title:function(e){return c(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:o.lasso,click:d},u.drawclosedpath={name:"drawclosedpath",title:function(e){return c(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:o.drawclosedpath,click:d},u.drawopenpath={name:"drawopenpath",title:function(e){return c(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:o.drawopenpath,click:d},u.drawline={name:"drawline",title:function(e){return c(e,"Draw line")},attr:"dragmode",val:"drawline",icon:o.drawline,click:d},u.drawrect={name:"drawrect",title:function(e){return c(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:o.drawrect,click:d},u.drawcircle={name:"drawcircle",title:function(e){return c(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:o.drawcircle,click:d},u.eraseshape={name:"eraseshape",title:function(e){return c(e,"Erase active shape")},icon:o.eraseshape,click:l},u.zoomIn2d={name:"zoomIn2d",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:d},u.zoomOut2d={name:"zoomOut2d",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:d},u.autoScale2d={name:"autoScale2d",title:function(e){return c(e,"Autoscale")},attr:"zoom",val:"auto",icon:o.autoscale,click:d},u.resetScale2d={name:"resetScale2d",title:function(e){return c(e,"Reset axes")},attr:"zoom",val:"reset",icon:o.home,click:d},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return c(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:d},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return c(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:o.tooltip_compare,gravity:"ne",click:d},u.zoom3d={name:"zoom3d",title:function(e){return c(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:o.zoombox,click:f},u.pan3d={name:"pan3d",title:function(e){return c(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:o.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(e){return c(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:o["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(e){return c(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:o["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return c(e,"Reset camera to default")},attr:"resetDefault",icon:o.home,click:h},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return c(e,"Reset camera to last save")},attr:"resetLastSave",icon:o.movie,click:h},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var r=p(e,t);n.call("_guiRelayout",e,r)}},u.zoomInGeo={name:"zoomInGeo",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:v},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:v},u.resetGeo={name:"resetGeo",title:function(e){return c(e,"Reset")},attr:"reset",val:null,icon:o.autoscale,click:v},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:m},u.resetViewSankey={name:"resetSankeyGroup",title:function(e){return c(e,"Reset view")},icon:o.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<e._fullData.length;r++){var a=e._fullData[r]._viewInitial;t["node.groups"].push(a.node.groups.slice()),t["node.x"].push(a.node.x.slice()),t["node.y"].push(a.node.y.slice())}n.call("restyle",e,t)}},u.toggleHover={name:"toggleHover",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var r=p(e,t);r.hovermode=g(e),n.call("_guiRelayout",e,r)}},u.resetViews={name:"resetViews",title:function(e){return c(e,"Reset views")},icon:o.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),d(e,t),r.setAttribute("data-attr","resetLastSave"),h(e,t),x(e,"geo"),x(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return c(e,"Toggle Spike Lines")},icon:o.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,r=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===r?"off":"on",n.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,r=i.list(e,null,!0),n={},a=0;a<r.length;a++){var o=r[a];n[o._name+".showspikes"]=!!t||o._showSpikeInitial}return n}(e))}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return c(e,"Reset view")},attr:"reset",icon:o.home,click:function(e){x(e,"mapbox")}},u.zoomInMapbox={name:"zoomInMapbox",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:y},u.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:y}},391:function(e,t){e.exports=function(e){var t=[];return e.replace(n,function(e,n,i){var o=n.toLowerCase();for(i=function(e){var t=e.match(a);return t?t.map(Number):[]}(i),"m"==o&&i.length>2&&(t.push([n].concat(i.splice(0,2))),o="l",n="m"==n?"l":"L");;){if(i.length==r[o])return i.unshift(n),t.push(i);if(i.length<r[o])throw new Error("malformed path data");t.push([n].concat(i.splice(0,r[o])))}}),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},392:function(e,t,r){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var n,a=r(393),i=r(394),o=r(395),l=r(397),s=r(398),c=r(399),u=!1,d=i();function f(e,t,r){var a=n.segments(e),i=n.segments(t),o=r(n.combine(a,i));return n.polygon(o)}n={buildLog:function(e){return!0===e?u=a():!1===e&&(u=!1),!1!==u&&u.list},epsilon:function(e){return d.epsilon(e)},segments:function(e){var t=o(!0,d,u);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:o(!1,d,u).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,u),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,u),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,u),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,u),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,u),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,d,u),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(n,e)},polygonToGeoJSON:function(e){return c.fromPolygon(n,d,e)},union:function(e,t){return f(e,t,n.selectUnion)},intersect:function(e,t){return f(e,t,n.selectIntersect)},difference:function(e,t){return f(e,t,n.selectDifference)},differenceRev:function(e,t){return f(e,t,n.selectDifferenceRev)},xor:function(e,t){return f(e,t,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),e.exports=n},393:function(e,t){e.exports=function(){var e,t=0,r=!1;function n(t,r){return e.list.push({type:t,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return n("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return n("div_seg",{seg:e,pt:t}),n("chop",{seg:e,pt:t})},statusRemove:function(e){return n("pop_seg",{seg:e})},segmentUpdate:function(e){return n("seg_update",{seg:e})},segmentNew:function(e,t){return n("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return n("rem_seg",{seg:e})},tempStatus:function(e,t,r){return n("temp_status",{seg:e,above:t,below:r})},rewind:function(e){return n("rewind",{seg:e})},status:function(e,t,r){return n("status",{seg:e,above:t,below:r})},vert:function(t){return t===r?e:(r=t,n("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),n("log",{txt:e})},reset:function(){return n("reset")},selected:function(e){return n("selected",{segs:e})},chainStart:function(e){return n("chain_start",{seg:e})},chainRemoveHead:function(e,t){return n("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return n("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return n("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return n("chain_match",{index:e})},chainClose:function(e){return n("chain_close",{index:e})},chainAddHead:function(e,t){return n("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return n("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return n("chain_con",{index1:e,index2:t})},chainReverse:function(e){return n("chain_rev",{index:e})},chainJoin:function(e,t){return n("chain_join",{index1:e,index2:t})},done:function(){return n("done")}}}},394:function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,r,n){var a=r[0],i=r[1],o=n[0],l=n[1],s=t[0];return(o-a)*(t[1]-i)-(l-i)*(s-a)>=-e},pointBetween:function(t,r,n){var a=t[1]-r[1],i=n[0]-r[0],o=t[0]-r[0],l=n[1]-r[1],s=o*i+a*l;return!(s<e||s-(i*i+l*l)>-e)},pointsSameX:function(t,r){return Math.abs(t[0]-r[0])<e},pointsSameY:function(t,r){return Math.abs(t[1]-r[1])<e},pointsSame:function(e,r){return t.pointsSameX(e,r)&&t.pointsSameY(e,r)},pointsCompare:function(e,r){return t.pointsSameX(e,r)?t.pointsSameY(e,r)?0:e[1]<r[1]?-1:1:e[0]<r[0]?-1:1},pointsCollinear:function(t,r,n){var a=t[0]-r[0],i=t[1]-r[1],o=r[0]-n[0],l=r[1]-n[1];return Math.abs(a*l-o*i)<e},linesIntersect:function(t,r,n,a){var i=r[0]-t[0],o=r[1]-t[1],l=a[0]-n[0],s=a[1]-n[1],c=i*s-o*l;if(Math.abs(c)<e)return!1;var u=t[0]-n[0],d=t[1]-n[1],f=(l*d-s*u)/c,h=(i*d-o*u)/c,p={alongA:0,alongB:0,pt:[t[0]+f*i,t[1]+f*o]};return p.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,r){for(var n=t[0],a=t[1],i=r[r.length-1][0],o=r[r.length-1][1],l=!1,s=0;s<r.length;s++){var c=r[s][0],u=r[s][1];u-a>e!=o-a>e&&(i-c)*(a-u)/(o-u)+c-n>e&&(l=!l),i=c,o=u}return l}};return t}},395:function(e,t,r){var n=r(396);e.exports=function(e,t,r){function a(e,t,n){return{id:r?r.segmentId():-1,start:e,end:t,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var i=n.create();function o(e,r){i.insertBefore(e,function(n){return function(e,r,n,a,i,o){var l=t.pointsCompare(r,i);return 0!==l?l:t.pointsSame(n,o)?0:e!==a?e?1:-1:t.pointAboveOrOnLine(n,a?i:o,a?o:i)?1:-1}(e.isStart,e.pt,r,n.isStart,n.pt,n.other.pt)<0})}function l(e,t){var r=function(e,t){var r=n.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return o(r,e.end),r}(e,t);return function(e,t,r){var a=n.node({isStart:!1,pt:t.end,seg:t,primary:r,other:e,status:null});e.other=a,o(a,e.pt)}(r,e,t),r}function s(e,t){var n=a(t,e.seg.end,e.seg);return function(e,t){r&&r.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,o(e.other,e.pt)}(e,t),l(n,e.primary)}function c(a,o){var l=n.create();function c(e){return l.findTransition(function(r){var n,a,i,o,l,s;return n=e,a=r.ev,i=n.seg.start,o=n.seg.end,l=a.seg.start,s=a.seg.end,(t.pointsCollinear(i,l,s)?t.pointsCollinear(o,l,s)?1:t.pointAboveOrOnLine(o,l,s)?1:-1:t.pointAboveOrOnLine(i,l,s)?1:-1)>0})}function u(e,n){var a=e.seg,i=n.seg,o=a.start,l=a.end,c=i.start,u=i.end;r&&r.checkIntersection(a,i);var d=t.linesIntersect(o,l,c,u);if(!1===d){if(!t.pointsCollinear(o,l,c))return!1;if(t.pointsSame(o,u)||t.pointsSame(l,c))return!1;var f=t.pointsSame(o,c),h=t.pointsSame(l,u);if(f&&h)return n;var p=!f&&t.pointBetween(o,c,u),v=!h&&t.pointBetween(l,c,u);if(f)return v?s(n,l):s(e,u),n;p&&(h||(v?s(n,l):s(e,u)),s(n,o))}else 0===d.alongA&&(-1===d.alongB?s(e,c):0===d.alongB?s(e,d.pt):1===d.alongB&&s(e,u)),0===d.alongB&&(-1===d.alongA?s(n,o):0===d.alongA?s(n,d.pt):1===d.alongA&&s(n,l));return!1}for(var d=[];!i.isEmpty();){var f=i.getHead();if(r&&r.vert(f.pt[0]),f.isStart){r&&r.segmentNew(f.seg,f.primary);var h=c(f),p=h.before?h.before.ev:null,v=h.after?h.after.ev:null;function g(){if(p){var e=u(f,p);if(e)return e}return!!v&&u(f,v)}r&&r.tempStatus(f.seg,!!p&&p.seg,!!v&&v.seg);var m,y,x=g();if(x)e?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(x.seg.myFill.above=!x.seg.myFill.above):x.seg.otherFill=f.seg.myFill,r&&r.segmentUpdate(x.seg),f.other.remove(),f.remove();if(i.getHead()!==f){r&&r.rewind(f.seg);continue}e?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=v?v.seg.myFill.above:a,f.seg.myFill.above=y?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(m=v?f.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:f.primary?o:a,f.seg.otherFill={above:m,below:m}),r&&r.status(f.seg,!!p&&p.seg,!!v&&v.seg),f.other.status=h.insert(n.node({ev:f}))}else{var _=f.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&u(_.prev.ev,_.next.ev),r&&r.statusRemove(_.ev.seg),_.remove(),!f.primary){var b=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=b}d.push(f.seg)}i.getHead().remove()}return r&&r.done(),d}return e?{addRegion:function(e){for(var n,a,i,o=e[e.length-1],s=0;s<e.length;s++){n=o,o=e[s];var c=t.pointsCompare(n,o);0!==c&&l((a=c<0?n:o,i=c<0?o:n,{id:r?r.segmentId():-1,start:a,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,r,n){return e.forEach(function(e){l(a(e.start,e.end,e),!0)}),r.forEach(function(e){l(a(e.start,e.end,e),!1)}),c(t,n)}}}},396:function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,r){for(var n=e.root,a=e.root.next;null!==a;){if(r(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);n=a,a=a.next}n.next=t,t.prev=n,t.next=null},findTransition:function(t){for(var r=e.root,n=e.root.next;null!==n&&!t(n);)r=n,n=n.next;return{before:r===e.root?null:r,after:n,insert:function(e){return e.prev=r,e.next=n,r.next=e,null!==n&&(n.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},397:function(e,t){e.exports=function(e,t,r){var n=[],a=[];return e.forEach(function(e){var i=e.start,o=e.end;if(t.pointsSame(i,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,u=0;u<n.length;u++){var d=(g=n[u])[0],f=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(d,i)){if(k(u,!0,!0))break}else if(t.pointsSame(d,o)){if(k(u,!0,!1))break}else if(t.pointsSame(f,i)){if(k(u,!1,!0))break}else if(t.pointsSame(f,o)&&k(u,!1,!1))break}if(c===l)return n.push([i,o]),void(r&&r.chainNew(i,o));if(c===s){r&&r.chainMatch(l.index);var h=l.index,p=l.matches_pt1?o:i,v=l.matches_head,g=n[h],m=v?g[0]:g[g.length-1],y=v?g[1]:g[g.length-2],x=v?g[g.length-1]:g[0],_=v?g[g.length-2]:g[1];return t.pointsCollinear(y,m,p)&&(v?(r&&r.chainRemoveHead(l.index,p),g.shift()):(r&&r.chainRemoveTail(l.index,p),g.pop()),m=y),t.pointsSame(x,p)?(n.splice(h,1),t.pointsCollinear(_,x,m)&&(v?(r&&r.chainRemoveTail(l.index,m),g.pop()):(r&&r.chainRemoveHead(l.index,m),g.shift())),r&&r.chainClose(l.index),void a.push(g)):void(v?(r&&r.chainAddHead(l.index,p),g.unshift(p)):(r&&r.chainAddTail(l.index,p),g.push(p)))}var b=l.index,w=s.index;r&&r.chainConnect(b,w);var M=n[b].length<n[w].length;l.matches_head?s.matches_head?M?(L(b),A(b,w)):(L(w),A(w,b)):A(w,b):s.matches_head?A(b,w):M?(L(b),A(w,b)):(L(w),A(b,w))}function k(e,t,r){return c.index=e,c.matches_head=t,c.matches_pt1=r,c===l?(c=s,!1):(c=null,!0)}function L(e){r&&r.chainReverse(e),n[e].reverse()}function A(e,a){var i=n[e],o=n[a],l=i[i.length-1],s=i[i.length-2],c=o[0],u=o[1];t.pointsCollinear(s,l,c)&&(r&&r.chainRemoveTail(e,l),i.pop(),l=s),t.pointsCollinear(l,c,u)&&(r&&r.chainRemoveHead(a,c),o.shift()),r&&r.chainJoin(e,a),n[e]=i.concat(o),n.splice(a,1)}}),a}},398:function(e,t){function r(e,t,r){var n=[];return e.forEach(function(e){var a=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[a]&&n.push({id:r?r.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[a],below:2===t[a]},otherFill:null})}),r&&r.selected(n),n}var n={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=n},399:function(e,t){var r={toPolygon:function(e,t){function r(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function r(t){var r=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[r]})}for(var n=r(t[0]),a=1;a<t.length;a++)n=e.selectDifference(e.combine(n,r(t[a])));return n}if("Polygon"===t.type)return e.polygon(r(t.coordinates));if("MultiPolygon"===t.type){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<t.coordinates.length;a++)n=e.selectUnion(e.combine(n,r(t.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,r){function n(e,r){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r)}function a(e){return{region:e,children:[]}}r=e.polygon(e.segments(r));var i=a(null);function o(e,t){for(var r=0;r<e.children.length;r++){if(n(t,(l=e.children[r]).region))return void o(l,t)}var i=a(t);for(r=0;r<e.children.length;r++){var l;n((l=e.children[r]).region,t)&&(i.children.push(l),e.children.splice(r,1),r--)}e.children.push(i)}for(var l=0;l<r.regions.length;l++){var s=r.regions[l];s.length<3||o(i,s)}function c(e,t){for(var r=0,n=e[e.length-1][0],a=e[e.length-1][1],i=[],o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];i.push([l,s]),r+=s*n-l*a,n=l,a=s}return r<0!==t&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var u=[];function d(e){var t=[c(e.region,!1)];u.push(t);for(var r=0;r<e.children.length;r++)t.push(f(e.children[r]))}function f(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return c(e.region,!0)}for(l=0;l<i.children.length;l++)d(i.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=r},401:function(e,t,r){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},402:function(e,t,r){"use strict";var n=r(0),a=r(14),i=r(100).isUnifiedHover,o=r(346),l=r(17),s=r(41),c=r(18),u=r(403),d=r(382),f=r(341),h=r(383),p=r(27),v=p.id2name,g=p.name2id,m=r(26).AX_ID_PATTERN,y=r(3),x=y.traceIs,_=y.getComponentMethod;function b(e,t,r){Array.isArray(e[t])?e[t].push(r):e[t]=[r]}e.exports=function(e,t,r){var y,w,M=t.autotypenumbers,k={},L={},A={},z={},S={},T={},C={},I={},D={},R={};for(y=0;y<r.length;y++){var O=r[y];if(x(O,"cartesian")||x(O,"gl2d")){var P,E;if(O.xaxis)P=v(O.xaxis),b(k,P,O);else if(O.xaxes)for(w=0;w<O.xaxes.length;w++)b(k,v(O.xaxes[w]),O);if(O.yaxis)E=v(O.yaxis),b(k,E,O);else if(O.yaxes)for(w=0;w<O.yaxes.length;w++)b(k,v(O.yaxes[w]),O);if("funnel"===O.type?"h"===O.orientation?(P&&(L[P]=!0),E&&(C[E]=!0)):E&&(A[E]=!0):"image"===O.type?(E&&(I[E]=!0),P&&(I[P]=!0)):(E&&(S[E]=!0,T[E]=!0),x(O,"carpet")&&("carpet"!==O.type||O._cheater)||P&&(z[P]=!0)),"carpet"===O.type&&O._cheater&&P&&(L[P]=!0),x(O,"2dMap")&&(D[P]=!0,D[E]=!0),x(O,"oriented"))R["h"===O.orientation?E:P]=!0}}var F=t._subplots,H=F.xaxis,B=F.yaxis,Z=n.simpleMap(H,v),N=n.simpleMap(B,v),V=Z.concat(N),G=a.background;H.length&&B.length&&(G=n.coerce(e,t,s,"plot_bgcolor"));var q,U,j,Y,X,W=a.combine(G,t.paper_bgcolor);function K(){var e=k[q]||[];X._traceIndices=e.map(function(e){return e._expandedIndex}),X._annIndices=[],X._shapeIndices=[],X._imgIndices=[],X._subplotsWith=[],X._counterAxes=[],X._name=X._attr=q,X._id=U}function Q(e,t){return n.coerce(Y,X,c,e,t)}function J(e,t){return n.coerce2(Y,X,c,e,t)}function $(e){return"x"===e?B:H}function ee(t,r){for(var n="x"===t?Z:N,a=[],i=0;i<n.length;i++){var o=n[i];o===r||(e[o]||{}).overlaying||a.push(g(o))}return a}var te={x:$("x"),y:$("y")},re=te.x.concat(te.y),ne={},ae=[];function ie(){var e=Y.matches;m.test(e)&&-1===re.indexOf(e)&&(ne[e]=Y.type,ae=Object.keys(ne))}var oe=o(e,t,r),le=i(oe);for(y=0;y<V.length;y++){q=V[y],U=g(q),j=q.charAt(0),n.isPlainObject(e[q])||(e[q]={}),Y=e[q],X=l.newContainer(t,q,j+"axis"),K();var se="x"===j&&!z[q]&&L[q]||"y"===j&&!S[q]&&A[q],ce="y"===j&&(!T[q]&&C[q]||I[q]),ue={letter:j,font:t.font,outerTicks:D[q],showGrid:!R[q],data:k[q]||[],bgColor:W,calendar:t.calendar,automargin:!0,visibleDflt:se,reverseDflt:ce,autotypenumbersDflt:M,splomStash:((t._splomAxes||{})[j]||{})[U]};Q("uirevision",t.uirevision),u(Y,X,Q,ue),d(Y,X,Q,ue,t);var de=le&&j===oe.charAt(0),fe=J("spikecolor",le?X.color:void 0),he=J("spikethickness",le?1.5:void 0),pe=J("spikedash",le?"dot":void 0),ve=J("spikemode",le?"across":void 0),ge=J("spikesnap",le?"hovered data":void 0);Q("showspikes",!!(de||fe||he||pe||ve||ge))||(delete X.spikecolor,delete X.spikethickness,delete X.spikedash,delete X.spikemode,delete X.spikesnap),h(Y,X,Q,{letter:j,counterAxes:te[j],overlayableAxes:ee(j,q),grid:t.grid}),Q("title.standoff"),ie(),X._input=Y}for(y=0;y<ae.length;){U=ae[y++],j=(q=v(U)).charAt(0),n.isPlainObject(e[q])||(e[q]={}),Y=e[q],X=l.newContainer(t,q,j+"axis"),K();var me={letter:j,font:t.font,outerTicks:D[q],showGrid:!R[q],data:[],bgColor:W,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:M,splomStash:((t._splomAxes||{})[j]||{})[U]};Q("uirevision",t.uirevision),X.type=ne[U]||"linear",d(Y,X,Q,me,t),h(Y,X,Q,{letter:j,counterAxes:te[j],overlayableAxes:ee(j,q),grid:t.grid}),Q("fixedrange"),ie(),X._input=Y}var ye=_("rangeslider","handleDefaults"),xe=_("rangeselector","handleDefaults");for(y=0;y<Z.length;y++)q=Z[y],Y=e[q],X=t[q],ye(e,t,q),"date"===X.type&&xe(Y,X,t,N,X.calendar),Q("fixedrange");for(y=0;y<N.length;y++){q=N[y],Y=e[q],X=t[q];var _e=t[v(X.anchor)];Q("fixedrange",_("rangeslider","isVisible")(_e))}f.handleDefaults(e,t,{axIds:re.concat(ae).sort(p.idSort),axHasImage:I})}},403:function(e,t,r){"use strict";var n=r(3).traceIs,a=r(120);function i(e){return{v:"x",h:"y"}[e.orientation||"v"]}function o(e,t){var r=i(e),a=n(e,"box-violin"),o=n(e._fullInput||{},"candlestick");return a&&!o&&t===r&&void 0===e[r]&&void 0===e[r+"0"]}e.exports=function(e,t,r,l){r("autotypenumbers",l.autotypenumbersDflt),"-"===r("type",(l.splomStash||{}).type)&&(!function(e,t){if("-"!==e.type)return;var r,l=e._id,s=l.charAt(0);-1!==l.indexOf("scene")&&(l=s);var c=function(e,t,r){for(var n=0;n<e.length;n++){var a=e[n];if("splom"===a.type&&a._length>0&&(a["_"+r+"axes"]||{})[t])return a;if((a[r+"axis"]||r)===t){if(o(a,r))return a;if((a[r]||[]).length||a[r+"0"])return a}}}(t,l,s);if(!c)return;if("histogram"===c.type&&s==={v:"y",h:"x"}[c.orientation||"v"])return void(e.type="linear");var u=s+"calendar",d=c[u],f={noMultiCategory:!n(c,"cartesian")||n(c,"noMultiCategory")};"box"===c.type&&c._hasPreCompStats&&s==={h:"x",v:"y"}[c.orientation||"v"]&&(f.noMultiCategory=!0);if(f.autotypenumbers=e.autotypenumbers,o(c,s)){var h=i(c),p=[];for(r=0;r<t.length;r++){var v=t[r];n(v,"box-violin")&&(v[s+"axis"]||s)===l&&(void 0!==v[h]?p.push(v[h][0]):void 0!==v.name?p.push(v.name):p.push("text"),v[u]!==d&&(d=void 0))}e.type=a(p,d,f)}else if("splom"===c.type){var g=c.dimensions,m=g[c._axesDim[l]];m.visible&&(e.type=a(m.values,d,f))}else e.type=a(c[s]||[c[s+"0"]],d,f)}(t,l.data),"-"===t.type?t.type="linear":e.type=t.type)}},404:function(e,t,r){"use strict";e.exports=function(e,t,r,n){if("category"===t.type){var a,i=e.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(a="array");var l,s=r("categoryorder",a);"array"===s&&(l=r("categoryarray")),o||"array"!==s||(s=t.categoryorder="trace"),"trace"===s?t._initialCategories=[]:"array"===s?t._initialCategories=l.slice():(l=function(e,t){var r,n,a,i=t.dataAttr||e._id.charAt(0),o={};if(t.axData)r=t.axData;else for(r=[],n=0;n<t.data.length;n++){var l=t.data[n];l[i+"axis"]===e._id&&r.push(l)}for(n=0;n<r.length;n++){var s=r[n][i];for(a=0;a<s.length;a++){var c=s[a];null!==c&&void 0!==c&&(o[c]=1)}}return Object.keys(o)}(t,n).sort(),"category ascending"===s?t._initialCategories=l:"category descending"===s&&(t._initialCategories=l.reverse()))}}},405:function(e,t,r){"use strict";var n=r(19).mix,a=r(40).lightFraction,i=r(0);e.exports=function(e,t,r,o){var l=(o=o||{}).dfltColor;function s(r,n){return i.coerce2(e,t,o.attributes,r,n)}var c=s("linecolor",l),u=s("linewidth");r("showline",o.showLine||!!c||!!u)||(delete t.linecolor,delete t.linewidth);var d=s("gridcolor",n(l,o.bgColor,o.blend||a).toRgbString()),f=s("gridwidth");if(r("showgrid",o.showGrid||!!d||!!f)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var h=s("zerolinecolor",l),p=s("zerolinewidth");r("zeroline",o.showGrid||!!h||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},406:function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(0),o=r(38),l=r(99);e.exports=function(e,t,r,s){var c=e._fullLayout;if(0!==t.length){var u,d,f,h;s&&(u=s());var p=n.ease(r.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(h),h=null,function(){for(var r={},n=0;n<t.length;n++){var i=t[n],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr0&&(r[o._name+".range"]=i.xr0.slice()),i.yr0&&(r[l._name+".range"]=i.yr0.slice())}return a.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)})}()}),d=Date.now(),h=window.requestAnimationFrame(function n(){f=Date.now();for(var i=Math.min(1,(f-d)/r.duration),o=p(i),l=0;l<t.length;l++)g(t[l],o);f-d>r.duration?(function(){for(var r={},n=0;n<t.length;n++){var i=t[n],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr1&&(r[o._name+".range"]=i.xr1.slice()),i.yr1&&(r[l._name+".range"]=i.yr1.slice())}u&&u(),a.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)})}(),h=window.cancelAnimationFrame(n)):h=window.requestAnimationFrame(n)}),Promise.resolve()}function v(e){var t=e.xaxis,r=e.yaxis;c._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,r._offset).call(o.setScale,1,1);var n=e.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(o.setPointGroupScale,1,1),n.selectAll(".textpoint").call(o.setTextPointsScale,1,1),n.call(o.hideOutsideRangePoints,e)}function g(t,r){var n=t.plotinfo,a=n.xaxis,s=n.yaxis,c=a._length,u=s._length,d=!!t.xr1,f=!!t.yr1,h=[];if(d){var p=i.simpleMap(t.xr0,a.r2l),v=i.simpleMap(t.xr1,a.r2l),g=p[1]-p[0],m=v[1]-v[0];h[0]=(p[0]*(1-r)+r*v[0]-p[0])/(p[1]-p[0])*c,h[2]=c*(1-r+r*m/g),a.range[0]=a.l2r(p[0]*(1-r)+r*v[0]),a.range[1]=a.l2r(p[1]*(1-r)+r*v[1])}else h[0]=0,h[2]=c;if(f){var y=i.simpleMap(t.yr0,s.r2l),x=i.simpleMap(t.yr1,s.r2l),_=y[1]-y[0],b=x[1]-x[0];h[1]=(y[1]*(1-r)+r*x[1]-y[1])/(y[0]-y[1])*u,h[3]=u*(1-r+r*b/_),s.range[0]=a.l2r(y[0]*(1-r)+r*x[0]),s.range[1]=s.l2r(y[1]*(1-r)+r*x[1])}else h[1]=0,h[3]=u;l.drawOne(e,a,{skipTitle:!0}),l.drawOne(e,s,{skipTitle:!0}),l.redrawComponents(e,[a._id,s._id]);var w=d?c/h[2]:1,M=f?u/h[3]:1,k=d?h[0]:0,L=f?h[1]:0,A=d?h[0]/h[2]*c:0,z=f?h[1]/h[3]*u:0,S=a._offset-A,T=s._offset-z;n.clipRect.call(o.setTranslate,k,L).call(o.setScale,1/w,1/M),n.plot.call(o.setTranslate,S,T).call(o.setScale,w,M),o.setPointGroupScale(n.zoomScalePts,1/w,1/M),o.setTextPointsScale(n.zoomScaleTxt,1/w,1/M)}l.redrawComponents(e)}},429:function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;n.mergeArray(t.text,e,"tx"),n.mergeArray(t.hovertext,e,"htx");var a=t.marker;if(a){n.mergeArray(a.opacity,e,"mo",!0),n.mergeArray(a.color,e,"mc");var i=a.line;i&&(n.mergeArray(i.color,e,"mlc"),n.mergeArrayCastPositive(i.width,e,"mlw"))}}},511:function(e,t,r){"use strict";var n=r(110),a=r(20),i=r(60).hovertemplateAttrs,o=r(43),l=(r(33).FORMAT_LINK,r(7).extendFlat);e.exports=l({z:{valType:"data_array",editType:"calc"},x:l({},n.x,{impliedEdits:{xtype:"array"}}),x0:l({},n.x0,{impliedEdits:{xtype:"scaled"}}),dx:l({},n.dx,{impliedEdits:{xtype:"scaled"}}),y:l({},n.y,{impliedEdits:{ytype:"array"}}),y0:l({},n.y0,{impliedEdits:{ytype:"scaled"}}),dy:l({},n.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:l({},n.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:l({},n.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:l({},n.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:l({},n.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:l({},n.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:l({},n.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},zhoverformat:{valType:"string",dflt:"",editType:"none"},hovertemplate:i(),showlegend:l({},a.showlegend,{dflt:!1})},{transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},512:function(e,t,r){"use strict";var n=r(1);e.exports={count:function(e,t,r){return r[e]++,1},sum:function(e,t,r,a){var i=a[t];return n(i)?(i=Number(i),r[e]+=i,i):0},avg:function(e,t,r,a,i){var o=a[t];return n(o)&&(o=Number(o),r[e]+=o,i[e]++),0},min:function(e,t,r,a){var i=a[t];if(n(i)){if(i=Number(i),!n(r[e]))return r[e]=i,i;if(r[e]>i){var o=i-r[e];return r[e]=i,o}}return 0},max:function(e,t,r,a){var i=a[t];if(n(i)){if(i=Number(i),!n(r[e]))return r[e]=i,i;if(r[e]<i){var o=i-r[e];return r[e]=i,o}}return 0}}},513:function(e,t,r){"use strict";e.exports={percent:function(e,t){for(var r=e.length,n=100/t,a=0;a<r;a++)e[a]*=n},probability:function(e,t){for(var r=e.length,n=0;n<r;n++)e[n]/=t},density:function(e,t,r,n){var a=e.length;n=n||1;for(var i=0;i<a;i++)e[i]*=r[i]*n},"probability density":function(e,t,r,n){var a=e.length;n&&(t/=n);for(var i=0;i<a;i++)e[i]*=r[i]/t}}},514:function(e,t,r){"use strict";e.exports=function(e,t){for(var r=e.length,n=0,a=0;a<r;a++)t[a]?(e[a]/=t[a],n+=e[a]):e[a]=null;return n}},515:function(e,t,r){"use strict";var n=r(5),a=n.ONEAVGYEAR,i=n.ONEAVGMONTH,o=n.ONEDAY,l=n.ONEHOUR,s=n.ONEMIN,c=n.ONESEC,u=r(99).tickIncrement;function d(e,t,r,n){if(e*t<=0)return 1/0;for(var a=Math.abs(t-e),i="date"===r.type,o=f(a,i),l=0;l<10;l++){var s=f(80*o,i);if(o===s)break;if(!h(s,e,t,i,r,n))break;o=s}return o}function f(e,t){return t&&e>c?e>o?e>1.1*a?a:e>1.1*i?i:o:e>l?l:e>s?s:c:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function h(e,t,r,n,i,l){if(n&&e>o){var s=p(t,i,l),c=p(r,i,l),u=e===a?0:1;return s[u]!==c[u]}return Math.floor(r/e)-Math.floor(t/e)>.1}function p(e,t,r){var n=t.c2d(e,a,r).split("-");return""===n[0]&&(n.unshift(),n[0]="-"+n[0]),n}e.exports=function(e,t,r,n,i){var l,s,c=-1.1*t,f=-.1*t,h=e-f,p=r[0],v=r[1],g=Math.min(d(p+f,p+h,n,i),d(v+f,v+h,n,i)),m=Math.min(d(p+c,p+f,n,i),d(v+c,v+f,n,i));if(g>m&&m<Math.abs(v-p)/4e3?(l=g,s=!1):(l=Math.min(g,m),s=!0),"date"===n.type&&l>o){var y=l===a?1:6,x=l===a?"M12":"M1";return function(t,r){var o=n.c2d(t,a,i),l=o.indexOf("-",y);l>0&&(o=o.substr(0,l));var c=n.d2c(o,0,i);if(c<t){var d=u(c,x,!1,i);(c+d)/2<t+e&&(c=d)}return r&&s?u(c,x,!0,i):c}}return function(t,r){var n=l*Math.round(t/l);return n+l/10<t&&n+.9*l<t+e&&(n+=l),r&&s&&(n-=l),n}}},596:function(e,t,r){"use strict";e.exports={attributes:r(511),supplyDefaults:r(597),calc:r(600),plot:r(608),colorbar:r(609),style:r(610),hoverPoints:r(611),moduleType:"trace",name:"heatmap",basePlotModule:r(381),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},597:function(e,t,r){"use strict";var n=r(0),a=r(598),i=r(377),o=r(599),l=r(61),s=r(511);e.exports=function(e,t,r,c){function u(r,a){return n.coerce(e,t,s,r,a)}a(e,t,u,c)?(i(e,t,c,u),u("text"),u("hovertext"),u("hovertemplate"),o(e,t,u,c),u("hoverongaps"),u("connectgaps",n.isArray1D(t.z)&&!1!==t.zsmooth),l(e,t,c,u,{prefix:"",cLetter:"z"})):t.visible=!1}},598:function(e,t,r){"use strict";var n=r(1),a=r(0),i=r(3);function o(e,t){var r=t(e);return"scaled"===(r?t(e+"type","array"):"scaled")&&(t(e+"0"),t("d"+e)),r}e.exports=function(e,t,r,l,s,c){var u,d,f=r("z");if(s=s||"x",c=c||"y",void 0===f||!f.length)return 0;if(a.isArray1D(e.z)){u=r(s),d=r(c);var h=a.minRowLength(u),p=a.minRowLength(d);if(0===h||0===p)return 0;t._length=Math.min(h,p,f.length)}else{if(u=o(s,r),d=o(c,r),!function(e){for(var t,r=!0,i=!1,o=!1,l=0;l<e.length;l++){if(t=e[l],!a.isArrayOrTypedArray(t)){r=!1;break}t.length>0&&(i=!0);for(var s=0;s<t.length;s++)if(n(t[s])){o=!0;break}}return r&&i&&o}(f))return 0;r("transpose"),t._length=null}return"heatmapgl"===e.type||"contourgl"===e.type||(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,[s,c],l),!0)}},599:function(e,t,r){"use strict";e.exports=function(e,t,r){!1===r("zsmooth")&&(r("xgap"),r("ygap")),r("zhoverformat")}},600:function(e,t,r){"use strict";var n=r(3),a=r(0),i=r(99),o=r(380),l=r(601),s=r(117),c=r(603),u=r(604),d=r(605),f=r(606),h=r(607),p=r(5).BADNUM;function v(e){for(var t=[],r=e.length,n=0;n<r;n++){var a=e[n];a!==p&&t.push(a)}return t}e.exports=function(e,t){var r,g,m,y,x,_,b,w,M,k,L,A=i.getFromId(e,t.xaxis||"x"),z=i.getFromId(e,t.yaxis||"y"),S=n.traceIs(t,"contour"),T=n.traceIs(t,"histogram"),C=n.traceIs(t,"gl2d"),I=S?"best":t.zsmooth;if(A._minDtick=0,z._minDtick=0,T)y=(L=l(e,t)).orig_x,r=L.x,g=L.x0,m=L.dx,w=L.orig_y,x=L.y,_=L.y0,b=L.dy,M=L.z;else{var D=t.z;a.isArray1D(D)?(c(t,A,z,"x","y",["z"]),r=t._x,x=t._y,D=t._z):(y=t.x?A.makeCalcdata(t,"x"):[],w=t.y?z.makeCalcdata(t,"y"):[],r=o(t,A,"x",y),x=o(t,z,"y",w),t._x=r,t._y=x),g=t.x0,m=t.dx,_=t.y0,b=t.dy,M=u(D,t,A,z)}function R(e){I=t._input.zsmooth=t.zsmooth=!1,a.warn('cannot use zsmooth: "fast": '+e)}if((A.rangebreaks||z.rangebreaks)&&(M=function(e,t,r){for(var n=[],a=-1,i=0;i<r.length;i++)if(t[i]!==p){n[++a]=[];for(var o=0;o<r[i].length;o++)e[o]!==p&&n[a].push(r[i][o])}return n}(r,x,M),T||(r=v(r),x=v(x),t._x=r,t._y=x)),T||!S&&!t.connectgaps||(t._emptypoints=f(M),d(M,t._emptypoints)),"fast"===I)if("log"===A.type||"log"===z.type)R("log axis found");else if(!T){if(r.length){var O=(r[r.length-1]-r[0])/(r.length-1),P=Math.abs(O/100);for(k=0;k<r.length-1;k++)if(Math.abs(r[k+1]-r[k]-O)>P){R("x scale is not linear");break}}if(x.length&&"fast"===I){var E=(x[x.length-1]-x[0])/(x.length-1),F=Math.abs(E/100);for(k=0;k<x.length-1;k++)if(Math.abs(x[k+1]-x[k]-E)>F){R("y scale is not linear");break}}}var H=a.maxRowLength(M),B="scaled"===t.xtype?"":r,Z=h(t,B,g,m,H,A),N="scaled"===t.ytype?"":x,V=h(t,N,_,b,M.length,z);C||(t._extremes[A._id]=i.findExtremes(A,Z),t._extremes[z._id]=i.findExtremes(z,V));var G={x:Z,y:V,z:M,text:t._text||t.text,hovertext:t._hovertext||t.hovertext};if(t.xperiodalignment&&y&&(G.orig_x=y),t.yperiodalignment&&w&&(G.orig_y=w),B&&B.length===Z.length-1&&(G.xCenter=B),N&&N.length===V.length-1&&(G.yCenter=N),T&&(G.xRanges=L.xRanges,G.yRanges=L.yRanges,G.pts=L.pts),S||s(e,t,{vals:M,cLetter:"z"}),S&&t.contours&&"heatmap"===t.contours.coloring){var q={type:"contour"===t.type?"heatmap":"histogram2d",xcalendar:t.xcalendar,ycalendar:t.ycalendar};G.xfill=h(q,B,g,m,H,A),G.yfill=h(q,N,_,b,M.length,z)}return[G]}},601:function(e,t,r){"use strict";var n=r(0),a=r(99),i=r(512),o=r(513),l=r(514),s=r(515),c=r(602).calcAllAutoBins;function u(e,t,r,n){var a,i=new Array(e);if(n)for(a=0;a<e;a++)i[a]=1/(t[a+1]-t[a]);else{var o=1/r;for(a=0;a<e;a++)i[a]=o}return i}function d(e,t){return{start:e(t.start),end:e(t.end),size:t.size}}function f(e,t,r,n,a,i){var o,l=e.length-1,c=new Array(l),u=s(r,n,e,a,i);for(o=0;o<l;o++){var d=(t||[])[o];c[o]=void 0===d?[u(e[o]),u(e[o+1],!0)]:[d,d]}return c}e.exports=function(e,t){var r,s,h,p,v=a.getFromId(e,t.xaxis),g=a.getFromId(e,t.yaxis),m=t.xcalendar,y=t.ycalendar,x=function(e){return v.r2c(e,0,m)},_=function(e){return g.r2c(e,0,y)},b=c(e,t,v,"x"),w=b[0],M=b[1],k=c(e,t,g,"y"),L=k[0],A=k[1],z=t._length;M.length>z&&M.splice(z,M.length-z),A.length>z&&A.splice(z,A.length-z);var S=[],T=[],C=[],I="string"==typeof w.size,D="string"==typeof L.size,R=[],O=[],P=I?R:w,E=D?O:L,F=0,H=[],B=[],Z=t.histnorm,N=t.histfunc,V=-1!==Z.indexOf("density"),G="max"===N||"min"===N?null:0,q=i.count,U=o[Z],j=!1,Y=[],X=[],W="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";W&&"count"!==N&&(j="avg"===N,q=i[N]);var K=w.size,Q=x(w.start),J=x(w.end)+(Q-a.tickIncrement(Q,K,!1,m))/1e6;for(r=Q;r<J;r=a.tickIncrement(r,K,!1,m))T.push(G),R.push(r),j&&C.push(0);R.push(r);var $,ee=T.length,te=(r-Q)/ee,re=($=Q+te/2,v.c2r($,0,m)),ne=L.size,ae=_(L.start),ie=_(L.end)+(ae-a.tickIncrement(ae,ne,!1,y))/1e6;for(r=ae;r<ie;r=a.tickIncrement(r,ne,!1,y)){S.push(T.slice()),O.push(r);var oe=new Array(ee);for(s=0;s<ee;s++)oe[s]=[];B.push(oe),j&&H.push(C.slice())}O.push(r);var le=S.length,se=(r-ae)/le,ce=function(e){return g.c2r(e,0,y)}(ae+se/2);V&&(Y=u(T.length,P,te,I),X=u(S.length,E,se,D)),I||"date"!==v.type||(P=d(x,P)),D||"date"!==g.type||(E=d(_,E));var ue=!0,de=!0,fe=new Array(ee),he=new Array(le),pe=1/0,ve=1/0,ge=1/0,me=1/0;for(r=0;r<z;r++){var ye=M[r],xe=A[r];h=n.findBin(ye,P),p=n.findBin(xe,E),h>=0&&h<ee&&p>=0&&p<le&&(F+=q(h,r,S[p],W,H[p]),B[p][h].push(r),ue&&(void 0===fe[h]?fe[h]=ye:fe[h]!==ye&&(ue=!1)),de&&(void 0===he[p]?he[p]=xe:he[p]!==xe&&(de=!1)),pe=Math.min(pe,ye-R[h]),ve=Math.min(ve,R[h+1]-ye),ge=Math.min(ge,xe-O[p]),me=Math.min(me,O[p+1]-xe))}if(j)for(p=0;p<le;p++)F+=l(S[p],H[p]);if(U)for(p=0;p<le;p++)U(S[p],F,Y,X[p]);return{x:M,xRanges:f(R,ue&&fe,pe,ve,v,m),x0:re,dx:te,y:A,yRanges:f(O,de&&he,ge,me,g,y),y0:ce,dy:se,z:S,pts:B}}},602:function(e,t,r){"use strict";var n=r(1),a=r(0),i=r(3),o=r(99),l=r(429),s=r(512),c=r(513),u=r(514),d=r(515);function f(e,t,r,l,s){var c,u,d,h,p,v,g,m=l+"bins",y=e._fullLayout,x=t["_"+l+"bingroup"],_=y._histogramBinOpts[x],b="overlay"===y.barmode,w=function(e){return r.r2c(e,0,h)},M=function(e){return r.c2r(e,0,h)},k="date"===r.type?function(e){return e||0===e?a.cleanDate(e,null,h):null}:function(e){return n(e)?Number(e):null};function L(e,t,r){t[e+"Found"]?(t[e]=k(t[e]),null===t[e]&&(t[e]=r[e])):(v[e]=t[e]=r[e],a.nestedProperty(u[0],m+"."+e).set(r[e]))}if(t["_"+l+"autoBinFinished"])delete t["_"+l+"autoBinFinished"];else{u=_.traces;var A=[],z=!0,S=!1,T=!1;for(c=0;c<u.length;c++)if((d=u[c]).visible){var C=_.dirs[c];p=d["_"+C+"pos0"]=r.makeCalcdata(d,C),A=a.concat(A,p),delete d["_"+l+"autoBinFinished"],!0===t.visible&&(z?z=!1:(delete d._autoBin,d["_"+l+"autoBinFinished"]=1),i.traceIs(d,"2dMap")&&(S=!0),"histogram2dcontour"===d.type&&(T=!0))}h=u[0][l+"calendar"];var I=o.autoBin(A,r,_.nbins,S,h,_.sizeFound&&_.size),D=u[0]._autoBin={};if(v=D[_.dirs[0]]={},T&&(_.size||(I.start=M(o.tickIncrement(w(I.start),I.size,!0,h))),void 0===_.end&&(I.end=M(o.tickIncrement(w(I.end),I.size,!1,h)))),b&&!i.traceIs(t,"2dMap")&&0===I._dataSpan&&"category"!==r.type&&"multicategory"!==r.type){if(s)return[I,p,!0];I=function(e,t,r,n,i){var o,l,s,c=e._fullLayout,u=function(e,t){for(var r=t.xaxis,n=t.yaxis,a=t.orientation,i=[],o=e._fullData,l=0;l<o.length;l++){var s=o[l];"histogram"===s.type&&!0===s.visible&&s.orientation===a&&s.xaxis===r&&s.yaxis===n&&i.push(s)}return i}(e,t),d=!1,h=1/0,p=[t];for(o=0;o<u.length;o++)if((l=u[o])===t)d=!0;else if(d){var v=f(e,l,r,n,!0),g=v[0],m=v[2];l["_"+n+"autoBinFinished"]=1,l["_"+n+"pos0"]=v[1],m?p.push(l):h=Math.min(h,g.size)}else s=c._histogramBinOpts[l["_"+n+"bingroup"]],h=Math.min(h,s.size||l[i].size);var y=new Array(p.length);for(o=0;o<p.length;o++)for(var x=p[o]["_"+n+"pos0"],_=0;_<x.length;_++)if(void 0!==x[_]){y[o]=x[_];break}isFinite(h)||(h=a.distinctVals(y).minDiff);for(o=0;o<p.length;o++){var b=(l=p[o])[n+"calendar"],w={start:r.c2r(y[o]-h/2,0,b),end:r.c2r(y[o]+h/2,0,b),size:h};l._input[i]=l[i]=w,(s=c._histogramBinOpts[l["_"+n+"bingroup"]])&&a.extendFlat(s,w)}return t[i]}(e,t,r,l,m)}(g=d.cumulative||{}).enabled&&"include"!==g.currentbin&&("decreasing"===g.direction?I.start=M(o.tickIncrement(w(I.start),I.size,!0,h)):I.end=M(o.tickIncrement(w(I.end),I.size,!1,h))),_.size=I.size,_.sizeFound||(v.size=I.size,a.nestedProperty(u[0],m+".size").set(I.size)),L("start",_,I),L("end",_,I)}p=t["_"+l+"pos0"],delete t["_"+l+"pos0"];var R=t._input[m]||{},O=a.extendFlat({},_),P=_.start,E=r.r2l(R.start),F=void 0!==E;if((_.startFound||F)&&E!==r.r2l(P)){var H=F?E:a.aggNums(Math.min,null,p),B={type:"category"===r.type||"multicategory"===r.type?"linear":r.type,r2l:r.r2l,dtick:_.size,tick0:P,calendar:h,range:[H,o.tickIncrement(H,_.size,!1,h)].map(r.l2r)},Z=o.tickFirst(B);Z>r.r2l(H)&&(Z=o.tickIncrement(Z,_.size,!0,h)),O.start=r.l2r(Z),F||a.nestedProperty(t,m+".start").set(O.start)}var N=_.end,V=r.r2l(R.end),G=void 0!==V;if((_.endFound||G)&&V!==r.r2l(N)){var q=G?V:a.aggNums(Math.max,null,p);O.end=r.l2r(q),G||a.nestedProperty(t,m+".start").set(O.end)}var U="autobin"+l;return!1===t._input[U]&&(t._input[m]=a.extendFlat({},t[m]||{}),delete t._input[U],delete t[U]),[O,p]}e.exports={calc:function(e,t){var r,i,h,p,v=[],g=[],m=o.getFromId(e,"h"===t.orientation?t.yaxis:t.xaxis),y="h"===t.orientation?"y":"x",x={x:"y",y:"x"}[y],_=t[y+"calendar"],b=t.cumulative,w=f(e,t,m,y),M=w[0],k=w[1],L="string"==typeof M.size,A=[],z=L?A:M,S=[],T=[],C=[],I=0,D=t.histnorm,R=t.histfunc,O=-1!==D.indexOf("density");b.enabled&&O&&(D=D.replace(/ ?density$/,""),O=!1);var P,E="max"===R||"min"===R?null:0,F=s.count,H=c[D],B=!1,Z=function(e){return m.r2c(e,0,_)};for(a.isArrayOrTypedArray(t[x])&&"count"!==R&&(P=t[x],B="avg"===R,F=s[R]),r=Z(M.start),h=Z(M.end)+(r-o.tickIncrement(r,M.size,!1,_))/1e6;r<h&&v.length<1e6&&(i=o.tickIncrement(r,M.size,!1,_),v.push((r+i)/2),g.push(E),C.push([]),A.push(r),O&&S.push(1/(i-r)),B&&T.push(0),!(i<=r));)r=i;A.push(r),L||"date"!==m.type||(z={start:Z(z.start),end:Z(z.end),size:z.size}),e._fullLayout._roundFnOpts||(e._fullLayout._roundFnOpts={});var N=t["_"+y+"bingroup"],V={leftGap:1/0,rightGap:1/0};N&&(e._fullLayout._roundFnOpts[N]||(e._fullLayout._roundFnOpts[N]=V),V=e._fullLayout._roundFnOpts[N]);var G,q=g.length,U=!0,j=V.leftGap,Y=V.rightGap,X={};for(r=0;r<k.length;r++){var W=k[r];(p=a.findBin(W,z))>=0&&p<q&&(I+=F(p,r,g,P,T),U&&C[p].length&&W!==k[C[p][0]]&&(U=!1),C[p].push(r),X[r]=p,j=Math.min(j,W-A[p]),Y=Math.min(Y,A[p+1]-W))}V.leftGap=j,V.rightGap=Y,U||(G=function(t,r){return function(){var n=e._fullLayout._roundFnOpts[N];return d(n.leftGap,n.rightGap,A,m,_)(t,r)}}),B&&(I=u(g,T)),H&&H(g,I,S),b.enabled&&function(e,t,r){var n,a,i;function o(t){i=e[t],e[t]/=2}function l(t){a=e[t],e[t]=i+a/2,i+=a}if("half"===r)if("increasing"===t)for(o(0),n=1;n<e.length;n++)l(n);else for(o(e.length-1),n=e.length-2;n>=0;n--)l(n);else if("increasing"===t){for(n=1;n<e.length;n++)e[n]+=e[n-1];"exclude"===r&&(e.unshift(0),e.pop())}else{for(n=e.length-2;n>=0;n--)e[n]+=e[n+1];"exclude"===r&&(e.push(0),e.shift())}}(g,b.direction,b.currentbin);var K=Math.min(v.length,g.length),Q=[],J=0,$=K-1;for(r=0;r<K;r++)if(g[r]){J=r;break}for(r=K-1;r>=J;r--)if(g[r]){$=r;break}for(r=J;r<=$;r++)if(n(v[r])&&n(g[r])){var ee={p:v[r],s:g[r],b:0};b.enabled||(ee.pts=C[r],U?ee.ph0=ee.ph1=C[r].length?k[C[r][0]]:v[r]:(t._computePh=!0,ee.ph0=G(A[r]),ee.ph1=G(A[r+1],!0))),Q.push(ee)}return 1===Q.length&&(Q[0].width1=o.tickIncrement(Q[0].p,M.size,!1,_)-Q[0].p),l(Q,t),a.isArrayOrTypedArray(t.selectedpoints)&&a.tagSelected(Q,t,X),Q},calcAllAutoBins:f}},603:function(e,t,r){"use strict";var n=r(0),a=r(5).BADNUM,i=r(380);e.exports=function(e,t,r,o,l,s){var c=e._length,u=t.makeCalcdata(e,o),d=r.makeCalcdata(e,l);u=i(e,t,o,u),d=i(e,r,l,d);var f,h,p,v,g=e.text,m=void 0!==g&&n.isArray1D(g),y=e.hovertext,x=void 0!==y&&n.isArray1D(y),_=n.distinctVals(u),b=_.vals,w=n.distinctVals(d),M=w.vals,k=[],L=M.length,A=b.length;for(f=0;f<s.length;f++)k[f]=n.init2dArray(L,A);m&&(p=n.init2dArray(L,A)),x&&(v=n.init2dArray(L,A));var z=n.init2dArray(L,A);for(f=0;f<c;f++)if(u[f]!==a&&d[f]!==a){var S=n.findBin(u[f]+_.minDiff/2,b),T=n.findBin(d[f]+w.minDiff/2,M);for(h=0;h<s.length;h++){var C=e[s[h]];k[h][T][S]=C[f],z[T][S]=f}m&&(p[T][S]=g[f]),x&&(v[T][S]=y[f])}for(e["_"+o]=b,e["_"+l]=M,h=0;h<s.length;h++)e["_"+s[h]]=k[h];m&&(e._text=p),x&&(e._hovertext=v),t&&"category"===t.type&&(e["_"+o+"CategoryMap"]=b.map(function(e){return t._categories[e]})),r&&"category"===r.type&&(e["_"+l+"CategoryMap"]=M.map(function(e){return r._categories[e]})),e._after2before=z}},604:function(e,t,r){"use strict";var n=r(1),a=r(0),i=r(5).BADNUM;e.exports=function(e,t,r,o){var l,s,c,u,d,f;function h(e){if(n(e))return+e}if(t&&t.transpose){for(l=0,d=0;d<e.length;d++)l=Math.max(l,e[d].length);if(0===l)return!1;c=function(e){return e.length},u=function(e,t,r){return(e[r]||[])[t]}}else l=e.length,c=function(e,t){return e[t].length},u=function(e,t,r){return(e[t]||[])[r]};var p=function(e,t,r){return t===i||r===i?i:u(e,t,r)};function v(e){if(t&&"carpet"!==t.type&&"contourcarpet"!==t.type&&e&&"category"===e.type&&t["_"+e._id.charAt(0)].length){var r=e._id.charAt(0),n={},o=t["_"+r+"CategoryMap"]||t[r];for(d=0;d<o.length;d++)n[o[d]]=d;return function(t){var r=n[e._categories[t]];return r+1?r:i}}return a.identity}var g=v(r),m=v(o);o&&"category"===o.type&&(l=o._categories.length);var y=new Array(l);for(d=0;d<l;d++)for(s=r&&"category"===r.type?r._categories.length:c(e,d),y[d]=new Array(s),f=0;f<s;f++)y[d][f]=h(p(e,m(d),g(f)));return y}},605:function(e,t,r){"use strict";var n=r(0),a=[[-1,0],[1,0],[0,-1],[0,1]];function i(e){return.5-.25*Math.min(1,.5*e)}function o(e,t,r){var n,i,o,l,s,c,u,d,f,h,p,v,g,m=0;for(l=0;l<t.length;l++){for(i=(n=t[l])[0],o=n[1],p=e[i][o],h=0,f=0,s=0;s<4;s++)(u=e[i+(c=a[s])[0]])&&void 0!==(d=u[o+c[1]])&&(0===h?v=g=d:(v=Math.min(v,d),g=Math.max(g,d)),f++,h+=d);if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";e[i][o]=h/f,void 0===p?f<4&&(m=1):(e[i][o]=(1+r)*e[i][o]-r*p,g>v&&(m=Math.max(m,Math.abs(e[i][o]-p)/(g-v))))}return m}e.exports=function(e,t){var r,a=1;for(o(e,t),r=0;r<t.length&&!(t[r][2]<4);r++);for(t=t.slice(r),r=0;r<100&&a>.01;r++)a=o(e,t,i(a));return a>.01&&n.log("interp2d didn't converge quickly",a),e}},606:function(e,t,r){"use strict";var n=r(0).maxRowLength;e.exports=function(e){var t,r,a,i,o,l,s,c,u=[],d={},f=[],h=e[0],p=[],v=[0,0,0],g=n(e);for(r=0;r<e.length;r++)for(t=p,p=h,h=e[r+1]||[],a=0;a<g;a++)void 0===p[a]&&((l=(void 0!==p[a-1]?1:0)+(void 0!==p[a+1]?1:0)+(void 0!==t[a]?1:0)+(void 0!==h[a]?1:0))?(0===r&&l++,0===a&&l++,r===e.length-1&&l++,a===p.length-1&&l++,l<4&&(d[[r,a]]=[r,a,l]),u.push([r,a,l])):f.push([r,a]));for(;f.length;){for(s={},c=!1,o=f.length-1;o>=0;o--)(l=((d[[(r=(i=f[o])[0])-1,a=i[1]]]||v)[2]+(d[[r+1,a]]||v)[2]+(d[[r,a-1]]||v)[2]+(d[[r,a+1]]||v)[2])/20)&&(s[i]=[r,a,l],f.splice(o,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(i in s)d[i]=s[i],u.push(s[i])}return u.sort(function(e,t){return t[2]-e[2]})}},607:function(e,t,r){"use strict";var n=r(3),a=r(0).isArrayOrTypedArray;e.exports=function(e,t,r,i,o,l){var s,c,u,d=[],f=n.traceIs(e,"contour"),h=n.traceIs(e,"histogram"),p=n.traceIs(e,"gl2d");if(a(t)&&t.length>1&&!h&&"category"!==l.type){var v=t.length;if(!(v<=o))return f?t.slice(0,o):t.slice(0,o+1);if(f||p)d=t.slice(0,o);else if(1===o)d=[t[0]-.5,t[0]+.5];else{for(d=[1.5*t[0]-.5*t[1]],u=1;u<v;u++)d.push(.5*(t[u-1]+t[u]));d.push(1.5*t[v-1]-.5*t[v-2])}if(v<o){var g=d[d.length-1],m=g-d[d.length-2];for(u=v;u<o;u++)g+=m,d.push(g)}}else{var y=e[l._id.charAt(0)+"calendar"];if(h)s=l.r2c(r,0,y);else if(a(t)&&1===t.length)s=t[0];else if(void 0===r)s=0;else{s=("log"===l.type?l.d2c:l.r2c)(r,0,y)}for(c=i||1,u=f||p?0:-.5;u<o;u++)d.push(s+c*u)}return d}},608:function(e,t,r){"use strict";var n=r(4),a=r(19),i=r(3),o=r(0),l=r(121).makeColorScaleFuncFromTrace,s=r(59);function c(e,t){var r=t.length-2,n=o.constrain(o.findBin(e,t),0,r),a=t[n],i=t[n+1],l=o.constrain(n+(e-a)/(i-a)-.5,0,r),s=Math.round(l),c=Math.abs(l-s);return l&&l!==r&&c?{bin0:s,frac:c,bin1:Math.round(s+c/(l-s))}:{bin0:s,bin1:s,frac:0}}function u(e,t){var r=t.length-1,n=o.constrain(o.findBin(e,t),0,r),a=t[n],i=(e-a)/(t[n+1]-a)||0;return i<=0?{bin0:n,bin1:n,frac:0}:i<.5?{bin0:n,bin1:n+1,frac:i}:{bin0:n+1,bin1:n,frac:1-i}}function d(e,t,r){e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=Math.round(255*r[3])}e.exports=function(e,t,r,f){var h=t.xaxis,p=t.yaxis;o.makeTraceGroups(f,r,"hm").each(function(t){var r,f,v,g,m,y,x=n.select(this),_=t[0],b=_.trace,w=_.z,M=_.x,k=_.y,L=_.xCenter,A=_.yCenter,z=i.traceIs(b,"contour"),S=z?"best":b.zsmooth,T=w.length,C=o.maxRowLength(w),I=!1,D=!1;for(y=0;void 0===r&&y<M.length-1;)r=h.c2p(M[y]),y++;for(y=M.length-1;void 0===f&&y>0;)f=h.c2p(M[y]),y--;for(f<r&&(v=f,f=r,r=v,I=!0),y=0;void 0===g&&y<k.length-1;)g=p.c2p(k[y]),y++;for(y=k.length-1;void 0===m&&y>0;)m=p.c2p(k[y]),y--;if(m<g&&(v=g,g=m,m=v,D=!0),z&&(L=M,A=k,M=_.xfill,k=_.yfill),"fast"!==S){var R="best"===S?0:.5;r=Math.max(-R*h._length,r),f=Math.min((1+R)*h._length,f),g=Math.max(-R*p._length,g),m=Math.min((1+R)*p._length,m)}var O=Math.round(f-r),P=Math.round(m-g);if(O<=0||P<=0){x.selectAll("image").data([]).exit().remove()}else{var E,F;"fast"===S?(E=C,F=T):(E=O,F=P);var H=document.createElement("canvas");H.width=E,H.height=F;var B,Z,N=H.getContext("2d"),V=l(b,{noNumericCheck:!0,returnArray:!0});"fast"===S?(B=I?function(e){return C-1-e}:o.identity,Z=D?function(e){return T-1-e}:o.identity):(B=function(e){return o.constrain(Math.round(h.c2p(M[e])-r),0,O)},Z=function(e){return o.constrain(Math.round(p.c2p(k[e])-g),0,P)});var G,q,U,j,Y,X=Z(0),W=[X,X],K=I?0:1,Q=D?0:1,J=0,$=0,ee=0,te=0;if(S){var re,ne=0;try{re=new Uint8Array(O*P*4)}catch(e){re=new Array(O*P*4)}if("best"===S){var ae,ie,oe,le=L||M,se=A||k,ce=new Array(le.length),ue=new Array(se.length),de=new Array(O),fe=L?u:c,he=A?u:c;for(y=0;y<le.length;y++)ce[y]=Math.round(h.c2p(le[y])-r);for(y=0;y<se.length;y++)ue[y]=Math.round(p.c2p(se[y])-g);for(y=0;y<O;y++)de[y]=fe(y,ce);for(q=0;q<P;q++)for(ie=w[(ae=he(q,ue)).bin0],oe=w[ae.bin1],y=0;y<O;y++,ne+=4)d(re,ne,Y=ke(ie,oe,de[y],ae))}else for(q=0;q<T;q++)for(j=w[q],W=Z(q),y=0;y<O;y++)Y=Me(j[y],1),d(re,ne=4*(W*O+B(y)),Y);var pe=N.createImageData(O,P);try{pe.data.set(re)}catch(e){var ve=pe.data,ge=ve.length;for(q=0;q<ge;q++)ve[q]=re[q]}N.putImageData(pe,0,0)}else{var me=b.xgap,ye=b.ygap,xe=Math.floor(me/2),_e=Math.floor(ye/2);for(q=0;q<T;q++)if(j=w[q],W.reverse(),W[Q]=Z(q+1),W[0]!==W[1]&&void 0!==W[0]&&void 0!==W[1])for(G=[U=B(0),U],y=0;y<C;y++)G.reverse(),G[K]=B(y+1),G[0]!==G[1]&&void 0!==G[0]&&void 0!==G[1]&&(Y=Me(j[y],(G[1]-G[0])*(W[1]-W[0])),N.fillStyle="rgba("+Y.join(",")+")",N.fillRect(G[0]+xe,W[0]+_e,G[1]-G[0]-me,W[1]-W[0]-ye))}$=Math.round($/J),ee=Math.round(ee/J),te=Math.round(te/J);var be=a("rgb("+$+","+ee+","+te+")");e._hmpixcount=(e._hmpixcount||0)+J,e._hmlumcount=(e._hmlumcount||0)+J*be.getLuminance();var we=x.selectAll("image").data(t);we.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),we.attr({height:P,width:O,x:r,y:g,"xlink:href":H.toDataURL("image/png")})}function Me(e,t){if(void 0!==e){var r=V(e);return r[0]=Math.round(r[0]),r[1]=Math.round(r[1]),r[2]=Math.round(r[2]),J+=t,$+=r[0]*t,ee+=r[1]*t,te+=r[2]*t,r}return[0,0,0,0]}function ke(e,t,r,n){var a=e[r.bin0];if(void 0===a)return Me(void 0,1);var i,o=e[r.bin1],l=t[r.bin0],s=t[r.bin1],c=o-a||0,u=l-a||0;return i=void 0===o?void 0===s?0:void 0===l?2*(s-a):2*(2*s-l-a)/3:void 0===s?void 0===l?0:2*(2*a-o-l)/3:void 0===l?2*(2*s-o-a)/3:s+a-o-l,Me(a+r.frac*c+n.frac*(u+r.frac*i))}})}},609:function(e,t,r){"use strict";e.exports={min:"zmin",max:"zmax"}},610:function(e,t,r){"use strict";var n=r(4);e.exports=function(e){n.select(e).selectAll(".hm image").style("opacity",function(e){return e.trace.opacity})}},611:function(e,t,r){"use strict";var n=r(329),a=r(0),i=r(99),o=r(121).extractOpts;e.exports=function(e,t,r,l,s,c){var u,d,f,h,p=e.cd[0],v=p.trace,g=e.xa,m=e.ya,y=p.x,x=p.y,_=p.z,b=p.xCenter,w=p.yCenter,M=p.zmask,k=v.zhoverformat,L=y,A=x;if(!1!==e.index){try{f=Math.round(e.index[1]),h=Math.round(e.index[0])}catch(t){return void a.error("Error hovering on heatmap, pointNumber must be [row,col], found:",e.index)}if(f<0||f>=_[0].length||h<0||h>_.length)return}else{if(n.inbox(t-y[0],t-y[y.length-1],0)>0||n.inbox(r-x[0],r-x[x.length-1],0)>0)return;if(c){var z;for(L=[2*y[0]-y[1]],z=1;z<y.length;z++)L.push((y[z]+y[z-1])/2);for(L.push([2*y[y.length-1]-y[y.length-2]]),A=[2*x[0]-x[1]],z=1;z<x.length;z++)A.push((x[z]+x[z-1])/2);A.push([2*x[x.length-1]-x[x.length-2]])}f=Math.max(0,Math.min(L.length-2,a.findBin(t,L))),h=Math.max(0,Math.min(A.length-2,a.findBin(r,A)))}var S,T,C=g.c2p(y[f]),I=g.c2p(y[f+1]),D=m.c2p(x[h]),R=m.c2p(x[h+1]);c?(S=p.orig_x||y,T=p.orig_y||x,I=C,u=S[f],R=D,d=T[h]):(S=p.orig_x||b||y,T=p.orig_y||w||x,u=b?S[f]:(S[f]+S[f+1])/2,d=w?T[h]:(T[h]+T[h+1])/2,g&&"category"===g.type&&(u=y[f]),m&&"category"===m.type&&(d=x[h]),v.zsmooth&&(C=I=g.c2p(u),D=R=m.c2p(d)));var O=_[h][f];if(M&&!M[h][f]&&(O=void 0),void 0!==O||v.hoverongaps){var P;Array.isArray(p.hovertext)&&Array.isArray(p.hovertext[h])?P=p.hovertext[h][f]:Array.isArray(p.text)&&Array.isArray(p.text[h])&&(P=p.text[h][f]);var E=o(v),F={type:"linear",range:[E.min,E.max],hoverformat:k,_separators:g._separators,_numFormat:g._numFormat},H=i.tickText(F,O,"hover").text;return[a.extendFlat(e,{index:v._after2before?v._after2before[h][f]:[h,f],distance:e.maxHoverDistance,spikeDistance:e.maxSpikeDistance,x0:C,x1:I,y0:D,y1:R,xLabelVal:u,yLabelVal:d,zLabelVal:O,zLabel:H,text:P})]}}}});
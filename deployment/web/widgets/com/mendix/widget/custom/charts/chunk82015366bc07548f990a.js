webpackJsonpCharts([3],{295:function(e,t,r){"use strict";e.exports=r(587)},328:function(e,t,r){"use strict";var n=r(363),a=r(356),o=r(345),i=r(0).removeElement,l=r(26),s=e.exports={};s.align=r(364),s.getCursor=r(365);var c=r(366);function u(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function d(e){return n(e.changedTouches?e.changedTouches[0]:e,document.body)}s.unhover=c.wrapped,s.unhoverRaw=c.raw,s.init=function(e){var t,r,n,c,f,h,p,v,g=e.gd,m=1,x=g._context.doubleClickDelay,y=e.element;g._mouseDownTime||(g._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=b,o?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=b,y.addEventListener("touchstart",b,{passive:!1})):y.ontouchstart=b;var _=e.clampFn||function(e,t,r){return Math.abs(e)<r&&(e=0),Math.abs(t)<r&&(t=0),[e,t]};function b(o){g._dragged=!1,g._dragging=!0;var i=d(o);t=i[0],r=i[1],p=o.target,h=o,v=2===o.buttons||o.ctrlKey,void 0===o.clientX&&void 0===o.clientY&&(o.clientX=t,o.clientY=r),(n=(new Date).getTime())-g._mouseDownTime<x?m+=1:(m=1,g._mouseDownTime=n),e.prepFn&&e.prepFn(o,t,r),a&&!v?(f=u()).style.cursor=window.getComputedStyle(y).cursor:a||(f=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==e.dragmode&&(o.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(n){n.preventDefault();var a=d(n),o=e.minDrag||l.MINDRAG,i=_(a[0]-t,a[1]-r,o),c=i[0],u=i[1];(c||u)&&(g._dragged=!0,s.unhover(g)),g._dragged&&e.moveFn&&!v&&(g._dragdata={element:y,dx:c,dy:u},e.moveFn(c,u))}function k(t){if(delete g._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),a?i(f):c&&(f.documentElement.style.cursor=c,c=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>x&&(m=Math.max(m-1,1)),g._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(m,h),!v){var r;try{r=new MouseEvent("click",t)}catch(e){var n=d(t);(r=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,n[0],n[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(r)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},s.coverSlip=u},329:function(e,t,r){"use strict";var n=r(4),a=r(0),o=r(328),i=r(100),l=r(102),s=r(343);e.exports={moduleType:"component",name:"fx",constants:r(104),schema:{layout:l},attributes:r(106),layoutAttributes:l,supplyLayoutGlobalDefaults:r(370),supplyDefaults:r(371),supplyLayoutDefaults:r(372),calc:r(373),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:function(e,t,r){return a.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return a.castOption(e,r,"hoverinfo",function(r){return a.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)})},hover:s.hover,unhover:o.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=a.isD3Selection(e)?e:n.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(374)}},330:function(e,t,r){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},331:function(e,t,r){"use strict";var n=r(352).EventEmitter,a={init:function(e){if(e._ev instanceof n)return e;var t=new n,r=new n;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(n,a){"undefined"!=typeof jQuery&&jQuery(e).trigger(n,a),t.emit(n,a),r.emit(n,a)},e},triggerHandler:function(e,t,r){var n,a;"undefined"!=typeof jQuery&&(n=jQuery(e).triggerHandler(t,r));var o=e._ev;if(!o)return n;var i,l=o._events[t];if(!l)return n;function s(e){return e.listener?(o.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(o,[r]))):e.apply(o,[r])}for(l=Array.isArray(l)?l:[l],i=0;i<l.length-1;i++)s(l[i]);return a=s(l[i]),void 0!==n?n:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=a},332:function(e,t,r){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},333:function(e,t,r){"use strict";var n=r(0),a=r(14),o=r(100).isUnifiedHover;e.exports=function(e,t,r,i){function l(e){i.font[e]||(i.font[e]=t.legend?t.legend.font[e]:t.font[e])}i=i||{},t&&o(t.hovermode)&&(i.font||(i.font={}),l("size"),l("family"),l("color"),t.legend?(i.bgcolor||(i.bgcolor=a.combine(t.legend.bgcolor,t.paper_bgcolor)),i.bordercolor||(i.bordercolor=t.legend.bordercolor)):i.bgcolor||(i.bgcolor=t.paper_bgcolor)),r("hoverlabel.bgcolor",i.bgcolor),r("hoverlabel.bordercolor",i.bordercolor),r("hoverlabel.namelength",i.namelength),n.coerceFont(r,"hoverlabel.font",i.font),r("hoverlabel.align",i.align)}},334:function(e,t,r){"use strict";t.selectMode=function(e){return"lasso"===e||"select"===e},t.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.openMode=function(e){return"drawline"===e||"drawopenpath"===e},t.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}},335:function(e,t,r){"use strict";var n=r(391),a=r(339),o=a.CIRCLE_SIDES,i=a.SQRT2,l=r(340),s=l.p2r,c=l.r2p,u=[0,3,4,5,6,1,2],d=[0,3,4,1,2];function f(e,t){return Math.abs(e-t)<=1e-6}function h(e,t){var r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+n*n)}t.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var r="",n=0;n<t;n++)for(var a=e[n].length,o=0;o<a;o++){var i=e[n][o][0];if("Z"===i)r+="Z";else for(var l=e[n][o].length,s=0;s<l;s++){var c=s;"Q"===i||"S"===i?c=d[s]:"C"===i&&(c=u[s]),r+=e[n][o][c],s>0&&s<l-1&&(r+=",")}}return r},t.readPaths=function(e,t,r,a){var i,l,u,d=n(e),f=[],h=-1,p=0,v=0,g=function(){l=p,u=v};g();for(var m=0;m<d.length;m++){var x,y,_,b,w=[],k=d[m][0],L=k;switch(k){case"M":f[++h]=[],p=+d[m][1],v=+d[m][2],w.push([L,p,v]),g();break;case"Q":case"S":x=+d[m][1],_=+d[m][2],p=+d[m][3],v=+d[m][4],w.push([L,p,v,x,_]);break;case"C":x=+d[m][1],_=+d[m][2],y=+d[m][3],b=+d[m][4],p=+d[m][5],v=+d[m][6],w.push([L,p,v,x,_,y,b]);break;case"T":case"L":p=+d[m][1],v=+d[m][2],w.push([L,p,v]);break;case"H":L="L",p=+d[m][1],w.push([L,p,v]);break;case"V":L="L",v=+d[m][1],w.push([L,p,v]);break;case"A":L="L";var M=+d[m][1],A=+d[m][2];+d[m][4]||(M=-M,A=-A);var T=p-M,S=v;for(i=1;i<=o/2;i++){var z=2*Math.PI*i/o;w.push([L,T+M*Math.cos(z),S+A*Math.sin(z)])}break;case"Z":p===l&&v===u||(p=l,v=u,w.push([L,p,v]))}for(var C=(r||{}).domain,I=t._fullLayout._size,D=r&&"pixel"===r.xsizemode,P=r&&"pixel"===r.ysizemode,O=!1===a,R=0;R<w.length;R++){for(i=0;i+2<7;i+=2){var E=w[R][i+1],H=w[R][i+2];void 0!==E&&void 0!==H&&(p=E,v=H,r&&(r.xaxis&&r.xaxis.p2r?(O&&(E-=r.xaxis._offset),E=D?c(r.xaxis,r.xanchor)+E:s(r.xaxis,E)):(O&&(E-=I.l),C?E=C.x[0]+E/I.w:E/=I.w),r.yaxis&&r.yaxis.p2r?(O&&(H-=r.yaxis._offset),H=P?c(r.yaxis,r.yanchor)-H:s(r.yaxis,H)):(O&&(H-=I.t),H=C?C.y[1]-H/I.h:1-H/I.h)),w[R][i+1]=E,w[R][i+2]=H)}f[h].push(w[R].slice())}}return f},t.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!f(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!f(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!f(e[0][1],e[1][1])&&!f(e[0][1],e[3][1]))&&!!(h(e[0],e[1])*h(e[0],e[3]))},t.pointsShapeEllipse=function(e){var t=e.length;if(t!==o+1)return!1;t=o;for(var r=0;r<t;r++){var n=(2*t-r)%t,a=(t/2+n)%t,i=(t/2+r)%t;if(!f(h(e[r],e[i]),h(e[n],e[a])))return!1}return!0},t.handleEllipse=function(e,r,n){if(!e)return[r,n];var a=t.ellipseOver({x0:r[0],y0:r[1],x1:n[0],y1:n[1]}),l=(a.x1+a.x0)/2,s=(a.y1+a.y0)/2,c=(a.x1-a.x0)/2,u=(a.y1-a.y0)/2;c||(c=u/=i),u||(u=c/=i);for(var d=[],f=0;f<o;f++){var h=2*f*Math.PI/o;d.push([l+c*Math.cos(h),s+u*Math.sin(h)])}return d},t.ellipseOver=function(e){var t=e.x0,r=e.y0,n=e.x1,a=e.y1,o=n-t,l=a-r,s=((t-=o)+n)/2,c=((r-=l)+a)/2;return{x0:s-(o*=i),y0:c-(l*=i),x1:s+o,y1:c+l}}},336:function(e,t,r){"use strict";var n=r(392),a=r(3),o=r(38).dashStyle,i=r(14),l=r(329),s=r(100).makeEventData,c=r(334),u=c.freeMode,d=c.rectMode,f=c.drawMode,h=c.openMode,p=c.selectMode,v=r(354),g=r(335).handleEllipse,m=r(355),x=r(0),y=r(376),_=r(108),b=r(27).getFromId,w=r(338),k=r(348).redrawReglTraces,L=r(26),M=L.MINSELECT,A=y.filter,T=y.tester,S=r(103).clearSelect,z=r(340),C=z.p2r,I=z.axValue,D=z.getTransform;function P(e,t,r,n,a,o,i){var l,s,c,u,d,f,p,g,m,x=t._hoverdata,y=t._fullLayout.clickmode.indexOf("event")>-1,_=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(x)){H(e,t,o);var b=function(e,t){var r,n,a=e[0],o=-1,i=[];for(n=0;n<t.length;n++)if(r=t[n],a.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===a.hoverOnBox)break;void 0!==a.pointNumber?o=a.pointNumber:void 0!==a.binNumber&&(o=a.binNumber,i=a.pointNumbers);break}return{pointNumber:o,pointNumbers:i,searchInfo:r}}(x,l=B(t,r,n,a));if(b.pointNumbers.length>0?function(e,t){var r,n,a,o=[];for(a=0;a<e.length;a++)(r=e[a]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&o.push(r);if(1===o.length&&o[0]===t.searchInfo&&(n=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(a=0;a<t.pointNumbers.length;a++)if(n.selectedpoints.indexOf(t.pointNumbers[a])<0)return!1;return!0}return!1}(l,b):function(e){var t,r,n,a=0;for(n=0;n<e.length;n++)if(t=e[n],(r=t.cd[0].trace).selectedpoints){if(r.selectedpoints.length>1)return!1;if((a+=r.selectedpoints.length)>1)return!1}return 1===a}(l)&&(f=Z(b))){for(i&&i.remove(),m=0;m<l.length;m++)(s=l[m])._module.selectPoints(s,!1);N(t,l),F(o),y&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==f?f:Z(b)),c=function(e,t,r){return{pointNumber:e,searchInfo:t,subtract:r}}(b.pointNumber,b.searchInfo,p),u=E(o.selectionDefs.concat([c])),m=0;m<l.length;m++)if(d=V(l[m]._module.selectPoints(l[m],u),l[m]),_.length)for(var w=0;w<d.length;w++)_.push(d[w]);else _=d;if(N(t,l,g={points:_}),c&&o&&o.selectionDefs.push(c),i){var k=o.mergedPolygons,L=h(o.dragmode);v(G(k,L),i,o)}y&&t.emit("plotly_selected",g)}}}function O(e){return"pointNumber"in e&&"searchInfo"in e}function R(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,r,n,a){var o=e.searchInfo.cd[0].trace._expandedIndex;return a.cd[0].trace._expandedIndex===o&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function E(e){for(var t=[],r=O(e[0])?0:e[0][0][0],n=r,a=O(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(O(e[i]))t.push(R(e[i]));else{var l=y.tester(e[i]);l.subtract=e[i].subtract,t.push(l),r=Math.min(r,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}return{xmin:r,xmax:n,ymin:a,ymax:o,pts:[],contains:function(e,r,n,a){for(var o=!1,i=0;i<t.length;i++)t[i].contains(e,r,n,a)&&(o=!1===t[i].subtract);return o},isRect:!1,degenerate:!1}}function H(e,t,r){t._fullLayout._drawing=!1;var n=t._fullLayout,a=r.plotinfo,o=r.dragmode,i=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(f(o)&&h(o));i&&l&&a.selection&&a.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=a.selection.selectionDefs,r.mergedPolygons=a.selection.mergedPolygons):l&&a.selection||F(r),i||(S(t),n._lastSelectedSubplot=a.id)}function F(e){var t=e.dragmode,r=e.plotinfo,n=e.gd;if(n._fullLayout._activeShapeIndex>=0&&n._fullLayout._deactivateShape(n),f(t)){var o=n._fullLayout._zoomlayer.selectAll(".select-outline-"+r.id);if(o&&n._fullLayout._drawing){var i=m(o,e);i&&a.call("_guiRelayout",n,{shapes:i}),n._fullLayout._drawing=!1}}r.selection={},r.selection.selectionDefs=e.selectionDefs=[],r.selection.mergedPolygons=e.mergedPolygons=[]}function B(e,t,r,n){var a,o,i,l=[],s=t.map(function(e){return e._id}),c=r.map(function(e){return e._id});for(i=0;i<e.calcdata.length;i++)if(!0===(o=(a=e.calcdata[i])[0].trace).visible&&o._module&&o._module.selectPoints)if(!n||o.subplot!==n&&o.geo!==n)if("splom"===o.type&&o._xaxes[s[0]]&&o._yaxes[c[0]]){var u=f(o._module,a,t[0],r[0]);u.scene=e._fullLayout._splomScenes[o.uid],l.push(u)}else if("sankey"===o.type){var d=f(o._module,a,t[0],r[0]);l.push(d)}else{if(-1===s.indexOf(o.xaxis))continue;if(-1===c.indexOf(o.yaxis))continue;l.push(f(o._module,a,b(e,o.xaxis),b(e,o.yaxis)))}else l.push(f(o._module,a,t[0],r[0]));return l;function f(e,t,r,n){return{_module:e,cd:t,xaxis:r,yaxis:n}}}function Z(e){var t=e.searchInfo.cd[0].trace,r=e.pointNumber,n=e.pointNumbers,a=n.length>0?n[0]:r;return!!t.selectedpoints&&t.selectedpoints.indexOf(a)>-1}function N(e,t,r){var n,o,i,l;for(n=0;n<t.length;n++){var s=t[n].cd[0].trace._fullInput,c=e._fullLayout._tracePreGUI[s.uid]||{};void 0===c.selectedpoints&&(c.selectedpoints=s._input.selectedpoints||null)}if(r){var u=r.points||[];for(n=0;n<t.length;n++)(l=t[n].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(n=0;n<u.length;n++){var d=u[n],f=d.data,h=d.fullData;d.pointIndices?([].push.apply(f.selectedpoints,d.pointIndices),l._fullInput!==l&&[].push.apply(h.selectedpoints,d.pointIndices)):(f.selectedpoints.push(d.pointIndex),l._fullInput!==l&&h.selectedpoints.push(d.pointIndex))}}else for(n=0;n<t.length;n++)delete(l=t[n].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var p=!1;for(n=0;n<t.length;n++){l=(i=(o=t[n]).cd)[0].trace,a.traceIs(l,"regl")&&(p=!0);var v=o._module,g=v.styleOnSelect||v.style;g&&(g(e,i,i[0].node3),i[0].nodeRangePlot3&&g(e,i,i[0].nodeRangePlot3))}p&&(w(e),k(e))}function V(e,t){if(Array.isArray(e))for(var r=t.cd,n=t.cd[0].trace,a=0;a<e.length;a++)e[a]=s(e[a],n,r);return e}function G(e,t){for(var r=[],n=0;n<e.length;n++){r[n]=[];for(var a=0;a<e[n].length;a++){r[n][a]=[],r[n][a][0]=a?"L":"M";for(var o=0;o<e[n][a].length;o++)r[n][a].push(e[n][a][o])}t||r[n].push(["Z",r[n][0][1],r[n][0][2]])}return r}e.exports={prepSelect:function(e,t,r,a,s){var c=u(s),m=d(s),y=h(s),b=f(s),w=p(s),k="drawcircle"===s,S="drawline"===s||k,z=a.gd,O=z._fullLayout,R=O._zoomlayer,Z=a.element.getBoundingClientRect(),q=a.plotinfo,U=D(q),j=t-Z.left,Y=r-Z.top;O._calcInverseTransform(z);var X=x.apply3DTransform(O._invTransform)(j,Y);j=X[0],Y=X[1];var W,K,Q,J,$,ee,te,re=O._invScaleX,ne=O._invScaleY,ae=j,oe=Y,ie="M"+j+","+Y,le=a.xaxes[0]._length,se=a.yaxes[0]._length,ce=a.xaxes.concat(a.yaxes),ue=e.altKey&&!(f(s)&&y);H(e,z,a),c&&(W=A([[j,Y]],L.BENDPX));var de=R.selectAll("path.select-outline-"+q.id).data(b?[0]:[1,2]),fe=O.newshape;de.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+q.id}).style(b?{opacity:fe.opacity/2,fill:y?void 0:fe.fillcolor,stroke:fe.line.color,"stroke-dasharray":o(fe.line.dash,fe.line.width),"stroke-width":fe.line.width+"px"}:{}).attr("fill-rule",fe.fillrule).classed("cursor-move",!!b).attr("transform",U).attr("d",ie+"Z");var he,pe=R.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform",U).attr("d","M0,0Z"),ve=O._uid+L.SELECTID,ge=[],me=B(z,a.xaxes,a.yaxes,a.subplot);function xe(e,t){return e-t}he=q.fillRangeItems?q.fillRangeItems:m?function(e,t){var r=e.range={};for($=0;$<ce.length;$++){var n=ce[$],a=n._id.charAt(0);r[n._id]=[C(n,t[a+"min"]),C(n,t[a+"max"])].sort(xe)}}:function(e,t,r){var n=e.lassoPoints={};for($=0;$<ce.length;$++){var a=ce[$];n[a._id]=r.filtered.map(I(a))}},a.moveFn=function(e,t){ae=Math.max(0,Math.min(le,re*e+j)),oe=Math.max(0,Math.min(se,ne*t+Y));var r=Math.abs(ae-j),o=Math.abs(oe-Y);if(m){var i,l,s;if(w){var u=O.selectdirection;switch(i="any"===u?o<Math.min(.6*r,M)?"h":r<Math.min(.6*o,M)?"v":"d":u){case"h":l=k?se/2:0,s=se;break;case"v":l=k?le/2:0,s=le}}if(b)switch(O.newshape.drawdirection){case"vertical":i="h",l=k?se/2:0,s=se;break;case"horizontal":i="v",l=k?le/2:0,s=le;break;case"ortho":r<o?(i="h",l=Y,s=oe):(i="v",l=j,s=ae);break;default:i="d"}"h"===i?((J=S?g(k,[ae,l],[ae,s]):[[j,l],[j,s],[ae,s],[ae,l]]).xmin=S?ae:Math.min(j,ae),J.xmax=S?ae:Math.max(j,ae),J.ymin=Math.min(l,s),J.ymax=Math.max(l,s),pe.attr("d","M"+J.xmin+","+(Y-M)+"h-4v"+2*M+"h4ZM"+(J.xmax-1)+","+(Y-M)+"h4v"+2*M+"h-4Z")):"v"===i?((J=S?g(k,[l,oe],[s,oe]):[[l,Y],[l,oe],[s,oe],[s,Y]]).xmin=Math.min(l,s),J.xmax=Math.max(l,s),J.ymin=S?oe:Math.min(Y,oe),J.ymax=S?oe:Math.max(Y,oe),pe.attr("d","M"+(j-M)+","+J.ymin+"v-4h"+2*M+"v4ZM"+(j-M)+","+(J.ymax-1)+"v4h"+2*M+"v-4Z")):"d"===i&&((J=S?g(k,[j,Y],[ae,oe]):[[j,Y],[j,oe],[ae,oe],[ae,Y]]).xmin=Math.min(j,ae),J.xmax=Math.max(j,ae),J.ymin=Math.min(Y,oe),J.ymax=Math.max(Y,oe),pe.attr("d","M0,0Z"))}else c&&(W.addPt([ae,oe]),J=W.filtered);a.selectionDefs&&a.selectionDefs.length?(Q=function(e,t,r){return r?n.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:n.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(a.mergedPolygons,J,ue),J.subtract=ue,K=E(a.selectionDefs.concat([J]))):(Q=[J],K=T(J)),v(G(Q,y),de,a),w&&_.throttle(ve,L.SELECTDELAY,function(){var e;ge=[];var t,r=[];for($=0;$<me.length;$++)if(t=(ee=me[$])._module.selectPoints(ee,K),r.push(t),e=V(t,ee),ge.length)for(var n=0;n<e.length;n++)ge.push(e[n]);else ge=e;N(z,me,te={points:ge}),he(te,J,W),a.gd.emit("plotly_selecting",te)})},a.clickFn=function(e,t){if(pe.remove(),z._fullLayout._activeShapeIndex>=0)z._fullLayout._deactivateShape(z);else if(!b){var r=O.clickmode;_.done(ve).then(function(){if(_.clear(ve),2===e){for(de.remove(),$=0;$<me.length;$++)(ee=me[$])._module.selectPoints(ee,!1);N(z,me),F(a),z.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&P(t,z,a.xaxes,a.yaxes,a.subplot,a,de),"event"===r&&z.emit("plotly_selected",void 0);l.click(z,t)}).catch(x.error)}},a.doneFn=function(){pe.remove(),_.done(ve).then(function(){_.clear(ve),a.gd.emit("plotly_selected",te),J&&a.selectionDefs&&(J.subtract=ue,a.selectionDefs.push(J),a.mergedPolygons.length=0,[].push.apply(a.mergedPolygons,Q)),a.doneFnCompleted&&a.doneFnCompleted(ge)}).catch(x.error),b&&F(a)}},clearSelect:S,clearSelectionsCache:F,selectOnClick:P}},337:function(e,t,r){"use strict";var n=r(0);function a(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}t.formatPiePercent=function(e,t){var r=a((100*e).toPrecision(3));return n.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=a(e.toPrecision(10));return n.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var n=e[t[r]];if(n||0===n||""===n)return n}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0},t.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},338:function(e,t,r){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},339:function(e,t,r){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},340:function(e,t,r){"use strict";var n=r(0).strTranslate;function a(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}e.exports={p2r:a,r2p:function(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}},axValue:function(e){var t="y"===e._id.charAt(0)?1:0;return function(r){return a(e,r[t])}},getTransform:function(e){return n(e.xaxis._offset,e.yaxis._offset)}}},341:function(e,t,r){"use strict";var n=r(0),a=r(107),o=r(27).id2name,i=r(18),l=r(347),s=r(109),c=r(5).ALMOST_EQUAL,u=r(28).FROM_BL;function d(e,t,r){var a=r.axIds,l=r.layoutOut,s=r.hasImage,c=l._axisConstraintGroups,u=l._axisMatchGroups,d=t._id,v=d.charAt(0),g=((l._splomAxes||{})[v]||{})[d]||{},m=t._id,x="x"===m.charAt(0);function y(r,a){return n.coerce(e,t,i,r,a)}t._matchGroup=null,t._constraintGroup=null,y("constrain",s?"domain":"range"),n.coerce(e,t,{constraintoward:{valType:"enumerated",values:x?["left","center","right"]:["bottom","middle","top"],dflt:x?"center":"middle"}},"constraintoward");var _,b,w=t.type,k=[];for(_=0;_<a.length;_++){if((b=a[_])!==m)l[o(b)].type===w&&k.push(b)}var L=h(c,m);if(L){var M=[];for(_=0;_<k.length;_++)L[b=k[_]]||M.push(b);k=M}var A,T,S=k.length;S&&(e.matches||g.matches)&&(A=n.coerce(e,t,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(g.matches)?g.matches:void 0}},"matches"));var z=s&&!x?t.anchor:void 0;if(S&&!A&&(e.scaleanchor||z)&&(T=n.coerce(e,t,{scaleanchor:{valType:"enumerated",values:k}},"scaleanchor",z)),A){t._matchGroup=p(u,m,A,1);var C=l[o(A)],I=f(l,t)/f(l,C);x!==("x"===A.charAt(0))&&(I=(x?"x":"y")+I),p(c,m,A,I)}else e.matches&&-1!==a.indexOf(e.matches)&&n.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(T){var D=y("scaleratio");D||(D=t.scaleratio=1),p(c,m,T,D)}else e.scaleanchor&&-1!==a.indexOf(e.scaleanchor)&&n.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function f(e,t){var r=t.domain;return r||(r=e[o(t.overlaying)].domain),r[1]-r[0]}function h(e,t){for(var r=0;r<e.length;r++)if(e[r][t])return e[r];return null}function p(e,t,r,n){var a,o,i,l,s,c=h(e,t);null===c?((c={})[t]=1,s=e.length,e.push(c)):s=e.indexOf(c);var u=Object.keys(c);for(a=0;a<e.length;a++)if(i=e[a],a!==s&&i[r]){var d=i[r];for(o=0;o<u.length;o++)i[l=u[o]]=v(d,v(n,c[l]));return void e.splice(s,1)}if(1!==n)for(o=0;o<u.length;o++){var f=u[o];c[f]=v(n,c[f])}c[r]=1}function v(e,t){var r,n,a="",o="";"string"==typeof e&&(r=(a=e.match(/^[xy]*/)[0]).length,e=+e.substr(r)),"string"==typeof t&&(n=(o=t.match(/^[xy]*/)[0]).length,t=+t.substr(n));var i=e*t;return r||n?r&&n&&a.charAt(0)!==o.charAt(0)?r===n?i:(r>n?a.substr(n):o.substr(r))+i:a+o+e*t:i}function g(e,t){for(var r=t._size,n=r.h/r.w,a={},o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],s=e[l];if("string"==typeof s){var c=s.match(/^[xy]*/)[0],u=c.length;s=+s.substr(u);for(var d="y"===c.charAt(0)?n:1/n,f=0;f<u;f++)s*=d}a[l]=s}return a}function m(e,t){var r=e._inputDomain,n=u[e.constraintoward],a=r[0]+(r[1]-r[0])*n;e.domain=e._input.domain=[a+(r[0]-a)/t,a+(r[1]-a)/t],e.setScale()}t.handleDefaults=function(e,t,r){var a,i,l,c,u,f,h,p,v=r.axIds,g=r.axHasImage,m=t._axisConstraintGroups=[],x=t._axisMatchGroups=[];for(a=0;a<v.length;a++)d(u=e[c=o(v[a])],f=t[c],{axIds:v,layoutOut:t,hasImage:g[c]});function y(e,r){for(a=0;a<e.length;a++)for(l in i=e[a])t[o(l)][r]=i}for(y(x,"_matchGroup"),a=0;a<m.length;a++)for(l in i=m[a])if((f=t[o(l)]).fixedrange){for(var _ in i){var b=o(_);!1===(e[b]||{}).fixedrange&&n.warn("fixedrange was specified as false for axis "+b+" but was overridden because another axis in its constraint group has fixedrange true"),t[b].fixedrange=!0}break}for(a=0;a<m.length;){for(l in i=m[a]){(f=t[o(l)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(i).length&&(m.splice(a,1),a--);break}a++}y(m,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,L=!1;function M(){p=f[h],"rangebreaks"===h&&(L=f._hasDayOfWeekBreaks)}for(a=0;a<x.length;a++){i=x[a];for(var A=0;A<w.length;A++){var T;for(l in h=w[A],p=null,i)if(u=e[c=o(l)],f=t[c],h in f){if(!f.matches&&(T=f,h in u)){M();break}null===p&&h in u&&M()}if("range"===h&&p&&(k=!0),"autorange"===h&&null===p&&k&&(p=!1),null===p&&h in T&&(p=T[h]),null!==p)for(l in i)(f=t[o(l)])[h]="range"===h?p.slice():p,"rangebreaks"===h&&(f._hasDayOfWeekBreaks=L,s(f,t))}}},t.enforce=function(e){var t,r,n,i,s,u,d,f,h=e._fullLayout,p=h._axisConstraintGroups||[];for(t=0;t<p.length;t++){n=g(p[t],h);var v=Object.keys(n),x=1/0,y=0,_=1/0,b={},w={},k=!1;for(r=0;r<v.length;r++)w[i=v[r]]=s=h[o(i)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),b[i]=u=Math.abs(s._m)/n[i],x=Math.min(x,u),"domain"!==s.constrain&&s._constraintShrinkable||(_=Math.min(_,u)),delete s._constraintShrinkable,y=Math.max(y,u),"domain"===s.constrain&&(k=!0);if(!(x>c*y)||k)for(r=0;r<v.length;r++)if(u=b[i=v[r]],d=(s=w[i]).constrain,u!==_||"domain"===d)if(f=u/_,"range"===d)l(s,f);else{var L=s._inputDomain,M=(s.domain[1]-s.domain[0])/(L[1]-L[0]),A=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if((f/=M)*A<1){s.domain=s._input.domain=L.slice(),l(s,f);continue}if(A<1&&(s.range=s._input.range=s._inputRange.slice(),f*=A),s.autorange){var T=s.r2l(s.range[0]),S=s.r2l(s.range[1]),z=(T+S)/2,C=z,I=z,D=Math.abs(S-z),P=z-D*f*1.0001,O=z+D*f*1.0001,R=a.makePadFn(h,s,0),E=a.makePadFn(h,s,1);m(s,f);var H,F,B=Math.abs(s._m),Z=a.concatExtremes(e,s),N=Z.min,V=Z.max;for(F=0;F<N.length;F++)(H=N[F].val-R(N[F])/B)>P&&H<C&&(C=H);for(F=0;F<V.length;F++)(H=V[F].val+E(V[F])/B)<O&&H>I&&(I=H);f/=(I-C)/(2*D),C=s.l2r(C),I=s.l2r(I),s.range=s._input.range=T<S?[C,I]:[I,C]}m(s,f)}}},t.getAxisGroup=function(e,t){for(var r=e._axisMatchGroups,n=0;n<r.length;n++){if(r[n][t])return"g"+n}return t},t.clean=function(e,t){if(t._inputDomain){for(var r=!1,n=t._id,a=e._fullLayout._axisConstraintGroups,o=0;o<a.length;o++)if(a[o][n]){r=!0;break}r&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},342:function(e,t){e.exports=!0},343:function(e,t,r){"use strict";var n=r(4),a=r(1),o=r(19),i=r(0),l=i.strTranslate,s=i.strRotate,c=r(331),u=r(39),d=r(367),f=r(38),h=r(14),p=r(328),v=r(99),g=r(3),m=r(100),x=r(104),y=r(357),_=r(359),b=x.YANGLE,w=Math.PI*b/180,k=1/Math.sin(w),L=Math.cos(w),M=Math.sin(w),A=x.HOVERARROWSIZE,T=x.HOVERTEXTPAD;function S(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}t.hover=function(e,t,r,o){e=i.getGraphDiv(e),i.throttle(e._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){!function(e,t,r,o){r||(r="xy");var l=Array.isArray(r)?r:[r],s=e._fullLayout,u=s._plots||[],f=u[r],v=s._has("cartesian");if(f){var x=f.overlays.map(function(e){return e.id});l=l.concat(x)}for(var y=l.length,_=new Array(y),b=new Array(y),w=!1,L=0;L<y;L++){var M=l[L];if(u[M])w=!0,_[L]=u[M].xaxis,b[L]=u[M].yaxis;else{if(!s[M]||!s[M]._subplot)return void i.warn("Unrecognized subplot: "+M);var A=s[M]._subplot;_[L]=A.xaxis,b[L]=A.yaxis}}var T=t.hovermode||s.hovermode;T&&!w&&(T="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(T)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return p.unhoverRaw(e,t);var z,I,E,H,F,B,Z,N,V,G,q,U,j,Y=-1===s.hoverdistance?1/0:s.hoverdistance,X=-1===s.spikedistance?1/0:s.spikedistance,W=[],K=[],Q={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(T="array",E=0;E<t.length;E++)(F=e.calcdata[t[E].curveNumber||0])&&(B=F[0].trace,"skip"!==F[0].trace.hoverinfo&&(K.push(F),"h"===B.orientation&&(J=!0)));else{for(H=0;H<e.calcdata.length;H++)F=e.calcdata[H],"skip"!==(B=F[0].trace).hoverinfo&&m.isTraceInSubplots(B,l)&&(K.push(F),"h"===B.orientation&&(J=!0));var $,ee,te=!t.target;if(te)$="xpx"in t?t.xpx:_[0]._length/2,ee="ypx"in t?t.ypx:b[0]._length/2;else{if(!1===c.triggerHandler(e,"plotly_beforehover",t))return;var re=t.target.getBoundingClientRect();$=t.clientX-re.left,ee=t.clientY-re.top,s._calcInverseTransform(e);var ne=i.apply3DTransform(s._invTransform)($,ee);if($=ne[0],ee=ne[1],$<0||$>_[0]._length||ee<0||ee>b[0]._length)return p.unhoverRaw(e,t)}if(t.pointerX=$+_[0]._offset,t.pointerY=ee+b[0]._offset,z="xval"in t?m.flat(l,t.xval):m.p2c(_,$),I="yval"in t?m.flat(l,t.yval):m.p2c(b,ee),!a(z[0])||!a(I[0]))return i.warn("Fx.hover failed",t,e),p.unhoverRaw(e,t)}var ae=1/0;function oe(e,r){for(H=0;H<K.length;H++)if((F=K[H])&&F[0]&&F[0].trace&&!0===(B=F[0].trace).visible&&0!==B._length&&-1===["carpet","contourcarpet"].indexOf(B._module.name)){if("splom"===B.type?Z=l[N=0]:(Z=m.getSubplot(B),N=l.indexOf(Z)),V=T,m.isUnifiedHover(V)&&(V=V.charAt(0)),U={cd:F,trace:B,xa:_[N],ya:b[N],maxHoverDistance:Y,maxSpikeDistance:X,index:!1,distance:Math.min(ae,Y),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:B.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[Z]&&(U.subplot=s[Z]._subplot),s._splomScenes&&s._splomScenes[B.uid]&&(U.scene=s._splomScenes[B.uid]),j=W.length,"array"===V){var n=t[H];"pointNumber"in n?(U.index=n.pointNumber,V="closest"):(V="","xval"in n&&(G=n.xval,V="x"),"yval"in n&&(q=n.yval,V=V?"closest":"y"))}else void 0!==e&&void 0!==r?(G=e,q=r):(G=z[N],q=I[N]);if(0!==Y)if(B._module&&B._module.hoverPoints){var o=B._module.hoverPoints(U,G,q,V,s._hoverlayer);if(o)for(var c,u=0;u<o.length;u++)c=o[u],a(c.x0)&&a(c.y0)&&W.push(P(c,T))}else i.log("Unrecognized trace type in hover:",B);if("closest"===T&&W.length>j&&(W.splice(0,j),ae=W[0].distance),v&&0!==X&&0===W.length){U.distance=X,U.index=!1;var d=B._module.hoverPoints(U,G,q,"closest",s._hoverlayer);if(d&&(d=d.filter(function(e){return e.spikeDistance<=X})),d&&d.length){var f,p=d.filter(function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap});if(p.length){var g=p[0];a(g.x0)&&a(g.y0)&&(f=le(g),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>f.spikeDistance)&&(Q.vLinePoint=f))}var x=d.filter(function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap});if(x.length){var y=x[0];a(y.x0)&&a(y.y0)&&(f=le(y),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>f.spikeDistance)&&(Q.hLinePoint=f))}}}}}function ie(e,t){for(var r,n=null,a=1/0,o=0;o<e.length;o++)(r=e[o].spikeDistance)<=a&&r<=t&&(n=e[o],a=r);return n}function le(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}oe();var se={fullLayout:s,container:s._hoverlayer,outerContainer:s._paperdiv,event:t},ce=e._spikepoints,ue={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=ue,v&&0!==X&&0!==W.length){var de=W.filter(function(e){return e.ya.showspikes}),fe=ie(de,X);Q.hLinePoint=le(fe);var he=W.filter(function(e){return e.xa.showspikes}),pe=ie(he,X);Q.vLinePoint=le(pe)}if(0===W.length){var ve=p.unhoverRaw(e,t);return!v||null===Q.hLinePoint&&null===Q.vLinePoint||R(ce)&&O(e,Q,se),ve}v&&R(ce)&&O(e,Q,se);if(W.sort(function(e,t){return e.distance-t.distance}),m.isXYhover(V)&&0!==W[0].length&&"splom"!==W[0].trace.type){var ge=W[0],me=ge.cd[ge.index],xe="group"===s.boxmode||"group"===s.violinmode,ye=ge.xVal,_e=ge.xa;"category"===_e.type&&(ye=_e._categoriesMap[ye]),"date"===_e.type&&(ye=_e.d2c(ye)),me&&me.t&&me.t.posLetter===_e._id&&xe&&(ye+=me.t.dPos);var be=ge.yVal;"category"===(_e=ge.ya).type&&(be=_e._categoriesMap[be]),"date"===_e.type&&(be=_e.d2c(be)),me&&me.t&&me.t.posLetter===_e._id&&xe&&(be+=me.t.dPos),oe(ye,be);var we={};W=W.filter(function(e){var t=S(e);if(!we[t])return we[t]=!0,we[t]})}var ke=e._hoverdata,Le=[];for(E=0;E<W.length;E++){var Me=W[E],Ae=m.makeEventData(Me,Me.trace,Me.cd);if(!1!==Me.hovertemplate){var Te=!1;Me.cd[Me.index]&&Me.cd[Me.index].ht&&(Te=Me.cd[Me.index].ht),Me.hovertemplate=Te||Me.trace.hovertemplate||!1}Me.eventData=[Ae],Le.push(Ae)}e._hoverdata=Le;var Se="y"===T&&(K.length>1||W.length>1)||"closest"===T&&J&&W.length>1,ze=h.combine(s.plot_bgcolor||h.background,s.paper_bgcolor),Ce={hovermode:T,rotateLabels:Se,bgColor:ze,container:s._hoverlayer,outerContainer:s._paperdiv,commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance},Ie=C(W,Ce,e);m.isUnifiedHover(T)||(!function(e,t,r){var n,a,o,i,l,s,c,u=0,d=1,f=e.size(),h=new Array(f),p=0;function v(e){var t=e[0],r=e[e.length-1];if(a=t.pmin-t.pos-t.dp+t.size,o=r.pos+r.dp+r.size-t.pmax,a>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=a;n=!1}if(!(o<.01)){if(a<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=o;n=!1}if(n){var c=0;for(i=0;i<e.length;i++)(s=e[i]).pos+s.dp+s.size>t.pmax&&c++;for(i=e.length-1;i>=0&&!(c<=0);i--)(s=e[i]).pos>t.pmax-1&&(s.del=!0,c--);for(i=0;i<e.length&&!(c<=0);i++)if((s=e[i]).pos<t.pmin+1)for(s.del=!0,c--,o=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=o;for(i=e.length-1;i>=0&&!(c<=0);i--)(s=e[i]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}e.each(function(e){var n=e[t],a="x"===n._id.charAt(0),o=n.range;0===p&&o&&o[0]>o[1]!==a&&(d=-1),h[p++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(a?k:1)/2,pmin:0,pmax:a?r.width:r.height}]}),h.sort(function(e,t){return e[0].posref-t[0].posref||d*(t[0].traceIndex-e[0].traceIndex)});for(;!n&&u<=f;){for(u++,n=!0,i=0;i<h.length-1;){var g=h[i],m=h[i+1],x=g[g.length-1],y=m[0];if((a=x.pos+x.dp+x.size-y.pos-y.dp+y.size)>.01&&x.pmin===y.pmin&&x.pmax===y.pmax){for(l=m.length-1;l>=0;l--)m[l].dp+=a;for(g.push.apply(g,m),h.splice(i+1,1),c=0,l=g.length-1;l>=0;l--)c+=g[l].dp;for(o=c/g.length,l=g.length-1;l>=0;l--)g[l].dp-=o;n=!1}else i++}h.forEach(v)}for(i=h.length-1;i>=0;i--){var _=h[i];for(l=_.length-1;l>=0;l--){var b=_[l],w=b.datum;w.offset=b.dp,w.del=b.del}}}(Ie,Se?"xa":"ya",s),D(Ie,Se,s._invScaleX,s._invScaleY));if(t.target&&t.target.tagName){var De=g.getComponentMethod("annotations","hasClickToShow")(e,Le);d(n.select(t.target),De?"pointer":"")}if(!t.target||o||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var a=r[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber)||String(a.pointNumbers)!==String(o.pointNumbers))return!0}return!1}(e,0,ke))return;ke&&e.emit("plotly_unhover",{event:t,points:ke});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:_,yaxes:b,xvals:z,yvals:I})}(e,t,r,o)})},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var a=e.map(function(e){return{color:e.color||h.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}}),o=n.select(t.container),i=t.outerContainer?n.select(t.outerContainer):o,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||h.background,container:o,outerContainer:i},s=C(a,l,t.gd),c=0,u=0;s.sort(function(e,t){return e.y0-t.y0}).each(function(e,r){var n=e.y0-e.by/2;e.offset=n-5<c?c-n+5:0,c=n+e.by+e.offset,r===t.anchorIndex&&(u=e.offset)}).each(function(e){e.offset-=u});var d=t.gd._fullLayout._invScaleX,f=t.gd._fullLayout._invScaleY;return D(s,l.rotateLabels,d,f),r?s:s.node()};var z=/<extra>([\s\S]*)<\/extra>/;function C(e,t,r){var a=r._fullLayout,o=t.hovermode,c=t.rotateLabels,d=t.bgColor,p=t.container,v=t.outerContainer,g=t.commonLabelOpts||{},w=t.fontFamily||x.HOVERFONT,k=t.fontSize||x.HOVERFONTSIZE,L=e[0],M=L.xa,z=L.ya,C="y"===o.charAt(0)?"yLabel":"xLabel",D=L[C],P=(String(D)||"").split(" ")[0],O=v.node().getBoundingClientRect(),R=O.top,E=O.width,H=O.height,F=void 0!==D&&L.distance<=t.hoverdistance&&("x"===o||"y"===o);if(F){var B,Z,N=!0;for(B=0;B<e.length;B++)if(N&&void 0===e[B].zLabel&&(N=!1),Z=e[B].hoverinfo||e[B].trace.hoverinfo){var V=Array.isArray(Z)?Z:Z.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(o)){F=!1;break}}N&&(F=!1)}var G=p.selectAll("g.axistext").data(F?[0]:[]);function q(e){return e.filter(function(e){return void 0!==e.zLabelVal||(e[C]||"").split(" ")[0]===P})}if(G.enter().append("g").classed("axistext",!0),G.exit().remove(),G.each(function(){var t=n.select(this),s=i.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),c=i.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),d=g.bgcolor||h.defaultLine,p=g.bordercolor||h.contrast(d),v=h.contrast(d),m={family:g.font.family||w,size:g.font.size||k,color:g.font.color||v};s.style({fill:d,stroke:p}),c.text(D).call(f.font,m).call(u.positionText,0,0).call(u.convertToTspans,r),t.attr("transform","");var x,y,_=c.node().getBoundingClientRect();if("x"===o){var b="top"===M.side?"-":"";c.attr("text-anchor","middle").call(u.positionText,0,"top"===M.side?R-_.bottom-A-T:R-_.top+A+T),x=M._offset+(L.x0+L.x1)/2,y=z._offset+("top"===M.side?0:z._length);var S=_.width/2+T;x<S?(x=S,s.attr("d","M-"+(S-A)+",0L-"+(S-2*A)+","+b+A+"H"+(T+_.width/2)+"v"+b+(2*T+_.height)+"H-"+S+"V"+b+A+"Z")):x>a.width-S?(x=a.width-S,s.attr("d","M"+(S-A)+",0L"+S+","+b+A+"v"+b+(2*T+_.height)+"H-"+S+"V"+b+A+"H"+(S-2*A)+"Z")):s.attr("d","M0,0L"+A+","+b+A+"H"+(T+_.width/2)+"v"+b+(2*T+_.height)+"H-"+(T+_.width/2)+"V"+b+A+"H-"+A+"Z")}else{var C,I,P;"right"===z.side?(C="start",I=1,P="",x=M._offset+M._length):(C="end",I=-1,P="-",x=M._offset),y=z._offset+(L.y0+L.y1)/2,c.attr("text-anchor",C),s.attr("d","M0,0L"+P+A+","+A+"V"+(T+_.height/2)+"h"+P+(2*T+_.width)+"V-"+(T+_.height/2)+"H"+P+A+"V-"+A+"Z");var O,E=_.height/2,H=R-_.top-E,F="clip"+a._uid+"commonlabel"+z._id;if(x<_.width+2*T+A){O="M-"+(A+T)+"-"+E+"h-"+(_.width-T)+"V"+E+"h"+(_.width-T)+"Z";var B=_.width-x+T;u.positionText(c,B,H),"end"===C&&c.selectAll("tspan").each(function(){var e=n.select(this),t=f.tester.append("text").text(e.text()).call(f.font,m),r=t.node().getBoundingClientRect();Math.round(r.width)<Math.round(_.width)&&e.attr("x",B-r.width),t.remove()})}else u.positionText(c,I*(T+A),H),O=null;var Z=a._topclips.selectAll("#"+F).data(O?[0]:[]);Z.enter().append("clipPath").attr("id",F).append("path"),Z.exit().remove(),Z.select("path").attr("d",O),f.setClipUrl(c,O?F:null,r)}t.attr("transform",l(x,y)),e=q(e)}),m.isUnifiedHover(o)){if(p.selectAll("g.hovertext").remove(),void 0!==D&&L.distance<=t.hoverdistance&&(e=q(e)),0===e.length)return;var U={showlegend:!0,legend:{title:{text:D,font:a.hoverlabel.font},font:a.hoverlabel.font,bgcolor:a.hoverlabel.bgcolor,bordercolor:a.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:a.legend?a.legend.traceorder:void 0,orientation:"v"}},j={};y(U,j,r._fullData);var Y=j.legend;Y.entries=[];for(var X=0;X<e.length;X++){var W=I(e[X],!0,o,a,D),K=W[0],Q=W[1],J=e[X];J.name=Q,J.text=""!==Q?Q+" : "+K:K;var $=J.cd[J.index];$&&($.mc&&(J.mc=$.mc),$.mcc&&(J.mc=$.mcc),$.mlc&&(J.mlc=$.mlc),$.mlcc&&(J.mlc=$.mlcc),$.mlw&&(J.mlw=$.mlw),$.mrc&&(J.mrc=$.mrc),$.dir&&(J.dir=$.dir)),J._distinct=!0,Y.entries.push([J])}Y.entries.sort(function(e,t){return e[0].trace.index-t[0].trace.index}),Y.layer=p,_(r,Y);var ee=i.mean(e.map(function(e){return(e.y0+e.y1)/2})),te=i.mean(e.map(function(e){return(e.x0+e.x1)/2})),re=p.select("g.legend"),ne=re.node().getBoundingClientRect();te+=M._offset,ee+=z._offset-ne.height/2;var ae=ne.width+2*T;!(te+ae<=E)&&te-ae>=0?te-=ae:te+=2*T;var oe=ne.height+2*T,ie=ee+oe>=H;return oe<=H&&(ee<=R?ee=z._offset+2*T:ie&&(ee=H-oe)),re.attr("transform",l(te,ee)),re}var le=p.selectAll("g.hovertext").data(e,function(e){return S(e)});return le.enter().append("g").classed("hovertext",!0).each(function(){var e=n.select(this);e.append("rect").call(h.fill,h.addOpacity(d,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(f.font,w,k)}),le.exit().remove(),le.each(function(e){var t=n.select(this).attr("transform",""),i=e.color;Array.isArray(i)&&(i=i[e.eventData[0].pointNumber]);var p=e.bgcolor||i,v=h.combine(h.opacity(p)?p:h.defaultLine,d),g=h.combine(h.opacity(i)?i:h.defaultLine,d),m=e.borderColor||h.contrast(v),x=I(e,F,o,a,D,t),y=x[0],_=x[1],L=t.select("text.nums").call(f.font,e.fontFamily||w,e.fontSize||k,e.fontColor||m).text(y).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r),M=t.select("text.name"),S=0,z=0;if(_&&_!==y){M.call(f.font,e.fontFamily||w,e.fontSize||k,g).text(_).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r);var C=M.node().getBoundingClientRect();S=C.width+2*T,z=C.height+2*T}else M.remove(),t.select("rect").remove();t.select("path").style({fill:v,stroke:m});var P,O,B=L.node().getBoundingClientRect(),Z=e.xa._offset+(e.x0+e.x1)/2,N=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),G=Math.abs(e.y1-e.y0),q=B.width+A+T+S;if(e.ty0=R-B.top,e.bx=B.width+2*T,e.by=Math.max(B.height+2*T,z),e.anchor="start",e.txwidth=B.width,e.tx2width=S,e.offset=0,c)e.pos=Z,P=N+G/2+q<=H,O=N-G/2-q>=0,"top"!==e.idealAlign&&P||!O?P?(N+=G/2,e.anchor="start"):e.anchor="middle":(N-=G/2,e.anchor="end");else if(e.pos=N,P=Z+V/2+q<=E,O=Z-V/2-q>=0,"left"!==e.idealAlign&&P||!O)if(P)Z+=V/2,e.anchor="start";else{e.anchor="middle";var U=q/2,j=Z+U-E,Y=Z-U;j>0&&(Z-=j),Y<0&&(Z+=-Y)}else Z-=V/2,e.anchor="end";L.attr("text-anchor",e.anchor),S&&M.attr("text-anchor",e.anchor),t.attr("transform",l(Z,N)+(c?s(b):""))}),le}function I(e,t,r,n,a,o){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=i.templateString(e.name,e.trace._meta)),l=E(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[r.charAt(0)+"Label"]===a?s=e[("x"===r.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),o&&""===s&&!e.hovertemplate&&(""===l&&o.remove(),s=l);var c=n._d3locale,u=e.hovertemplate||!1,d=e.hovertemplateLabels||e,f=e.eventData[0]||{};return u&&(s=(s=i.hovertemplateString(u,d,c,f,e.trace._meta)).replace(z,function(t,r){return l=E(r,e.nameLength),""})),[s,l]}function D(e,t,r,a){var o=function(e){return e*r},i=function(e){return e*a};e.each(function(e){var r=n.select(this);if(e.del)return r.remove();var a=r.select("text.nums"),l=e.anchor,s="end"===l?-1:1,c={start:1,end:-1,middle:0}[l],d=c*(A+T),h=d+c*(e.txwidth+T),p=0,v=e.offset,g="middle"===l;g&&(d-=e.tx2width/2,h+=e.txwidth/2+T),t&&(v*=-M,p=e.offset*L),r.select("path").attr("d",g?"M-"+o(e.bx/2+e.tx2width/2)+","+i(v-e.by/2)+"h"+o(e.bx)+"v"+i(e.by)+"h-"+o(e.bx)+"Z":"M0,0L"+o(s*A+p)+","+i(A+v)+"v"+i(e.by/2-A)+"h"+o(s*e.bx)+"v-"+i(e.by)+"H"+o(s*A+p)+"V"+i(v-A)+"Z");var m=p+d,x=v+e.ty0-e.by/2+T,y=e.textAlign||"auto";"auto"!==y&&("left"===y&&"start"!==l?(a.attr("text-anchor","start"),m=g?-e.bx/2-e.tx2width/2+T:-e.bx-T):"right"===y&&"end"!==l&&(a.attr("text-anchor","end"),m=g?e.bx/2-e.tx2width/2-T:e.bx+T)),a.call(u.positionText,o(m),i(x)),e.tx2width&&(r.select("text.name").call(u.positionText,o(h+c*T+p),i(v+e.ty0-e.by/2+T)),r.select("rect").call(f.setRect,o(h+(c-1)*e.tx2width/2+p),i(v-e.by/2-1),o(e.tx2width),i(e.by+2)))})}function P(e,t){var r=e.index,n=e.trace||{},o=e.cd[0],l=e.cd[r]||{};function s(e){return e||a(e)&&0===e}var c=Array.isArray(r)?function(e,t){var a=i.castOption(o,r,e);return s(a)?a:i.extractOption({},n,"",t)}:function(e,t){return i.extractOption(l,n,e,t)};function u(t,r,n){var a=c(r,n);s(a)&&(e[t]=a)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===n.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=i.constrain(e.x0,0,e.xa._length),e.x1=i.constrain(e.x1,0,e.xa._length),e.y0=i.constrain(e.y0,0,e.ya._length),e.y1=i.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:v.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:v.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var d=v.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+d+" / -"+v.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+d,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var f=v.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+f+" / -"+v.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+f,"y"===t&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===h.indexOf("y")&&(e.yLabel=void 0),-1===h.indexOf("z")&&(e.zLabel=void 0),-1===h.indexOf("text")&&(e.text=void 0),-1===h.indexOf("name")&&(e.name=void 0)),e}function O(e,t,r){var n,a,i=r.container,l=r.fullLayout,s=l._size,c=r.event,u=!!t.hLinePoint,d=!!t.vLinePoint;if(i.selectAll(".spikeline").remove(),d||u){var p=h.combine(l.plot_bgcolor,l.paper_bgcolor);if(u){var g,m,x=t.hLinePoint;n=x&&x.xa,"cursor"===(a=x&&x.ya).spikesnap?(g=c.pointerX,m=c.pointerY):(g=n._offset+x.x,m=a._offset+x.y);var y,_,b=o.readability(x.color,p)<1.5?h.contrast(p):x.color,w=a.spikemode,k=a.spikethickness,L=a.spikecolor||b,M=v.getPxPosition(e,a);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(y=M,_=g),-1!==w.indexOf("across")){var A=a._counterDomainMin,T=a._counterDomainMax;"free"===a.anchor&&(A=Math.min(A,a.position),T=Math.max(T,a.position)),y=s.l+A*s.w,_=s.l+T*s.w}i.insert("line",":first-child").attr({x1:y,x2:_,y1:m,y2:m,"stroke-width":k,stroke:L,"stroke-dasharray":f.dashStyle(a.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:y,x2:_,y1:m,y2:m,"stroke-width":k+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:M+("right"!==a.side?k:-k),cy:m,r:k,fill:L}).classed("spikeline",!0)}if(d){var S,z,C=t.vLinePoint;n=C&&C.xa,a=C&&C.ya,"cursor"===n.spikesnap?(S=c.pointerX,z=c.pointerY):(S=n._offset+C.x,z=a._offset+C.y);var I,D,P=o.readability(C.color,p)<1.5?h.contrast(p):C.color,O=n.spikemode,R=n.spikethickness,E=n.spikecolor||P,H=v.getPxPosition(e,n);if(-1!==O.indexOf("toaxis")||-1!==O.indexOf("across")){if(-1!==O.indexOf("toaxis")&&(I=H,D=z),-1!==O.indexOf("across")){var F=n._counterDomainMin,B=n._counterDomainMax;"free"===n.anchor&&(F=Math.min(F,n.position),B=Math.max(B,n.position)),I=s.t+(1-B)*s.h,D=s.t+(1-F)*s.h}i.insert("line",":first-child").attr({x1:S,x2:S,y1:I,y2:D,"stroke-width":R,stroke:E,"stroke-dasharray":f.dashStyle(n.spikedash,R)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:S,x2:S,y1:I,y2:D,"stroke-width":R+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==O.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:S,cy:H-("top"!==n.side?R:-R),r:R,fill:E}).classed("spikeline",!0)}}}function R(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function E(e,t){return u.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},344:function(e,t,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},345:function(e,t,r){"use strict";var n=r(342);e.exports=n&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},346:function(e,t,r){"use strict";var n=r(0),a=r(102);e.exports=function(e,t,r){function o(r,o){return void 0!==t[r]?t[r]:n.coerce(e,t,a,r,o)}var i,l=o("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?i="closest":(t._isHoriz=function(e,t){for(var r=t._scatterStackOpts||{},n=0;n<e.length;n++){var a=e[n],o=a.xaxis+a.yaxis,i=r[o]||{},l=i[a.stackgroup]||{};if("h"!==a.orientation&&"h"!==l.orientation)return!1}return!0}(r,t),i=t._isHoriz?"y":"x"):i="closest",o("hovermode",i)}},347:function(e,t,r){"use strict";var n=r(28).FROM_BL;e.exports=function(e,t,r){void 0===r&&(r=n[e.constraintoward||"center"]);var a=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=a[0]+(a[1]-a[0])*r;e.range=e._input.range=[e.l2r(o+(a[0]-o)*t),e.l2r(o+(a[1]-o)*t)],e.setScale()}},348:function(e,t,r){"use strict";var n=r(4),a=r(3),o=r(57),i=r(0),l=r(338),s=r(14),c=r(38),u=r(111),d=r(387),f=r(99),h=r(28),p=r(341),v=p.enforce,g=p.clean,m=r(107).doAutoRange,x="start",y="middle",_="end";function b(e,t,r){for(var n=0;n<r.length;n++){var a=r[n][0],o=r[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&(o[0]<t[1]&&o[1]>t[0]))return!0}return!1}function w(e){var r,a,l,u,p,v,g=e._fullLayout,m=g._size,x=m.p,y=f.list(e,"",!0);if(g._paperdiv.style({width:e._context.responsive&&g.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":g.width+"px",height:e._context.responsive&&g.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(c.setSize,g.width,g.height),e._context.setBackground(e,g.paper_bgcolor),t.drawMainTitle(e),d.manage(e),!g._has("cartesian"))return o.previousPromises(e);function _(e,t,r){var n=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===r?t._offset-x-n:t._offset+t._length+x+n:m.t+m.h*(1-(e.position||0))+n%1:t?"right"===r?t._offset+t._length+x+n:t._offset-x-n:m.l+m.w*(e.position||0)+n%1}for(r=0;r<y.length;r++){var w=(u=y[r])._anchorAxis;u._linepositions={},u._lw=c.crispRound(e,u.linewidth,1),u._mainLinePosition=_(u,w,u.side),u._mainMirrorPosition=u.mirror&&w?_(u,w,h.OPPOSITE_SIDE[u.side]):null}var L=[],A=[],T=[],S=1===s.opacity(g.paper_bgcolor)&&1===s.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(a in g._plots)if((l=g._plots[a]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var z=l.xaxis.domain,C=l.yaxis.domain,I=l.plotgroup;if(b(z,C,T)){var D=I.node(),P=l.bg=i.ensureSingle(I,"rect","bg");D.insertBefore(P.node(),D.childNodes[0]),A.push(a)}else I.select("rect.bg").remove(),T.push([z,C]),S||(L.push(a),A.push(a))}var O,R,E,H,F,B,Z,N,V,G,q,U,j,Y=g._bgLayer.selectAll(".bg").data(L);for(Y.enter().append("rect").classed("bg",!0),Y.exit().remove(),Y.each(function(e){g._plots[e].bg=n.select(this)}),r=0;r<A.length;r++)l=g._plots[A[r]],p=l.xaxis,v=l.yaxis,l.bg&&void 0!==p._offset&&void 0!==v._offset&&l.bg.call(c.setRect,p._offset-x,v._offset-x,p._length+2*x,v._length+2*x).call(s.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(a in g._plots){l=g._plots[a],p=l.xaxis,v=l.yaxis;var X,W,K=l.clipId="clip"+g._uid+a+"plot",Q=i.ensureSingleById(g._clips,"clipPath",K,function(e){e.classed("plotclip",!0).append("rect")});l.clipRect=Q.select("rect").attr({width:p._length,height:v._length}),c.setTranslate(l.plot,p._offset,v._offset),l._hasClipOnAxisFalse?(X=null,W=K):(X=K,W=null),c.setClipUrl(l.plot,X,e),l.layerClipId=W}function J(e){return"M"+O+","+e+"H"+R}function $(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+N+"V"+Z}function te(e){return"M"+e+","+v._offset+"v"+v._length}function re(e,t,r){if(!e.showline||a!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var n=t(e._mainLinePosition);return e.mirror&&(n+=t(e._mainMirrorPosition)),n}for(a in g._plots){l=g._plots[a],p=l.xaxis,v=l.yaxis;var ne="M0,0";k(p,a)&&(F=M(p,"left",v,y),O=p._offset-(F?x+F:0),B=M(p,"right",v,y),R=p._offset+p._length+(B?x+B:0),E=_(p,v,"bottom"),H=_(p,v,"top"),!(j=!p._anchorAxis||a!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[a]=[E,H]),ne=re(p,J,$),j&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(ne+=J(E)+J(H)),l.xlines.style("stroke-width",p._lw+"px").call(s.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",ne);var ae="M0,0";k(v,a)&&(q=M(v,"bottom",p,y),Z=v._offset+v._length+(q?x:0),U=M(v,"top",p,y),N=v._offset-(U?x:0),V=_(v,p,"left"),G=_(v,p,"right"),!(j=!v._anchorAxis||a!==v._mainSubplot)||"allticks"!==v.mirror&&"all"!==v.mirror||(v._linepositions[a]=[V,G]),ae=re(v,ee,te),j&&v.showline&&("all"===v.mirror||"allticks"===v.mirror)&&(ae+=ee(V)+ee(G)),l.ylines.style("stroke-width",v._lw+"px").call(s.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ae)}return f.makeClipPaths(e),o.previousPromises(e)}function k(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function L(e,t,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var n=r._anchorAxis;if(!n)return!1;var a=h.FROM_BL[t];return r.side===t?n.domain[a]===e.domain[a]:r.mirror&&n.domain[1-a]===e.domain[1-a]}function M(e,t,r,n){if(L(e,t,r))return r._lw;for(var a=0;a<n.length;a++){var o=n[a];if(o._mainAxis===r._mainAxis&&L(e,t,o))return o._lw}return 0}t.layoutStyles=function(e){return i.syncOrAsync([o.doAutoMargin,w],e)},t.drawMainTitle=function(e){var t=e._fullLayout,r=function(e){var t=e.title,r=y;i.isRightAnchor(t)?r=_:i.isLeftAnchor(t)&&(r=x);return r}(t),n=function(e){var t=e.title,r="0em";i.isTopAnchor(t)?r=h.CAP_SHIFT+"em":i.isMiddleAnchor(t)&&(r=h.MID_SHIFT+"em");return r}(t);u.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:function(e,t){var r=e.title,n=e._size,a=0;t===x?a=r.pad.l:t===_&&(a=-r.pad.r);switch(r.xref){case"paper":return n.l+n.w*r.x+a;case"container":default:return e.width*r.x+a}}(t,r),y:function(e,t){var r=e.title,n=e._size,a=0;"0em"!==t&&t?t===h.CAP_SHIFT+"em"&&(a=r.pad.t):a=-r.pad.b;if("auto"===r.y)return n.t/2;switch(r.yref){case"paper":return n.t+n.h-n.h*r.y+a;case"container":default:return e.height-e.height*r.y+a}}(t,n),"text-anchor":r,dy:n}})},t.doTraceStyle=function(e){var r,n=e.calcdata,i=[];for(r=0;r<n.length;r++){var s=n[r],c=s[0]||{},u=c.trace||{},d=u._module||{},f=d.arraysToCalcdata;f&&f(s,u);var h=d.editStyle;h&&i.push({fn:h,cd0:c})}if(i.length){for(r=0;r<i.length;r++){var p=i[r];p.fn(e,p.cd0)}l(e),t.redrawReglTraces(e)}return o.style(e),a.getComponentMethod("legend","draw")(e),o.previousPromises(e)},t.doColorBars=function(e){return a.getComponentMethod("colorbar","draw")(e),o.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,a.call("plot",e,"",t)},t.doLegend=function(e){return a.getComponentMethod("legend","draw")(e),o.previousPromises(e)},t.doTicksRelayout=function(e){return f.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),o.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var n=t._basePlotModules[r].updateFx;n&&n(e)}return o.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,r=t._subplots.gl3d,n=0;n<r.length;n++){var a=t[r[n]];a._scene.setViewport(a)}},t.drawData=function(e){var r=e._fullLayout;l(e);for(var n=r._basePlotModules,i=0;i<n.length;i++)n[i].plot(e);return t.redrawReglTraces(e),o.style(e),a.getComponentMethod("shapes","draw")(e),a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("images","draw")(e),r._replotting=!1,o.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r,n,a=e._fullData,o=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),r=0;r<a.length;r++){var s=a[r];!0===s.visible&&0!==s._length&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?i.pushUnique(o,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&i.pushUnique(l,s.subplot))}for(r=0;r<o.length;r++)(n=t._plots[o[r]])._scene&&n._scene.draw();for(r=0;r<l.length;r++)(n=t[l[r]]._subplot)._scene&&n._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,r=f.list(e,"",!0),n={},a=0;a<r.length;a++)if(!n[(t=r[a])._id]){n[t._id]=1,g(e,t),m(e,t);var o=t._matchGroup;if(o)for(var i in o){var l=f.getFromId(e,i);m(e,l,t.range),n[i]=1}}v(e)},t.finalDraw=function(e){a.getComponentMethod("rangeslider","draw")(e),a.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){a.getComponentMethod("legend","draw")(e),a.getComponentMethod("rangeselector","draw")(e),a.getComponentMethod("sliders","draw")(e),a.getComponentMethod("updatemenus","draw")(e),a.getComponentMethod("colorbar","draw")(e)}},349:function(e,t,r){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},350:function(e,t,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},352:function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(a(r))for(l=Array.prototype.slice.call(arguments,1),i=(c=r.slice()).length,s=0;s<i;s++)c[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var r,o,i,l;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(l=i;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){o=l;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},353:function(e,t,r){"use strict";var n=r(14),a=r(337).castOption;e.exports=function(e,t,r){var o=r.marker.line,i=a(o.color,t.pts)||n.defaultLine,l=a(o.width,t.pts)||0;e.style("stroke-width",l).call(n.fill,t.color).call(n.stroke,i)}},354:function(e,t,r){"use strict";var n=r(328),a=r(334).drawMode,o=r(3),i=r(339),l=i.i000,s=i.i090,c=i.i180,u=i.i270,d=r(103).clearOutlineControllers,f=r(335),h=f.pointsShapeRectangle,p=f.pointsShapeEllipse,v=f.writePaths,g=r(355);e.exports=function e(t,r,i,f){f||(f=0);var m=i.gd;function x(){e(t,r,i,f++),p(t[0])&&y({redrawing:!0})}function y(e){i.isActiveShape=!1;var t=g(r,i);Object.keys(t).length&&o.call((e||{}).redrawing?"relayout":"_guiRelayout",m,t)}var _,b,w,k,L,M=i.isActiveShape,A=m._fullLayout._zoomlayer,T=i.dragmode;(a(T)?m._fullLayout._drawing=!0:m._fullLayout._activeShapeIndex>=0&&d(m),r.attr("d",v(t)),M&&!f)&&(L=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e[r]=[];for(var a=0;a<n.length;a++){e[r][a]=[];for(var o=0;o<n[a].length;o++)e[r][a][o]=n[a][o]}}return e}([],t),function(e){_=[];for(var r=0;r<t.length;r++){var a=t[r],o=h(a),i=!o&&p(a);_[r]=[];for(var d=0;d<a.length;d++)if("Z"!==a[d][0]&&(!i||d===l||d===s||d===c||d===u)){var f=a[d][1],v=a[d][2],g=e.append("circle").classed("cursor-grab",!0).attr("data-i",r).attr("data-j",d).attr("cx",f).attr("cy",v).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});_[r][d]={element:g.node(),gd:m,prepFn:S,doneFn:C,clickFn:I},n.init(_[r][d])}}}(A.append("g").attr("class","outline-controllers")),function(){if(b=[],!t.length)return;b[0]={element:r[0][0],gd:m,prepFn:P,doneFn:O},n.init(b[0])}());function S(e){w=+e.srcElement.getAttribute("data-i"),k=+e.srcElement.getAttribute("data-j"),_[w][k].moveFn=z}function z(e,r){if(t.length){var n=L[w][k][1],a=L[w][k][2],o=t[w],i=o.length;if(h(o)){for(var l=0;l<i;l++)if(l!==k){var s=o[l];s[1]===o[k][1]&&(s[1]=n+e),s[2]===o[k][2]&&(s[2]=a+r)}if(o[k][1]=n+e,o[k][2]=a+r,!h(o))for(var c=0;c<i;c++)for(var u=0;u<o[c].length;u++)o[c][u]=L[w][c][u]}else o[k][1]=n+e,o[k][2]=a+r;x()}}function C(){y()}function I(e,r){if(2===e){w=+r.srcElement.getAttribute("data-i"),k=+r.srcElement.getAttribute("data-j");var n=t[w];h(n)||p(n)||function(){if(t.length&&t[w]&&t[w].length){for(var e=[],r=0;r<t[w].length;r++)r!==k&&e.push(t[w][r]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===k&&(e[0][0]="M"),t[w]=e,x(),y())}}()}}function D(e,r){!function(e,r){if(t.length)for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)for(var o=0;o+2<t[n][a].length;o+=2)t[n][a][o+1]=L[n][a][o+1]+e,t[n][a][o+2]=L[n][a][o+2]+r}(e,r),x()}function P(e){(w=+e.srcElement.getAttribute("data-i"))||(w=0),b[w].moveFn=D}function O(){y()}}},355:function(e,t,r){"use strict";var n=r(334),a=n.drawMode,o=n.openMode,i=r(339),l=i.i000,s=i.i090,c=i.i180,u=i.i270,d=i.cos45,f=i.sin45,h=r(340),p=h.p2r,v=h.r2p,g=r(103).clearSelect,m=r(335),x=m.readPaths,y=m.writePaths,_=m.ellipseOver;e.exports=function(e,t){if(e.length){var r=e[0][0];if(r){var n=r.getAttribute("d"),i=t.gd,h=i._fullLayout.newshape,m=t.plotinfo,b=m.xaxis,w=m.yaxis,k=!!m.domain||!m.xaxis,L=!!m.domain||!m.yaxis,M=t.isActiveShape,A=t.dragmode,T=(i.layout||{}).shapes||[];if(!a(A)&&void 0!==M){var S=i._fullLayout._activeShapeIndex;if(S<T.length)switch(i._fullLayout.shapes[S].type){case"rect":A="drawrect";break;case"circle":A="drawcircle";break;case"line":A="drawline";break;case"path":var z=T[S].path||"";A="Z"===z[z.length-1]?"drawclosedpath":"drawopenpath"}}var C,I=o(A),D=x(n,i,m,M),P={editable:!0,xref:k?"paper":b._id,yref:L?"paper":w._id,layer:h.layer,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};if(I||(P.fillcolor=h.fillcolor,P.fillrule=h.fillrule),1===D.length&&(C=D[0]),C&&"drawrect"===A)P.type="rect",P.x0=C[0][1],P.y0=C[0][2],P.x1=C[2][1],P.y1=C[2][2];else if(C&&"drawline"===A)P.type="line",P.x0=C[0][1],P.y0=C[0][2],P.x1=C[1][1],P.y1=C[1][2];else if(C&&"drawcircle"===A){P.type="circle";var O=C[l][1],R=C[s][1],E=C[c][1],H=C[u][1],F=C[l][2],B=C[s][2],Z=C[c][2],N=C[u][2],V=m.xaxis&&("date"===m.xaxis.type||"log"===m.xaxis.type),G=m.yaxis&&("date"===m.yaxis.type||"log"===m.yaxis.type);V&&(O=v(m.xaxis,O),R=v(m.xaxis,R),E=v(m.xaxis,E),H=v(m.xaxis,H)),G&&(F=v(m.yaxis,F),B=v(m.yaxis,B),Z=v(m.yaxis,Z),N=v(m.yaxis,N));var q=(R+H)/2,U=(F+Z)/2,j=_({x0:q,y0:U,x1:q+(H-R+E-O)/2*d,y1:U+(N-B+Z-F)/2*f});V&&(j.x0=p(m.xaxis,j.x0),j.x1=p(m.xaxis,j.x1)),G&&(j.y0=p(m.yaxis,j.y0),j.y1=p(m.yaxis,j.y1)),P.x0=j.x0,P.y0=j.y0,P.x1=j.x1,P.y1=j.y1}else P.type="path",b&&w&&function(e,t,r){var n="date"===t.type,a="date"===r.type;if(!n&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var l=0;l+2<e[o][i].length;l+=2)n&&(e[o][i][l+1]=e[o][i][l+1].replace(" ","_")),a&&(e[o][i][l+2]=e[o][i][l+2].replace(" ","_"))}(D,b,w),P.path=y(D),C=null;g(i);for(var Y=t.editHelpers,X=(Y||{}).modifyItem,W=[],K=0;K<T.length;K++){var Q=i._fullLayout.shapes[K];if(W[K]=Q._input,void 0!==M&&K===i._fullLayout._activeShapeIndex){var J=P;switch(Q.type){case"line":case"rect":case"circle":X("x0",J.x0),X("x1",J.x1),X("y0",J.y0),X("y1",J.y1);break;case"path":X("path",J.path)}}}return void 0===M?(W.push(P),W):Y?Y.getUpdateObj():{}}}}},356:function(e,t,r){"use strict";(function(t){var n,a=r(342);n="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:a,e.exports=n}).call(t,r(10))},357:function(e,t,r){"use strict";var n=r(3),a=r(0),o=r(17),i=r(358),l=r(41),s=r(332);e.exports=function(e,t,r){for(var c=e.legend||{},u=0,d=!1,f="normal",h=0;h<r.length;h++){var p=r[h];p.visible&&((p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&!1===p._module.attributes.showlegend.dflt))&&(u++,p.showlegend&&(d=!0,(n.traceIs(p,"pie-like")||!0===p._input.showlegend)&&u++)),(n.traceIs(p,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(f=s.isGrouped({traceorder:f})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(f=s.isReversed({traceorder:f})?"reversed+grouped":"grouped"))}var v=a.coerce(e,t,l,"showlegend",d&&u>1);if(!1!==v||c.uirevision){var g=o.newContainer(t,"legend");if(b("uirevision",t.uirevision),!1!==v){b("bgcolor",t.paper_bgcolor),b("bordercolor"),b("borderwidth"),a.coerceFont(b,"font",t.font);var m,x,y,_=b("orientation");"h"===_?(m=0,n.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(x=1.1,y="bottom"):(x=-.1,y="top")):(m=1.02,x=1,y="auto"),b("traceorder",f),s.isGrouped(t.legend)&&b("tracegroupgap"),b("itemsizing"),b("itemwidth"),b("itemclick"),b("itemdoubleclick"),b("x",m),b("xanchor"),b("y",x),b("yanchor",y),b("valign"),a.noneOrAll(c,g,["x","y"]),b("title.text")&&(b("title.side","h"===_?"left":"top"),a.coerceFont(b,"title.font",t.font))}}function b(e,t){return a.coerce(c,g,i,e,t)}}},358:function(e,t,r){"use strict";var n=r(11),a=r(40);e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:n({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:n({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},359:function(e,t,r){"use strict";var n=r(4),a=r(0),o=r(57),i=r(3),l=r(331),s=r(328),c=r(38),u=r(14),d=r(39),f=r(368),h=r(344),p=r(28),v=p.LINE_SPACING,g=p.FROM_TL,m=p.FROM_BR,x=r(369),y=r(360),_=r(332);function b(e,t,r,n,a){var o=r.data()[0][0].trace,s={event:a,node:r.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(o._group&&(s.group=o._group),i.traceIs(o,"pie-like")&&(s.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",s))if(1===n)t._clickTimeout=setTimeout(function(){f(r,e,n)},e._context.doubleClickDelay);else if(2===n){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",s)&&f(r,e,n)}}function w(e,t,r){var n,o=e.data()[0][0],l=o.trace,s=i.traceIs(l,"pie-like"),u=l.index,f=r._main&&t._context.edits.legendText&&!s,p=r._maxNameLength;r.entries?n=o.text:(n=s?o.label:l.name,l._meta&&(n=a.templateString(n,l._meta)));var v=a.ensureSingle(e,"text","legendtext");v.attr("text-anchor","start").call(c.font,r.font).text(f?k(n,p):n);var g=r.itemwidth+2*h.itemGap;d.positionText(v,g,0),f?v.call(d.makeEditable,{gd:t,text:n}).call(M,e,t,r).on("edit",function(n){this.text(k(n,p)).call(M,e,t,r);var l=o.trace._fullInput||{},s={};if(i.hasTransform(l,"groupby")){var c=i.getTransformIndices(l,"groupby"),d=c[c.length-1],f=a.keyedContainer(l,"transforms["+d+"].styles","target","value.name");f.set(o.trace._group,n),s=f.constructUpdate()}else s.name=n;return i.call("_guiRestyle",t,s,u)}):M(v,e,t,r)}function k(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;for(var n=r-(e=e||"").length;n>0;n--)e+=" ";return e}function L(e,t){var r,o=t._context.doubleClickDelay,i=1,l=a.ensureSingle(e,"rect","legendtoggle",function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(u.fill,"rgba(0,0,0,0)")});t._context.staticPlot||(l.on("mousedown",function(){(r=(new Date).getTime())-t._legendMouseDownTime<o?i+=1:(i=1,t._legendMouseDownTime=r)}),l.on("mouseup",function(){if(!t._dragged&&!t._editing){var r=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>o&&(i=Math.max(i-1,1)),b(t,r,e,i,n.event)}}))}function M(e,t,r,n){n._main||e.attr("data-notex",!0),d.convertToTspans(e,r,function(){!function(e,t,r){var n=e.data()[0][0];if(r._main&&n&&!n.trace.showlegend)return void e.remove();var a=e.select("g[class*=math-group]"),o=a.node();r||(r=t._fullLayout.legend);var i,l,s=r.borderwidth,u=(n?r:r.title).font.size*v;if(o){var f=c.bBox(o);i=f.height,l=f.width,n?c.setTranslate(a,0,.25*i):c.setTranslate(a,s,.75*i+s)}else{var p=e.select(n?".legendtext":".legendtitletext"),g=d.lineCount(p),m=p.node();i=u*g,l=m?c.bBox(m).width:0;var x=u*((g-1)/2-.3);if(n){var y=r.itemwidth+2*h.itemGap;d.positionText(p,y,-x)}else d.positionText(p,h.titlePad+s,u+s)}n?(n.lineHeight=u,n.height=Math.max(i,16)+3,n.width=l):(r._titleWidth=l,r._titleHeight=i)}(t,r,n)})}function A(e){return a.isRightAnchor(e)?"right":a.isCenterAnchor(e)?"center":"left"}function T(e){return a.isBottomAnchor(e)?"bottom":a.isMiddleAnchor(e)?"middle":"top"}e.exports=function(e,t){var r,l=e._fullLayout,d="legend"+l._uid;if(t?(r=t.layer,d+="-hover"):((t=l.legend||{})._main=!0,r=l._infolayer),r){var f;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;f=l.showlegend&&x(e.calcdata,t)}else{if(!t.entries)return;f=x(t.entries,t)}var p=l.hiddenlabels||[];if(t._main&&(!l.showlegend||!f.length))return r.selectAll(".legend").remove(),l._topdefs.select("#"+d).remove(),o.autoMargin(e,"legend");var v=a.ensureSingle(r,"g","legend",function(e){t._main&&e.attr("pointer-events","all")}),k=a.ensureSingleById(l._topdefs,"clipPath",d,function(e){e.append("rect")}),S=a.ensureSingle(v,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});S.call(u.stroke,t.bordercolor).call(u.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var z=a.ensureSingle(v,"g","scrollbox"),C=t.title;if(t._titleWidth=0,t._titleHeight=0,C.text){var I=a.ensureSingle(z,"text","legendtitletext");I.attr("text-anchor","start").call(c.font,C.font).text(C.text),M(I,z,e,t)}else z.selectAll(".legendtitletext").remove();var D=a.ensureSingle(v,"rect","scrollbar",function(e){e.attr(h.scrollBarEnterAttrs).call(u.fill,h.scrollBarColor)}),P=z.selectAll("g.groups").data(f);P.enter().append("g").attr("class","groups"),P.exit().remove();var O=P.selectAll("g.traces").data(a.identity);O.enter().append("g").attr("class","traces"),O.exit().remove(),O.style("opacity",function(e){var t=e[0].trace;return i.traceIs(t,"pie-like")?-1!==p.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){n.select(this).call(w,e,t)}).call(y,e,t).each(function(){t._main&&n.select(this).call(L,e)}),a.syncOrAsync([o.previousPromises,function(){return function(e,t,r,a){var o=e._fullLayout;a||(a=o.legend);var i=o._size,l=_.isVertical(a),s=_.isGrouped(a),u=a.borderwidth,d=2*u,f=h.itemGap,p=a.itemwidth+2*f,v=2*(u+f),g=T(a),m=a.y<0||0===a.y&&"top"===g,x=a.y>1||1===a.y&&"bottom"===g;a._maxHeight=Math.max(m||x?o.height/2:i.h,30);var y=0;a._width=0,a._height=0;var b=function(e){var t=0,r=0,n=e.title.side;n&&(-1!==n.indexOf("left")&&(t=e._titleWidth),-1!==n.indexOf("top")&&(r=e._titleHeight));return[t,r]}(a);if(l)r.each(function(e){var t=e[0].height;c.setTranslate(this,u+b[0],u+b[1]+a._height+t/2+f),a._height+=t,a._width=Math.max(a._width,e[0].width)}),y=p+a._width,a._width+=f+p+d,a._height+=v,s&&(t.each(function(e,t){c.setTranslate(this,0,t*a.tracegroupgap)}),a._height+=(a._lgroupsLength-1)*a.tracegroupgap);else{var w=A(a),k=a.x<0||0===a.x&&"right"===w,L=a.x>1||1===a.x&&"left"===w,M=x||m,S=o.width/2;a._maxWidth=Math.max(k?M&&"left"===w?i.l+i.w:S:L?M&&"right"===w?i.r+i.w:S:i.w,2*p);var z=0,C=0;r.each(function(e){var t=e[0].width+p;z=Math.max(z,t),C+=t}),y=null;var I=0;if(s){var D=0,P=0,O=0;t.each(function(){var e=0,t=0;n.select(this).selectAll("g.traces").each(function(r){var n=r[0].height;c.setTranslate(this,b[0],b[1]+u+f+n/2+t),t+=n,e=Math.max(e,p+r[0].width)}),D=Math.max(D,t);var r=e+f;r+u+P>a._maxWidth&&(I=Math.max(I,P),P=0,O+=D+a.tracegroupgap,D=t),c.setTranslate(this,P,O),P+=r}),a._width=Math.max(I,P)+u,a._height=O+D+v}else{var R=r.size(),E=C+d+(R-1)*f<a._maxWidth,H=0,F=0,B=0,Z=0;r.each(function(e){var t=e[0].height,r=p+e[0].width,n=(E?r:z)+f;n+u+F-f>=a._maxWidth&&(I=Math.max(I,Z),F=0,B+=H,a._height+=H,H=0),c.setTranslate(this,b[0]+u+F,b[1]+u+B+t/2+f),Z=F+r+f,F+=n,H=Math.max(H,t)}),E?(a._width=F+d,a._height=H+v):(a._width=Math.max(I,Z)+d,a._height+=H+v)}}a._width=Math.ceil(Math.max(a._width+b[0],a._titleWidth+2*(u+h.titlePad))),a._height=Math.ceil(Math.max(a._height+b[1],a._titleHeight+2*(u+h.itemGap))),a._effHeight=Math.min(a._height,a._maxHeight);var N=e._context.edits,V=N.legendText||N.legendPosition;r.each(function(e){var t=n.select(this).select(".legendtoggle"),r=e[0].height,a=V?p:y||p+e[0].width;l||(a+=f/2),c.setRect(t,0,-r/2,a,r)})}(e,P,O,t)},function(){if(!t._main||!function(e){var t=e._fullLayout.legend,r=A(t),n=T(t);return o.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*g[r],r:t._width*m[r],b:t._effHeight*m[n],t:t._effHeight*g[n]})}(e)){var u,f,p,x,y=l._size,_=t.borderwidth,w=y.l+y.w*t.x-g[A(t)]*t._width,L=y.t+y.h*(1-t.y)-g[T(t)]*t._effHeight;if(t._main&&l.margin.autoexpand){var M=w,C=L;w=a.constrain(w,0,l.width-t._width),L=a.constrain(L,0,l.height-t._effHeight),w!==M&&a.log("Constrain legend.x to make legend fit inside graph"),L!==C&&a.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&c.setTranslate(v,w,L),D.on(".drag",null),v.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var I=t._effHeight;t._main||(I=t._height),S.attr({width:t._width-_,height:I-_,x:_/2,y:_/2}),c.setTranslate(z,0,0),k.select("rect").attr({width:t._width-2*_,height:I-2*_,x:_,y:_}),c.setClipUrl(z,d,e),c.setRect(D,0,0,0,0),delete t._scrollY}else{var P,O,R,E=Math.max(h.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),H=t._effHeight-E-2*h.scrollBarMargin,F=t._height-t._effHeight,B=H/F,Z=Math.min(t._scrollY||0,F);S.attr({width:t._width-2*_+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-_,x:_/2,y:_/2}),k.select("rect").attr({width:t._width-2*_+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-2*_,x:_,y:_+Z}),c.setClipUrl(z,d,e),G(Z,E,B),v.on("wheel",function(){G(Z=a.constrain(t._scrollY+n.event.deltaY/H*F,0,F),E,B),0!==Z&&Z!==F&&n.event.preventDefault()});var N=n.behavior.drag().on("dragstart",function(){var e=n.event.sourceEvent;P="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,R=Z}).on("drag",function(){var e=n.event.sourceEvent;2===e.buttons||e.ctrlKey||(O="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,G(Z=function(e,t,r){var n=(r-t)/B+e;return a.constrain(n,0,F)}(R,P,O),E,B))});D.call(N);var V=n.behavior.drag().on("dragstart",function(){var e=n.event.sourceEvent;"touchstart"===e.type&&(P=e.changedTouches[0].clientY,R=Z)}).on("drag",function(){var e=n.event.sourceEvent;"touchmove"===e.type&&(O=e.changedTouches[0].clientY,G(Z=function(e,t,r){var n=(t-r)/B+e;return a.constrain(n,0,F)}(R,P,O),E,B))});z.call(V)}if(e._context.edits.legendPosition)v.classed("cursor-move",!0),s.init({element:v.node(),gd:e,prepFn:function(){var e=c.getTranslate(v);p=e.x,x=e.y},moveFn:function(e,r){var n=p+e,a=x+r;c.setTranslate(v,n,a),u=s.align(n,0,y.l,y.l+y.w,t.xanchor),f=s.align(a,0,y.t+y.h,y.t,t.yanchor)},doneFn:function(){void 0!==u&&void 0!==f&&i.call("_guiRelayout",e,{"legend.x":u,"legend.y":f})},clickFn:function(t,n){var a=r.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return n.clientX>=e.left&&n.clientX<=e.right&&n.clientY>=e.top&&n.clientY<=e.bottom});a.size()>0&&b(e,v,a,t,n)}})}function G(r,n,a){t._scrollY=e._fullLayout.legend._scrollY=r,c.setTranslate(z,0,-r),c.setRect(D,t._width,h.scrollBarMargin+r*a,h.scrollBarWidth,n),k.select("rect").attr("y",_+r)}}],e)}}},360:function(e,t,r){"use strict";var n=r(4),a=r(3),o=r(0),i=o.strTranslate,l=r(38),s=r(14),c=r(29).extractOpts,u=r(101),d=r(353),f=r(337).castOption,h=r(344),p=12,v=5,g=2,m=10,x=5;function y(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}e.exports=function(e,t,r){var _=t._fullLayout;r||(r=_.legend);var b="constant"===r.itemsizing,w=r.itemwidth,k=(w+2*h.itemGap)/2,L=i(k,0),M=function(e,t,r,n){var a;if(e+1)a=e;else{if(!(t&&t.width>0))return 0;a=t.width}return b?n:Math.min(a,r)};function A(e,t,r){var o=e[0].trace,i=o.marker||{},l=i.line||{},c=r?o.visible&&o.type===r:a.traceIs(o,"bar"),u=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(c?[e]:[]);u.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),u.exit().remove(),u.each(function(e){var t=n.select(this),r=e[0],a=M(r.mlw,i.line,x,g);t.style("stroke-width",a+"px").call(s.fill,r.mc||i.color),a&&s.stroke(t,r.mlc||l.color)})}function T(e,t,r){var i=e[0],l=i.trace,s=r?l.visible&&l.type===r:a.traceIs(l,r),c=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(s?[e]:[]);if(c.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),c.exit().remove(),c.size()){var u=(l.marker||{}).line,h=M(f(u.width,i.pts),u,x,g),p=o.minExtend(l,{marker:{line:{width:h}}});p.marker.line.color=u.color;var v=o.minExtend(i,{trace:p});d(c,v,p)}}e.each(function(e){var t=n.select(this),a=o.ensureSingle(t,"g","layers");a.style("opacity",e[0].trace.opacity);var l=r.valign,s=e[0].lineHeight,c=e[0].height;if("middle"!==l&&s&&c){var u={top:1,bottom:-1}[l]*(.5*(s-c+3));a.attr("transform",i(0,u))}else a.attr("transform",null);a.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),a.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var d=a.selectAll("g.legendsymbols").data([e]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var r,a=e[0].trace,i=[];if(a.visible)switch(a.type){case"histogram2d":case"heatmap":i=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":i=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":i=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":i=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":i=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":i=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":i=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":i=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":i=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var u=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(i);u.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),u.exit().remove(),u.each(function(e,i){var u,d=n.select(this),f=c(a),h=f.colorscale,p=f.reversescale;if(h){if(!r){var v=h.length;u=0===i?h[p?v-1:0][1]:1===i?h[p?0:v-1][1]:h[Math.floor((v-1)/2)][1]}}else{var g=a.vertexcolor||a.facecolor||a.color;u=o.isArrayOrTypedArray(g)?g[i]||g[0]:g}d.attr("d",e[0]),u?d.call(s.fill,u):d.call(function(e){if(e.size()){var n="legendfill-"+a.uid;l.gradient(e,t,n,y(p,"radial"===r),h,"fill")}})})}).each(function(e){var t=e[0].trace,r="waterfall"===t.type;if(e[0]._distinct&&r){var a=e[0].trace[e[0].dir].marker;return e[0].mc=a.color,e[0].mlw=a.line.width,e[0].mlc=a.line.color,A(e,this,"waterfall")}var o=[];t.visible&&r&&(o=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var i=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(o);i.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),i.exit().remove(),i.each(function(e){var r=n.select(this),a=t[e[0]].marker,o=M(void 0,a.line,x,g);r.attr("d",e[1]).style("stroke-width",o+"px").call(s.fill,a.color),o&&r.call(s.stroke,a.line.color)})}).each(function(e){A(e,this,"funnel")}).each(function(e){A(e,this)}).each(function(e){var r=e[0].trace,i=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible&&a.traceIs(r,"box-violin")?[e]:[]);i.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),i.exit().remove(),i.each(function(){var e=n.select(this);if("all"!==r.boxpoints&&"all"!==r.points||0!==s.opacity(r.fillcolor)||0!==s.opacity((r.line||{}).color)){var a=M(void 0,r.line,x,g);e.style("stroke-width",a+"px").call(s.fill,r.fillcolor),a&&s.stroke(e,r.line.color)}else{var c=o.minExtend(r,{marker:{size:b?p:o.constrain(r.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});i.call(l.pointStyle,c,t)}})}).each(function(e){T(e,this,"funnelarea")}).each(function(e){T(e,this,"pie")}).each(function(e){var r,a,i=e[0],s=i.trace,d=s.visible&&s.fill&&"none"!==s.fill,f=u.hasLines(s),h=s.contours,p=!1,g=!1,x=c(s),_=x.colorscale,b=x.reversescale;if(h){var k=h.coloring;"lines"===k?p=!0:f="none"===k||"heatmap"===k||h.showlines,"constraint"===h.type?d="="!==h._operation:"fill"!==k&&"heatmap"!==k||(g=!0)}var L=u.hasMarkers(s)||u.hasText(s)||!d&&!g?"M5,0":f||p?"M5,-2":"M5,-3",A=n.select(this),T=A.select(".legendfill").selectAll("path").data(d||g?[e]:[]);if(T.enter().append("path").classed("js-fill",!0),T.exit().remove(),T.attr("d",L+"h"+w+"v6h-"+w+"z").call(d?l.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+s.uid;l.gradient(e,t,r,y(b),_,"fill")}}),f||p){var S=M(void 0,s.line,m,v);a=o.minExtend(s,{line:{width:S}}),r=[o.minExtend(i,{trace:a})]}var z=A.select(".legendlines").selectAll("path").data(f||p?[r]:[]);z.enter().append("path").classed("js-line",!0),z.exit().remove(),z.attr("d",L+(p?"l"+w+",0.0001":"h"+w)).call(f?l.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+s.uid;l.lineGroupStyle(e),l.gradient(e,t,r,y(b),_,"stroke")}})}).each(function(e){var r,a,i=e[0],s=i.trace,c=u.hasMarkers(s),d=u.hasText(s),f=u.hasLines(s);function h(e,t,r,n){var a=o.nestedProperty(s,e).get(),i=o.isArrayOrTypedArray(a)&&t?t(a):a;if(b&&i&&void 0!==n&&(i=n),r){if(i<r[0])return r[0];if(i>r[1])return r[1]}return i}function m(e){return i._distinct&&i.index&&e[i.index]?e[i.index]:e[0]}if(c||d||f){var x={},y={};if(c){x.mc=h("marker.color",m),x.mx=h("marker.symbol",m),x.mo=h("marker.opacity",o.mean,[.2,1]),x.mlc=h("marker.line.color",m),x.mlw=h("marker.line.width",o.mean,[0,5],g),y.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var _=h("marker.size",o.mean,[2,16],p);x.ms=_,y.marker.size=_}f&&(y.line={width:h("line.width",m,[0,10],v)}),d&&(x.tx="Aa",x.tp=h("textposition",m),x.ts=10,x.tc=h("textfont.color",m),x.tf=h("textfont.family",m)),r=[o.minExtend(i,x)],(a=o.minExtend(s,y)).selectedpoints=null,a.texttemplate=null}var w=n.select(this).select("g.legendpoints"),k=w.selectAll("path.scatterpts").data(c?r:[]);k.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),k.exit().remove(),k.call(l.pointStyle,a,t),c&&(r[0].mrc=3);var M=w.selectAll("g.pointtext").data(d?r:[]);M.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),M.exit().remove(),M.selectAll("text").call(l.textPointStyle,a,t)}).each(function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var a=n.select(this),o=t[r?"increasing":"decreasing"],i=M(void 0,o.line,x,g);a.style("stroke-width",i+"px").call(s.fill,o.fillcolor),i&&s.stroke(a,o.line.color)})}).each(function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var a=n.select(this),o=t[r?"increasing":"decreasing"],i=M(void 0,o.line,x,g);a.style("fill","none").call(l.dashLine,o.line.dash,i),i&&s.stroke(a,o.line.color)})})}},363:function(e,t){var r={left:0,top:0};e.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var a=e.clientX||0,o=e.clientY||0,i=(l=t,l===window||l===document||l===document.body?r:l.getBoundingClientRect());var l;return n[0]=a-i.left,n[1]=o-i.top,n}},364:function(e,t,r){"use strict";e.exports=function(e,t,r,n,a){var o=(e-r)/(n-r),i=o+t/(n-r),l=(o+i)/2;return"left"===a||"bottom"===a?o:"center"===a||"middle"===a?l:"right"===a||"top"===a?i:o<2/3-l?o:i>4/3-l?i:l}},365:function(e,t,r){"use strict";var n=r(0),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,r,o){return e="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:n.constrain(Math.floor(3*t),0,2),a[t][e]}},366:function(e,t,r){"use strict";var n=r(331),a=r(108),o=r(62).getGraphDiv,i=r(104),l=e.exports={};l.wrapped=function(e,t,r){(e=o(e))._fullLayout&&a.clear(e._fullLayout._uid+i.HOVERID),l.raw(e,t,r)},l.raw=function(e,t){var r=e._fullLayout,a=e._hoverdata;t||(t={}),t.target&&!1===n.triggerHandler(e,"plotly_beforehover",t)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&a&&e.emit("plotly_unhover",{event:t,points:a}))}},367:function(e,t,r){"use strict";var n=r(330),a="data-savedcursor";e.exports=function(e,t){var r=e.attr(a);if(t){if(!r){for(var o=(e.attr("class")||"").split(" "),i=0;i<o.length;i++){var l=o[i];0===l.indexOf("cursor-")&&e.attr(a,l.substr(7)).classed(l,!1)}e.attr(a)||e.attr(a,"!!")}n(e,t)}else r&&(e.attr(a,null),"!!"===r?n(e):n(e,r))}},368:function(e,t,r){"use strict";var n=r(0),a=r(3),o=!0;e.exports=function(e,t,r){var i=t._fullLayout;if(!t._dragged&&!t._editing){var l,s=i.legend.itemclick,c=i.legend.itemdoubleclick;if(1===r&&"toggle"===s&&"toggleothers"===c&&o&&t.data&&t._context.showTips?(n.notifier(n._(t,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,1===r?l=s:2===r&&(l=c),l){var u,d,f,h,p,v=i.hiddenlabels?i.hiddenlabels.slice():[],g=e.data()[0][0],m=t._fullData,x=g.trace,y=x.legendgroup,_={},b=[],w=[],k=[];if(a.traceIs(x,"pie-like")){var L=g.label,M=v.indexOf(L);"toggle"===l?-1===M?v.push(L):v.splice(M,1):"toggleothers"===l&&(v=[],t.calcdata[0].forEach(function(e){L!==e.label&&v.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===v.length&&-1===M&&(v=[])),a.call("_guiRelayout",t,"hiddenlabels",v)}else{var A,T=y&&y.length,S=[];if(T)for(u=0;u<m.length;u++)(A=m[u]).visible&&A.legendgroup===y&&S.push(u);if("toggle"===l){var z;switch(x.visible){case!0:z="legendonly";break;case!1:z=!1;break;case"legendonly":z=!0}if(T)for(u=0;u<m.length;u++)!1!==m[u].visible&&m[u].legendgroup===y&&F(m[u],z);else F(x,z)}else if("toggleothers"===l){var C,I,D,P,O=!0;for(u=0;u<m.length;u++)if(C=m[u]===x,D=!0!==m[u].showlegend,!(C||D||(I=T&&m[u].legendgroup===y)||!0!==m[u].visible||a.traceIs(m[u],"notLegendIsolatable"))){O=!1;break}for(u=0;u<m.length;u++)if(!1!==m[u].visible&&!a.traceIs(m[u],"notLegendIsolatable"))switch(x.visible){case"legendonly":F(m[u],!0);break;case!0:P=!!O||"legendonly",C=m[u]===x,D=!0!==m[u].showlegend&&!m[u].legendgroup,I=C||T&&m[u].legendgroup===y,F(m[u],!(!I&&!D)||P)}}for(u=0;u<w.length;u++)if(f=w[u]){var R=f.constructUpdate(),E=Object.keys(R);for(d=0;d<E.length;d++)h=E[d],(_[h]=_[h]||[])[k[u]]=R[h]}for(p=Object.keys(_),u=0;u<p.length;u++)for(h=p[u],d=0;d<b.length;d++)_[h].hasOwnProperty(d)||(_[h][d]=void 0);a.call("_guiRestyle",t,_,b)}}}function H(e,t,r){var n=b.indexOf(e),a=_[t];return a||(a=_[t]=[]),-1===b.indexOf(e)&&(b.push(e),n=b.length-1),a[n]=r,n}function F(e,t){var r=e._fullInput;if(a.hasTransform(r,"groupby")){var o=w[r.index];if(!o){var i=a.getTransformIndices(r,"groupby"),l=i[i.length-1];o=n.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),w[r.index]=o}var s=o.get(e._group);void 0===s&&(s=!0),!1!==s&&o.set(e._group,t),k[r.index]=H(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&t;H(r.index,"visible",c)}}}},369:function(e,t,r){"use strict";var n=r(3),a=r(332);e.exports=function(e,t){var r,o,i={},l=[],s=!1,c={},u=0,d=0,f=t._main;function h(e,r){if(""!==e&&a.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,i[e]=[[r]]):i[e].push([r]);else{var n="~~i"+u;l.push(n),i[n]=[[r]],u++}}for(r=0;r<e.length;r++){var p=e[r],v=p[0],g=v.trace,m=g.legendgroup;if(!f||g.visible&&g.showlegend)if(n.traceIs(g,"pie-like"))for(c[m]||(c[m]={}),o=0;o<p.length;o++){var x=p[o].label;c[m][x]||(h(m,{label:x,color:p[o].color,i:p[o].i,trace:g,pts:p[o].pts}),c[m][x]=!0,d=Math.max(d,(x||"").length))}else h(m,v),d=Math.max(d,(g.name||"").length)}if(!l.length)return[];var y,_,b=l.length;if(s&&a.isGrouped(t))for(_=new Array(b),r=0;r<b;r++)y=i[l[r]],_[r]=a.isReversed(t)?y.reverse():y;else{for(_=[new Array(b)],r=0;r<b;r++)y=i[l[r]][0],_[0][a.isReversed(t)?b-r-1:r]=y;b=1}return t._lgroupsLength=b,t._maxNameLength=d,_}},370:function(e,t,r){"use strict";var n=r(0),a=r(333),o=r(102);e.exports=function(e,t){a(e,t,function(r,a){return n.coerce(e,t,o,r,a)})}},371:function(e,t,r){"use strict";var n=r(0),a=r(106),o=r(333);e.exports=function(e,t,r,i){var l=n.extendFlat({},i.hoverlabel);t.hovertemplate&&(l.namelength=-1),o(e,t,function(r,o){return n.coerce(e,t,a,r,o)},l)}},372:function(e,t,r){"use strict";var n=r(0),a=r(100).isUnifiedHover,o=r(102),i=r(346),l=r(333);e.exports=function(e,t,r){function s(r,a){return n.coerce(e,t,o,r,a)}var c=i(e,t,r);c&&(s("hoverdistance"),s("spikedistance",a(c)?-1:void 0)),"select"===s("dragmode")&&s("selectdirection");var u=t._has("mapbox"),d=t._has("geo"),f=t._basePlotModules.length;"zoom"===t.dragmode&&((u||d)&&1===f||u&&d&&2===f)&&(t.dragmode="pan"),l(e,t,s)}},373:function(e,t,r){"use strict";var n=r(0),a=r(3);function o(e,t,r,a){a=a||n.identity,Array.isArray(e)&&(t[0][r]=a(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function i(e){return function(t){return n.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!a.traceIs(c,"pie-like")){var u=a.traceIs(c,"2dMap")?o:n.fillArray;u(c.hoverinfo,s,"hi",i(c)),c.hovertemplate&&u(c.hovertemplate,s,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,s,"hbg"),u(c.hoverlabel.bordercolor,s,"hbc"),u(c.hoverlabel.font.size,s,"hts"),u(c.hoverlabel.font.color,s,"htc"),u(c.hoverlabel.font.family,s,"htf"),u(c.hoverlabel.namelength,s,"hnl"),u(c.hoverlabel.align,s,"hta"))}}}},374:function(e,t,r){"use strict";var n=r(3),a=r(343).hover;e.exports=function(e,t,r){var o=n.getComponentMethod("annotations","onClick")(e,e._hoverdata);function i(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&a(e,t,r,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(i):i(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},375:function(e,t,r){"use strict";var n=r(350),a=r(0);t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.extractPathCoords=function(e,t){var r=[];return e.match(n.segmentRE).forEach(function(e){var o=t[e.charAt(0)].drawn;if(void 0!==o){var i=e.substr(1).match(n.paramRE);!i||i.length<o||r.push(a.cleanNumber(i[o]))}}),r},t.getDataToPixel=function(e,r,n,a){var o,i=e._fullLayout._size;if(r)if("domain"===a)o=function(e){return r._length*(n?1-e:e)+r._offset};else{var l=t.shapePositionToRange(r);o=function(e){return r._offset+r.r2p(l(e,!0))},"date"===r.type&&(o=t.decodeDate(o))}else o=n?function(e){return i.t+i.h*(1-e)}:function(e){return i.l+i.w*e};return o},t.getPixelToData=function(e,r,n,a){var o,i=e._fullLayout._size;if(r)if("domain"===a)o=function(e){var t=(e-r._offset)/r._length;return n?1-t:t};else{var l=t.rangeToShapePosition(r);o=function(e){return l(r.p2r(e-r._offset))}}else o=n?function(e){return 1-(e-i.t)/i.h}:function(e){return(e-i.l)/i.w};return o},t.roundPositionForSharpStrokeRendering=function(e,t){var r=1===Math.round(t%2),n=Math.round(e);return r?n+.5:n},t.makeOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.shapes[t]||{},n=e._fullLayout._plots[r.xref+r.yref];return!!n?n._hadPlotinfo=!0:(n={},r.xref&&"paper"!==r.xref&&(n.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&"paper"!==r.yref&&(n.yaxis=e._fullLayout[r.yref+"axis"])),n.xsizemode=r.xsizemode,n.ysizemode=r.ysizemode,n.xanchor=r.xanchor,n.yanchor=r.yanchor,{options:r,plotinfo:n}}},376:function(e,t,r){"use strict";var n=r(64).dot,a=r(5).BADNUM,o=e.exports={};o.tester=function(e){var t,r=e.slice(),n=r[0][0],o=n,i=r[0][1],l=i;for(r.push(r[0]),t=1;t<r.length;t++)n=Math.min(n,r[t][0]),o=Math.max(o,r[t][0]),i=Math.min(i,r[t][1]),l=Math.max(l,r[t][1]);var s,c=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,s=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,s=function(e){return e[1]===r[0][1]}));var u=!0,d=r[0];for(t=1;t<r.length;t++)if(d[0]!==r[t][0]||d[1]!==r[t][1]){u=!1;break}return{xmin:n,xmax:o,ymin:i,ymax:l,pts:r,contains:c?function(e,t){var r=e[0],c=e[1];return!(r===a||r<n||r>o||c===a||c<i||c>l||t&&s(e))}:function(e,t){var s=e[0],c=e[1];if(s===a||s<n||s>o||c===a||c<i||c>l)return!1;var u,d,f,h,p,v=r.length,g=r[0][0],m=r[0][1],x=0;for(u=1;u<v;u++)if(d=g,f=m,g=r[u][0],m=r[u][1],!(s<(h=Math.min(d,g))||s>Math.max(d,g)||c>Math.max(f,m)))if(c<Math.min(f,m))s!==h&&x++;else{if(c===(p=g===d?c:f+(s-d)*(m-f)/(g-d)))return 1!==u||!t;c<=p&&s!==h&&x++}return x%2==1},isRect:c,degenerate:u}},o.isSegmentBent=function(e,t,r,a){var o,i,l,s=e[t],c=[e[r][0]-s[0],e[r][1]-s[1]],u=n(c,c),d=Math.sqrt(u),f=[-c[1]/d,c[0]/d];for(o=t+1;o<r;o++)if(i=[e[o][0]-s[0],e[o][1]-s[1]],(l=n(i,c))<0||l>u||Math.abs(n(i,f))>a)return!0;return!1},o.filter=function(e,t){var r=[e[0]],n=0,a=0;function i(i){e.push(i);var l=r.length,s=n;r.splice(a+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||o.isSegmentBent(e,s,c+1,t))&&(r.push(e[c]),r.length<l-2&&(n=c,a=r.length-1),s=c)}e.length>1&&i(e.pop());return{addPt:i,raw:e,filtered:r}}},377:function(e,t,r){"use strict";var n=r(0).dateTick0,a=r(5).ONEWEEK;function o(e,t){return n(t,e%a==0?1:0)}e.exports=function(e,t,r,n,a){if(a||(a={x:!0,y:!0}),a.x){var i=n("xperiod");i&&(n("xperiod0",o(i,t.xcalendar)),n("xperiodalignment"))}if(a.y){var l=n("yperiod");l&&(n("yperiod0",o(l,t.ycalendar)),n("yperiodalignment"))}}},378:function(e,t,r){"use strict";var n=r(4),a=r(329),o=r(328),i=r(330),l=r(386).makeDragBox,s=r(26).DRAGGERSIZE;t.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot)n.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(e,t){if((r._plots[e].mainplot&&!0)===(r._plots[t].mainplot&&!0)){var n=e.split("y"),a=t.split("y");return n[0]===a[0]?Number(n[1]||1)-Number(a[1]||1):Number(n[0]||1)-Number(a[0]||1)}return r._plots[e].mainplot?1:-1}).forEach(function(t){var n=r._plots[t],i=n.xaxis,c=n.yaxis;if(!n.mainplot){var u=l(e,n,i._offset,c._offset,i._length,c._length,"ns","ew");u.onmousemove=function(r){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===t&&e._fullLayout._plots[t]&&a.hover(e,r,t)},a.hover(e,r,t),e._fullLayout._lasthover=u,e._fullLayout._hoversubplot=t},u.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,o.unhover(e,t))},e._context.showAxisDragHandles&&(l(e,n,i._offset-s,c._offset-s,s,s,"n","w"),l(e,n,i._offset+i._length,c._offset-s,s,s,"n","e"),l(e,n,i._offset-s,c._offset+c._length,s,s,"s","w"),l(e,n,i._offset+i._length,c._offset+c._length,s,s,"s","e"))}if(e._context.showAxisDragHandles){if(t===i._mainSubplot){var d=i._mainLinePosition;"top"===i.side&&(d-=s),l(e,n,i._offset+.1*i._length,d,.8*i._length,s,"","ew"),l(e,n,i._offset,d,.1*i._length,s,"","w"),l(e,n,i._offset+.9*i._length,d,.1*i._length,s,"","e")}if(t===c._mainSubplot){var f=c._mainLinePosition;"right"!==c.side&&(f-=s),l(e,n,f,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(e,n,f,c._offset+.9*c._length,s,.1*c._length,"s",""),l(e,n,f,c._offset,s,.1*c._length,"n","")}}});var i=r._hoverlayer.node();i.onmousemove=function(t){t.target=e._fullLayout._lasthover,a.hover(e,t,r._hoversubplot)},i.onclick=function(t){t.target=e._fullLayout._lasthover,a.click(e,t)},i.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},t.updateFx(e)}},t.updateFx=function(e){var t=e._fullLayout,r="pan"===t.dragmode?"move":"crosshair";i(t._draggers,r)}},379:function(e,t,r){"use strict";var n=r(3),a=r(0),o=r(99),i=r(335).readPaths,l=r(354),s=r(103).clearOutlineControllers,c=r(14),u=r(38),d=r(17).arrayEditor,f=r(328),h=r(330),p=r(350),v=r(375);function g(e){var t=e._fullLayout;for(var r in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var n=t._plots[r].shapelayer;n&&n.selectAll("path").remove()}for(var a=0;a<t.shapes.length;a++)t.shapes[a].visible&&y(e,a)}function m(e){return!!e._fullLayout._drawing}function x(e){return!e._context.edits.shapePosition}function y(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=v.makeOptionsAndPlotinfo(e,t),s=r.options,y=r.plotinfo;if(s._input&&!1!==s.visible)if("below"!==s.layer)L(e._fullLayout._shapeUpperLayer);else if("paper"===s.xref||"paper"===s.yref)L(e._fullLayout._shapeLowerLayer);else{if(y._hadPlotinfo)L((y.mainplotinfo||y).shapelayer);else L(e._fullLayout._shapeLowerLayer)}function L(r){var L=b(e,s),M={"data-index":t,"fill-rule":s.fillrule,d:L},A=s.opacity,T=s.fillcolor,S=s.line.width?s.line.color:"rgba(0,0,0,0)",z=s.line.width,C=s.line.dash;z||!0!==s.editable||(z=5,C="solid");var I="Z"!==L[L.length-1],D=x(e)&&s.editable&&e._fullLayout._activeShapeIndex===t;D&&(T=I?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,A=e._fullLayout.activeshape.opacity);var P,O=r.append("path").attr(M).style("opacity",A).call(c.stroke,S).call(c.fill,T).call(u.dashLine,C,z);if(_(O,e,s),(D||e._context.edits.shapePosition)&&(P=d(e.layout,"shapes",s)),D){O.style({cursor:"move"});var R={element:O.node(),plotinfo:y,gd:e,editHelpers:P,isActiveShape:!0},E=i(L,e);l(E,O,R)}else e._context.edits.shapePosition?function(e,t,r,i,l,s){var c,d,g,x,y,k,L,M,A,T,S,z,C,I,D,P,O=10,R=10,E="pixel"===r.xsizemode,H="pixel"===r.ysizemode,F="line"===r.type,B="path"===r.type,Z=s.modifyItem,N=o.getFromId(e,r.xref),V=o.getRefType(r.xref),G=o.getFromId(e,r.yref),q=o.getRefType(r.yref),U=v.getDataToPixel(e,N,!1,V),j=v.getDataToPixel(e,G,!0,q),Y=v.getPixelToData(e,N,!1,V),X=v.getPixelToData(e,G,!0,q),W=F?function(){var e=Math.max(r.line.width,10),n=l.append("g").attr("data-index",i);n.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var a={"fill-opacity":"0"},o=Math.max(e/2,10);return n.append("circle").attr({"data-line-point":"start-point",cx:E?U(r.xanchor)+r.x0:U(r.x0),cy:H?j(r.yanchor)-r.y0:j(r.y0),r:o}).style(a).classed("cursor-grab",!0),n.append("circle").attr({"data-line-point":"end-point",cx:E?U(r.xanchor)+r.x1:U(r.x1),cy:H?j(r.yanchor)-r.y1:j(r.y1),r:o}).style(a).classed("cursor-grab",!0),n}():t,K={element:W.node(),gd:e,prepFn:function(n){if(m(e))return;E&&(y=U(r.xanchor));H&&(k=j(r.yanchor));"path"===r.type?D=r.path:(c=E?r.x0:U(r.x0),d=H?r.y0:j(r.y0),g=E?r.x1:U(r.x1),x=H?r.y1:j(r.y1));c<g?(A=c,C="x0",T=g,I="x1"):(A=g,C="x1",T=c,I="x0");!H&&d<x||H&&d>x?(L=d,S="y0",M=x,z="y1"):(L=x,S="y1",M=d,z="y0");Q(n),ee(l,r),function(e,t,r){var n=t.xref,a=t.yref,i=o.getFromId(r,n),l=o.getFromId(r,a),s="";"paper"===n||i.autorange||(s+=n);"paper"===a||l.autorange||(s+=a);u.setClipUrl(e,s?"clip"+r._fullLayout._uid+s:null,r)}(t,r,e),K.moveFn="move"===P?J:$,K.altKey=n.altKey},doneFn:function(){if(m(e))return;h(t),te(l),_(t,e,r),n.call("_guiRelayout",e,s.getUpdateObj())},clickFn:function(){if(m(e))return;te(l)}};function Q(r){if(m(e))P=null;else if(F)P="path"===r.target.tagName?"move":"start-point"===r.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=K.element.getBoundingClientRect(),a=n.right-n.left,o=n.bottom-n.top,i=r.clientX-n.left,l=r.clientY-n.top,s=!B&&a>O&&o>R&&!r.shiftKey?f.getCursor(i/a,1-l/o):"move";h(t,s),P=s.split("-")[0]}}function J(n,a){if("path"===r.type){var o=function(e){return e},i=o,s=o;E?Z("xanchor",r.xanchor=Y(y+n)):(i=function(e){return Y(U(e)+n)},N&&"date"===N.type&&(i=v.encodeDate(i))),H?Z("yanchor",r.yanchor=X(k+a)):(s=function(e){return X(j(e)+a)},G&&"date"===G.type&&(s=v.encodeDate(s))),Z("path",r.path=w(D,i,s))}else E?Z("xanchor",r.xanchor=Y(y+n)):(Z("x0",r.x0=Y(c+n)),Z("x1",r.x1=Y(g+n))),H?Z("yanchor",r.yanchor=X(k+a)):(Z("y0",r.y0=X(d+a)),Z("y1",r.y1=X(x+a)));t.attr("d",b(e,r)),ee(l,r)}function $(n,a){if(B){var o=function(e){return e},i=o,s=o;E?Z("xanchor",r.xanchor=Y(y+n)):(i=function(e){return Y(U(e)+n)},N&&"date"===N.type&&(i=v.encodeDate(i))),H?Z("yanchor",r.yanchor=X(k+a)):(s=function(e){return X(j(e)+a)},G&&"date"===G.type&&(s=v.encodeDate(s))),Z("path",r.path=w(D,i,s))}else if(F){if("resize-over-start-point"===P){var u=c+n,f=H?d-a:d+a;Z("x0",r.x0=E?u:Y(u)),Z("y0",r.y0=H?f:X(f))}else if("resize-over-end-point"===P){var h=g+n,p=H?x-a:x+a;Z("x1",r.x1=E?h:Y(h)),Z("y1",r.y1=H?p:X(p))}}else{var m=function(e){return-1!==P.indexOf(e)},_=m("n"),V=m("s"),q=m("w"),W=m("e"),K=_?L+a:L,Q=V?M+a:M,J=q?A+n:A,$=W?T+n:T;H&&(_&&(K=L-a),V&&(Q=M-a)),(!H&&Q-K>R||H&&K-Q>R)&&(Z(S,r[S]=H?K:X(K)),Z(z,r[z]=H?Q:X(Q))),$-J>O&&(Z(C,r[C]=E?J:Y(J)),Z(I,r[I]=E?$:Y($)))}t.attr("d",b(e,r)),ee(l,r)}function ee(e,t){(E||H)&&function(){var r="path"!==t.type,n=e.selectAll(".visual-cue").data([0]);n.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var o=U(E?t.xanchor:a.midRange(r?[t.x0,t.x1]:v.extractPathCoords(t.path,p.paramIsX))),i=j(H?t.yanchor:a.midRange(r?[t.y0,t.y1]:v.extractPathCoords(t.path,p.paramIsY)));if(o=v.roundPositionForSharpStrokeRendering(o,1),i=v.roundPositionForSharpStrokeRendering(i,1),E&&H){var l="M"+(o-1-1)+","+(i-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";n.attr("d",l)}else if(E){var s="M"+(o-1-1)+","+(i-9-1)+"v18 h2 v-18 Z";n.attr("d",s)}else{var c="M"+(o-9-1)+","+(i-1-1)+"h18 v2 h-18 Z";n.attr("d",c)}}()}function te(e){e.selectAll(".visual-cue").remove()}f.init(K),W.node().onmousemove=Q}(e,O,s,t,r,P):!0===s.editable&&O.style("pointer-events",I||c.opacity(T)*A<=.5?"stroke":"all");O.node().addEventListener("click",function(){return function(e,t){if(!x(e))return;var r=+t.node().getAttribute("data-index");if(r>=0){if(r===e._fullLayout._activeShapeIndex)return void k(e);e._fullLayout._activeShapeIndex=r,e._fullLayout._deactivateShape=k,g(e)}}(e,O)})}}function _(e,t,r){var n=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(e,n?"clip"+t._fullLayout._uid+n:null,t)}function b(e,t){var r,n,i,l,s,c,u,d,f=t.type,h=o.getRefType(t.xref),g=o.getRefType(t.yref),m=o.getFromId(e,t.xref),x=o.getFromId(e,t.yref),y=e._fullLayout._size;if(m?"domain"===h?n=function(e){return m._offset+m._length*e}:(r=v.shapePositionToRange(m),n=function(e){return m._offset+m.r2p(r(e,!0))}):n=function(e){return y.l+y.w*e},x?"domain"===g?l=function(e){return x._offset+x._length*(1-e)}:(i=v.shapePositionToRange(x),l=function(e){return x._offset+x.r2p(i(e,!0))}):l=function(e){return y.t+y.h*(1-e)},"path"===f)return m&&"date"===m.type&&(n=v.decodeDate(n)),x&&"date"===x.type&&(l=v.decodeDate(l)),function(e,t,r){var n=e.path,o=e.xsizemode,i=e.ysizemode,l=e.xanchor,s=e.yanchor;return n.replace(p.segmentRE,function(e){var n=0,c=e.charAt(0),u=p.paramIsX[c],d=p.paramIsY[c],f=p.numParams[c],h=e.substr(1).replace(p.paramRE,function(e){return u[n]?e="pixel"===o?t(l)+Number(e):t(e):d[n]&&(e="pixel"===i?r(s)-Number(e):r(e)),++n>f&&(e="X"),e});return n>f&&(h=h.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+e)),c+h})}(t,n,l);if("pixel"===t.xsizemode){var _=n(t.xanchor);s=_+t.x0,c=_+t.x1}else s=n(t.x0),c=n(t.x1);if("pixel"===t.ysizemode){var b=l(t.yanchor);u=b-t.y0,d=b-t.y1}else u=l(t.y0),d=l(t.y1);if("line"===f)return"M"+s+","+u+"L"+c+","+d;if("rect"===f)return"M"+s+","+u+"H"+c+"V"+d+"H"+s+"Z";var w=(s+c)/2,k=(u+d)/2,L=Math.abs(w-s),M=Math.abs(k-u),A="A"+L+","+M,T=w+L+","+k;return"M"+T+A+" 0 1,1 "+(w+","+(k-M))+A+" 0 0,1 "+T+"Z"}function w(e,t,r){return e.replace(p.segmentRE,function(e){var n=0,a=e.charAt(0),o=p.paramIsX[a],i=p.paramIsY[a],l=p.numParams[a];return a+e.substr(1).replace(p.paramRE,function(e){return n>=l?e:(o[n]?e=t(e):i[n]&&(e=r(e)),n++,e)})})}function k(e){x(e)&&(e._fullLayout._activeShapeIndex>=0&&(s(e),delete e._fullLayout._activeShapeIndex,g(e)))}e.exports={draw:g,drawOne:y,eraseActiveShape:function(e){if(!x(e))return;s(e);var t=e._fullLayout._activeShapeIndex,r=(e.layout||{}).shapes||[];if(t<r.length){for(var a=[],o=0;o<r.length;o++)o!==t&&a.push(r[o]);delete e._fullLayout._activeShapeIndex,n.call("_guiRelayout",e,{shapes:a})}}}},380:function(e,t,r){"use strict";var n=r(1),a=r(0),o=a.dateTime2ms,i=a.incrementMonth,l=r(5).ONEAVGMONTH;e.exports=function(e,t,r,a){if("date"!==t.type)return a;var s=e[r+"periodalignment"];if(!s)return a;var c,u=e[r+"period"];if(n(u)){if((u=+u)<=0)return a}else if("string"==typeof u&&"M"===u.charAt(0)){var d=+u.substring(1);if(!(d>0&&Math.round(d)===d))return a;c=d}for(var f=t.calendar,h="start"===s,p="end"===s,v=e[r+"period0"],g=o(v,f)||0,m=[],x=a.length,y=0;y<x;y++){var _,b,w,k=a[y];if(c){for(_=Math.round((k-g)/(c*l)),w=i(g,c*_,f);w>k;)w=i(w,-c,f);for(;w<=k;)w=i(w,c,f);b=i(w,-c,f)}else{for(w=g+(_=Math.round((k-g)/u))*u;w>k;)w-=u;for(;w<=k;)w+=u;b=w-u}m[y]=h?b:p?w:(b+w)/2}return m}},381:function(e,t,r){"use strict";var n=r(4),a=r(3),o=r(0),i=r(57),l=r(38),s=r(119).getModuleCalcData,c=r(27),u=r(26),d=r(59),f=o.ensureSingle;function h(e,t,r){return o.ensureSingle(e,t,r,function(e){e.datum(r)})}function p(e,t,r,o,i){for(var c,d,f,h=u.traceLayerClasses,p=e._fullLayout,v=p._modules,g=[],m=[],x=0;x<v.length;x++){var y=(c=v[x]).name,_=a.modules[y].categories;if(_.svg){var b=c.layerName||y+"layer",w=c.plot;f=(d=s(r,w))[0],r=d[1],f.length&&g.push({i:h.indexOf(b),className:b,plotMethod:w,cdModule:f}),_.zoomScale&&m.push("."+b)}}g.sort(function(e,t){return e.i-t.i});var k=t.plot.selectAll("g.mlayer").data(g,function(e){return e.className});if(k.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),k.exit().remove(),k.order(),k.each(function(r){var a=n.select(this),s=r.className;r.plotMethod(e,t,r.cdModule,a,o,i),-1===u.clipOnAxisFalseQuery.indexOf("."+s)&&l.setClipUrl(a,t.layerClipId,e)}),p._has("scattergl")&&(c=a.getModule("scattergl"),f=s(r,c)[0],c.plot(e,t,f)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(u.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var L=t.plot.selectAll(m.join(",")).selectAll(".trace");t.zoomScalePts=L.selectAll("path.point"),t.zoomScaleTxt=L.selectAll(".textpoint")}}function v(e,t){var r=t.plotgroup,n=t.id,a=u.layerValue2layerClass[t.xaxis.layer],o=u.layerValue2layerClass[t.yaxis.layer],i=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,s=l.plotgroup,d=n+"-x",p=n+"-y";t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,f(l.overlinesBelow,"path",d),f(l.overlinesBelow,"path",p),f(l.overaxesBelow,"g",d),f(l.overaxesBelow,"g",p),t.plot=f(l.overplot,"g",n),f(l.overlinesAbove,"path",d),f(l.overlinesAbove,"path",p),f(l.overaxesAbove,"g",d),f(l.overaxesAbove,"g",p),t.xlines=s.select(".overlines-"+a).select("."+d),t.ylines=s.select(".overlines-"+o).select("."+p),t.xaxislayer=s.select(".overaxes-"+a).select("."+d),t.yaxislayer=s.select(".overaxes-"+o).select("."+p)}else if(i)t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.xaxislayer=f(r,"g","xaxislayer-above"),t.yaxislayer=f(r,"g","yaxislayer-above");else{var v=f(r,"g","layer-subplot");t.shapelayer=f(v,"g","shapelayer"),t.imagelayer=f(v,"g","imagelayer"),t.gridlayer=f(r,"g","gridlayer"),t.zerolinelayer=f(r,"g","zerolinelayer"),f(r,"path","xlines-below"),f(r,"path","ylines-below"),t.overlinesBelow=f(r,"g","overlines-below"),f(r,"g","xaxislayer-below"),f(r,"g","yaxislayer-below"),t.overaxesBelow=f(r,"g","overaxes-below"),t.plot=f(r,"g","plot"),t.overplot=f(r,"g","overplot"),t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.overlinesAbove=f(r,"g","overlines-above"),f(r,"g","xaxislayer-above"),f(r,"g","yaxislayer-above"),t.overaxesAbove=f(r,"g","overaxes-above"),t.xlines=r.select(".xlines-"+a),t.ylines=r.select(".ylines-"+o),t.xaxislayer=r.select(".xaxislayer-"+a),t.yaxislayer=r.select(".yaxislayer-"+o)}i||(h(t.gridlayer,"g",t.xaxis._id),h(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(c.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function g(e,t){if(e){var r={};for(var a in e.each(function(e){var a=e[0];n.select(this).remove(),m(a,t),r[a]=!0}),t._plots)for(var o=t._plots[a].overlays||[],i=0;i<o.length;i++){var l=o[i];r[l.id]&&l.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=u.idRegex,t.attrRegex=u.attrRegex,t.attributes=r(401),t.layoutAttributes=r(18),t.supplyLayoutDefaults=r(402),t.transitionAxes=r(406),t.finalizeSubplots=function(e,t){var r,n,a,i=t._subplots,l=i.xaxis,s=i.yaxis,d=i.cartesian,f=d.concat(i.gl2d||[]),h={},p={};for(r=0;r<f.length;r++){var v=f[r].split("y");h[v[0]]=1,p["y"+v[1]]=1}for(r=0;r<l.length;r++)h[n=l[r]]||(a=(e[c.id2name(n)]||{}).anchor,u.idRegex.y.test(a)||(a="y"),d.push(n+a),f.push(n+a),p[a]||(p[a]=1,o.pushUnique(s,a)));for(r=0;r<s.length;r++)p[a=s[r]]||(n=(e[c.id2name(a)]||{}).anchor,u.idRegex.x.test(n)||(n="x"),d.push(n+a),f.push(n+a),h[n]||(h[n]=1,o.pushUnique(l,n)));if(!f.length){for(var g in n="",a="",e){if(u.attrRegex.test(g))"x"===g.charAt(0)?(!n||+g.substr(5)<+n.substr(5))&&(n=g):(!a||+g.substr(5)<+a.substr(5))&&(a=g)}n=n?c.name2id(n):"x",a=a?c.name2id(a):"y",l.push(n),s.push(a),d.push(n+a)}},t.plot=function(e,t,r,n){var a,o=e._fullLayout,i=o._subplots.cartesian,l=e.calcdata;if(!Array.isArray(t))for(t=[],a=0;a<l.length;a++)t.push(a);for(a=0;a<i.length;a++){for(var s,c=i[a],u=o._plots[c],d=[],f=0;f<l.length;f++){var h=l[f],v=h[0].trace;v.xaxis+v.yaxis===c&&((-1!==t.indexOf(v.index)||v.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===d.indexOf(s)&&d.push(s),d.push(h)),s=h)}p(e,u,d,r,n)}},t.clean=function(e,t,r,n){var a,o,i,l=n._plots||{},s=t._plots||{},u=n._subplots||{};if(n._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(i in l)(a=l[i]).plotgroup&&a.plotgroup.remove();var d=n._has&&n._has("gl"),f=t._has&&t._has("gl");if(d&&!f)for(i in l)(a=l[i])._scene&&a._scene.destroy();if(u.xaxis&&u.yaxis){var h=c.listIds({_fullLayout:n});for(o=0;o<h.length;o++){var p=h[o];t[c.id2name(p)]||n._infolayer.selectAll(".g-"+p+"title").remove()}}var v=n._has&&n._has("cartesian"),x=t._has&&t._has("cartesian");if(v&&!x)g(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(u.cartesian)for(o=0;o<u.cartesian.length;o++){var y=u.cartesian[o];if(!s[y]){var _="."+y+",."+y+"-x,."+y+"-y";n._cartesianlayer.selectAll(_).remove(),m(y,n)}}},t.drawFramework=function(e){var t=e._fullLayout,r=function(e){var t,r,n,a,o,i,l=e._fullLayout,s=l._subplots.cartesian,c=s.length,u=[],d=[];for(t=0;t<c;t++){n=s[t],a=l._plots[n],o=a.xaxis,i=a.yaxis;var f=o._mainAxis,h=i._mainAxis,p=f._id+h._id,v=l._plots[p];a.overlays=[],p!==n&&v?(a.mainplot=p,a.mainplotinfo=v,d.push(n)):(a.mainplot=void 0,a.mainplotinfo=void 0,u.push(n))}for(t=0;t<d.length;t++)n=d[t],(a=l._plots[n]).mainplotinfo.overlays.push(a);var g=u.concat(d),m=new Array(c);for(t=0;t<c;t++){n=g[t],a=l._plots[n],o=a.xaxis,i=a.yaxis;var x=[n,o.layer,i.layer,o.overlaying||"",i.overlaying||""];for(r=0;r<a.overlays.length;r++)x.push(a.overlays[r].id);m[t]=x}return m}(e),a=t._cartesianlayer.selectAll(".subplot").data(r,String);a.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),a.order(),a.exit().call(g,t),a.each(function(r){var a=r[0],o=t._plots[a];o.plotgroup=n.select(this),v(e,o),o.draglayer=f(t._draggers,"g",a)})},t.rangePlot=function(e,t,r){v(e,t),p(e,t,r),i.style(e)},t.toSVG=function(e){var t=e._fullLayout._glimages,r=n.select(e).selectAll(".svg-container");r.filter(function(e,t){return t===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:d.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},t.updateFx=r(378).updateFx},382:function(e,t,r){"use strict";var n=r(1),a=r(3),o=r(0),i=r(105),l=r(18),s=r(114),c=r(115),u=r(116),d=r(404),f=r(405),h=r(109),p=r(26).WEEKDAY_PATTERN,v=r(26).HOUR_PATTERN;function g(e,t,r){function a(r,n){return o.coerce(e,t,l.rangebreaks,r,n)}if(a("enabled")){var i=a("bounds");if(i&&i.length>=2){var s,c,u="";if(2===i.length)for(s=0;s<2;s++)if(c=x(i[s])){u=p;break}var d=a("pattern",u);if(d===p)for(s=0;s<2;s++)(c=x(i[s]))&&(t.bounds[s]=i[s]=c-1);if(d)for(s=0;s<2;s++)switch(c=i[s],d){case p:if(!n(c))return void(t.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(t.enabled=!1);t.bounds[s]=i[s]=c;break;case v:if(!n(c))return void(t.enabled=!1);if((c=+c)<0||c>24)return void(t.enabled=!1);t.bounds[s]=i[s]=c}if(!1===r.autorange){var f=r.range;if(f[0]<f[1]){if(i[0]<f[0]&&i[1]>f[1])return void(t.enabled=!1)}else if(i[0]>f[0]&&i[1]<f[1])return void(t.enabled=!1)}}else{var h=a("values");if(!h||!h.length)return void(t.enabled=!1);a("dvalue")}}}e.exports=function(e,t,r,n,v){var m,x=n.letter,y=n.font||{},_=n.splomStash||{},b=r("visible",!n.visibleDflt),w=t._template||{},k=t.type||w.type||"-";"date"===k&&(a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",n.calendar),n.noTicklabelmode||(m=r("ticklabelmode")));n.noTicklabelposition&&"multicategory"!==k||o.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===m?["outside","inside"]:"x"===x?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),h(t,v);var L=!t.isValidRange(e.range);L&&n.reverseDflt&&(L="reversed"),!r("autorange",L)||"linear"!==k&&"-"!==k||r("rangemode"),r("range"),t.cleanRange(),d(e,t,r,n),"category"===k||n.noHover||r("hoverformat");var M=r("color"),A=M!==l.color.dflt?M:y.color,T=_.label||v._dfltTitle[x];if(u(e,t,r,k,n,{pass:1}),!b)return t;r("title.text",T),o.coerceFont(r,"title.font",{family:y.family,size:Math.round(1.2*y.size),color:A}),s(e,t,r,k),u(e,t,r,k,n,{pass:2}),c(e,t,r,n),f(e,t,r,{dfltColor:M,bgColor:n.bgColor,showGrid:n.showGrid,attributes:l}),(t.showline||t.ticks)&&r("mirror"),n.automargin&&r("automargin");var S,z="multicategory"===k;n.noTickson||"category"!==k&&!z||!t.ticks&&!t.showgrid||(z&&(S="boundaries"),"boundaries"===r("tickson",S)&&delete t.ticklabelposition);z&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));if("date"===k)if(i(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),t.rangebreaks.length){for(var C=0;C<t.rangebreaks.length;C++)if(t.rangebreaks[C].pattern===p){t._hasDayOfWeekBreaks=!0;break}if(h(t,v),v._has("scattergl")||v._has("splom"))for(var I=0;I<n.data.length;I++){var D=n.data[I];"scattergl"!==D.type&&"splom"!==D.type||(D.visible=!1,o.warn(D.type+" traces do not work on axes with rangebreaks. Setting trace "+D.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function x(e){if("string"==typeof e)return m[e.substr(0,3).toLowerCase()]}},383:function(e,t,r){"use strict";var n=r(1),a=r(0);e.exports=function(e,t,r,o){var i,l,s,c,u=o.counterAxes||[],d=o.overlayableAxes||[],f=o.letter,h=o.grid;h&&(l=h._domains[f][h._axisMap[t._id]],i=h._anchors[t._id],l&&(s=h[f+"side"].split(" ")[0],c=h.domain[f]["right"===s||"top"===s?1:0])),l=l||[0,1],i=i||(n(e.position)?"free":u[0]||"free"),s=s||("x"===f?"bottom":"left"),c=c||0,"free"===a.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:i}},"anchor")&&r("position",c),a.coerce(e,t,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:s}},"side");var p=!1;if(d.length&&(p=a.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!p){var v=r("domain",l);v[0]>v[1]-1/4096&&(t.domain=l),a.noneOrAll(e.domain,t.domain,l)}return r("layer"),t}},386:function(e,t,r){"use strict";var n=r(4),a=r(19),o=r(345),i=r(3),l=r(0),s=l.strTranslate,c=r(39),u=r(14),d=r(38),f=r(329),h=r(99),p=r(330),v=r(328),g=r(334),m=g.selectingOrDrawing,x=g.freeMode,y=r(28).FROM_TL,_=r(338),b=r(348).redrawReglTraces,w=r(57),k=r(27).getFromId,L=r(336).prepSelect,M=r(336).clearSelect,A=r(336).selectOnClick,T=r(347),S=r(26),z=S.MINDRAG,C=S.MINZOOM,I=!0;function D(e,t,r,n){var a=l.ensureSingle(e.draglayer,t,r,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(p,n),a.node()}function P(e,t,r,a,o,i,l){var s=D(e,"rect",t,r);return n.select(s).call(d.setRect,a,o,i,l),s}function O(e,t){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return t;return""}function R(e,t,r,n,a){for(var o=0;o<e.length;o++){var i=e[o];if(!i.fixedrange)if(i.rangebreaks){var l="y"===i._id.charAt(0),s=l?1-t:t,c=l?1-r:r;n[i._name+".range[0]"]=i.l2r(i.p2l(s*i._length)),n[i._name+".range[1]"]=i.l2r(i.p2l(c*i._length))}else{var u=i._rl[0],d=i._rl[1]-u;n[i._name+".range[0]"]=i.l2r(u+d*t),n[i._name+".range[1]"]=i.l2r(u+d*r)}}if(a&&a.length){var f=(t+(1-r))/2;R(a,f,1-f,n,[])}}function E(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n.fixedrange)if(n.rangebreaks){var a=n._length,o=(n.p2l(0+t)-n.p2l(0)+(n.p2l(a+t)-n.p2l(a)))/2;n.range=[n.l2r(n._rl[0]-o),n.l2r(n._rl[1]-o)]}else n.range=[n.l2r(n._rl[0]-t/n._m),n.l2r(n._rl[1]-t/n._m)]}}function H(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function F(e,t,r,n,a){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(r,n)).attr("d",a+"Z")}function B(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(t,r)).attr("d","M0,0Z")}function Z(e,t,r,n,a,o){e.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),N(e,t,a,o)}function N(e,t,r,n){r||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function V(e){n.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function G(e){I&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),I=!1)}function q(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,C)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function U(e,t,r,n,a){for(var o,i,s,c,u=!1,d={},f={},h=(a||{}).xaHash,p=(a||{}).yaHash,v=0;v<t.length;v++){var g=t[v];for(o in r)if(g[o]){for(s in g)a&&(h[s]||p[s])||("x"===s.charAt(0)?r:n)[s]||(d[s]=o);for(i in n)a&&(h[i]||p[i])||!g[i]||(u=!0)}for(i in n)if(g[i])for(c in g)a&&(h[c]||p[c])||("x"===c.charAt(0)?r:n)[c]||(f[c]=i)}u&&(l.extendFlat(d,f),f={});var m={},x=[];for(s in d){var y=k(e,s);x.push(y),m[y._id]=y}var _={},b=[];for(c in f){var w=k(e,c);b.push(w),_[w._id]=w}return{xaHash:m,yaHash:_,xaxes:x,yaxes:b,xLinks:d,yLinks:f,isSubplotConstrained:u}}function j(e,t){if(o){var r=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=t,e.addEventListener(r,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function Y(e){var t=[];for(var r in e)t.push(e[r]);return t}e.exports={makeDragBox:function(e,t,r,o,s,u,p,g){var I,D,N,X,W,K,Q,J,$,ee,te,re,ne,ae,oe,ie,le,se,ce,ue,de,fe,he,pe=e._fullLayout._zoomlayer,ve=p+g==="nsew",ge=1===(p+g).length;function me(){if(I=t.xaxis,D=t.yaxis,$=I._length,ee=D._length,Q=I._offset,J=D._offset,(N={})[I._id]=I,(X={})[D._id]=D,p&&g)for(var r=t.overlays,n=0;n<r.length;n++){var a=r[n].xaxis;N[a._id]=a;var o=r[n].yaxis;X[o._id]=o}W=Y(N),K=Y(X),ne=O(W,g),ae=O(K,p),oe=!ae&&!ne,re=U(e,e._fullLayout._axisMatchGroups,N,X);var i=(te=U(e,e._fullLayout._axisConstraintGroups,N,X,re)).isSubplotConstrained||re.isSubplotConstrained;ie=g||i,le=p||i;var l=e._fullLayout;se=l._has("scattergl"),ce=l._has("splom"),ue=l._has("svg")}me();var xe=function(e,t,r){return e?"nsew"===e?r?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(ae+ne,e._fullLayout.dragmode,ve),ye=P(t,p+g+"drag",xe,r,o,s,u);if(oe&&!ve)return ye.onmousedown=null,ye.style.pointerEvents="none",ye;var _e,be,we,ke,Le,Me,Ae,Te,Se,ze,Ce={element:ye,gd:e,plotinfo:t};function Ie(){Ce.plotinfo.selection=!1,M(e)}function De(e,r){var a=Ce.gd;if(a._fullLayout._activeShapeIndex>=0)a._fullLayout._deactivateShape(a);else{var o=a._fullLayout.clickmode;if(V(a),2!==e||ge||Ge(),ve)o.indexOf("select")>-1&&A(r,a,W,K,t.id,Ce),o.indexOf("event")>-1&&f.click(a,r,t.id);else if(1===e&&ge){var l=p?D:I,s="s"===p||"w"===g?0:1,u=l._name+".range["+s+"]",d=function(e,t){var r,a=e.range[t],o=Math.abs(a-e.range[1-t]);return"date"===e.type?a:"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,n.format("."+r+"g")(Math.pow(10,a))):(r=Math.floor(Math.log(Math.abs(a))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,n.format("."+String(r)+"g")(a))}(l,s),h="left",v="middle";if(l.fixedrange)return;p?(v="n"===p?"top":"bottom","right"===l.side&&(h="right")):"e"===g&&(h="right"),a._context.showAxisRangeEntryBoxes&&n.select(ye).call(c.makeEditable,{gd:a,immediate:!0,background:a._fullLayout.paper_bgcolor,text:String(d),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:h,verticalAlign:v}).on("edit",function(e){var t=l.d2r(e);void 0!==t&&i.call("_guiRelayout",a,u,t)})}}}function Pe(t,r){if(e._transitioningWithDuration)return!1;var n=Math.max(0,Math.min($,fe*t+_e)),a=Math.max(0,Math.min(ee,he*r+be)),o=Math.abs(n-_e),i=Math.abs(a-be);function l(){Ae="",we.r=we.l,we.t=we.b,Se.attr("d","M0,0Z")}if(we.l=Math.min(_e,n),we.r=Math.max(_e,n),we.t=Math.min(be,a),we.b=Math.max(be,a),te.isSubplotConstrained)o>C||i>C?(Ae="xy",o/$>i/ee?(i=o*ee/$,be>a?we.t=be-i:we.b=be+i):(o=i*$/ee,_e>n?we.l=_e-o:we.r=_e+o),Se.attr("d",q(we))):l();else if(re.isSubplotConstrained)if(o>C||i>C){Ae="xy";var s=Math.min(we.l/$,(ee-we.b)/ee),c=Math.max(we.r/$,(ee-we.t)/ee);we.l=s*$,we.r=c*$,we.b=(1-s)*ee,we.t=(1-c)*ee,Se.attr("d",q(we))}else l();else!ae||i<Math.min(Math.max(.6*o,z),C)?o<z||!ne?l():(we.t=0,we.b=ee,Ae="x",Se.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-C-.5)+"h-3v"+(2*C+1)+"h3ZM"+(e.r+.5)+","+(t-C-.5)+"h3v"+(2*C+1)+"h-3Z"}(we,be))):!ne||o<Math.min(.6*i,C)?(we.l=0,we.r=$,Ae="y",Se.attr("d",function(e,t){return"M"+(t-C-.5)+","+(e.t-.5)+"v-3h"+(2*C+1)+"v3ZM"+(t-C-.5)+","+(e.b+.5)+"v3h"+(2*C+1)+"v-3Z"}(we,_e))):(Ae="xy",Se.attr("d",q(we)));we.w=we.r-we.l,we.h=we.b-we.t,Ae&&(ze=!0),e._dragged=ze,Z(Te,Se,we,Le,Me,ke),Oe(),e.emit("plotly_relayouting",de),Me=!0}function Oe(){de={},"xy"!==Ae&&"x"!==Ae||(R(W,we.l/$,we.r/$,de,te.xaxes),Ne("x",de)),"xy"!==Ae&&"y"!==Ae||(R(K,(ee-we.b)/ee,(ee-we.t)/ee,de,te.yaxes),Ne("y",de))}function Re(){Oe(),V(e),qe(),G(e)}Ce.prepFn=function(t,r,n){var o=Ce.dragmode,i=e._fullLayout.dragmode;i!==o&&(Ce.dragmode=i),me(),fe=e._fullLayout._invScaleX,he=e._fullLayout._invScaleY,oe||(ve?t.shiftKey?"pan"===i?i="zoom":m(i)||(i="pan"):t.ctrlKey&&(i="pan"):i="pan"),x(i)?Ce.minDrag=1:Ce.minDrag=void 0,m(i)?(Ce.xaxes=W,Ce.yaxes=K,L(t,r,n,Ce,i)):(Ce.clickFn=De,m(o)&&Ie(),oe||("zoom"===i?(Ce.moveFn=Pe,Ce.doneFn=Re,Ce.minDrag=1,function(t,r,n){var o=ye.getBoundingClientRect();_e=r-o.left,be=n-o.top,e._fullLayout._calcInverseTransform(e);var i=l.apply3DTransform(e._fullLayout._invTransform)(_e,be);_e=i[0],be=i[1],we={l:_e,r:_e,w:0,t:be,b:be,h:0},ke=e._hmpixcount?e._hmlumcount/e._hmpixcount:a(e._fullLayout.plot_bgcolor).getLuminance(),Me=!1,Ae="xy",ze=!1,Te=F(pe,ke,Q,J,Le="M0,0H"+$+"V"+ee+"H0V0"),Se=B(pe,Q,J)}(0,r,n)):"pan"===i&&(Ce.moveFn=Ze,Ce.doneFn=qe))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===ye){var r=e._fullLayout.dragmode;m(r)||(me(),Ue([0,0,$,ee]),Ce.moveFn(t.dx,t.dy))}}},v.init(Ce);var Ee=[0,0,$,ee],He=null,Fe=S.REDRAWDELAY,Be=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function Ze(t,r){if(t*=fe,r*=he,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===ne||"ns"===ae){var n=ne?-t:0,a=ae?-r:0;if(re.isSubplotConstrained){if(ne&&ae){var o=(t/$-r/ee)/2;n=-(t=o*$),a=-(r=-o*ee)}ae?n=-a*$/ee:a=-n*ee/$}return ne&&(E(W,t),Ne("x")),ae&&(E(K,r),Ne("y")),Ue([n,a,$,ee]),Ve(),void e.emit("plotly_relayouting",de)}var i,l,s="w"===ne==("n"===ae)?1:-1;if(ne&&ae&&(te.isSubplotConstrained||re.isSubplotConstrained)){var c=(t/$+s*r/ee)/2;t=c*$,r=s*c*ee}if("w"===ne?t=h(W,0,t):"e"===ne?t=h(W,1,-t):ne||(t=0),"n"===ae?r=h(K,1,r):"s"===ae?r=h(K,0,-r):ae||(r=0),i="w"===ne?t:0,l="n"===ae?r:0,te.isSubplotConstrained&&!re.isSubplotConstrained||re.isSubplotConstrained&&ne&&ae&&s>0){var u;if(re.isSubplotConstrained||!ne&&1===ae.length){for(u=0;u<W.length;u++)W[u].range=W[u]._r.slice(),T(W[u],1-r/ee);i=(t=r*$/ee)/2}if(re.isSubplotConstrained||!ae&&1===ne.length){for(u=0;u<K.length;u++)K[u].range=K[u]._r.slice(),T(K[u],1-t/$);l=(r=t*ee/$)/2}}re.isSubplotConstrained&&ae||Ne("x"),re.isSubplotConstrained&&ne||Ne("y");var d=$-t,f=ee-r;!re.isSubplotConstrained||ne&&ae||(ne?(l=i?0:t*ee/$,f=d*ee/$):(i=l?0:r*$/ee,d=f*$/ee)),Ue([i,l,d,f]),Ve(),e.emit("plotly_relayouting",de)}function h(e,t,r){for(var n,a,o=1-t,i=0;i<e.length;i++){var l=e[i];if(!l.fixedrange){n=l,a=l._rl[o]+(l._rl[t]-l._rl[o])/H(r/l._length);var s=l.l2r(a);!1!==s&&void 0!==s&&(l.range[t]=s)}}return n._length*(n._rl[t]-a)/(n._rl[t]-n._rl[o])}}function Ne(e,t){for(var r=re.isSubplotConstrained?{x:K,y:W}[e]:re[e+"axes"],n=re.isSubplotConstrained?{x:W,y:K}[e]:[],a=0;a<r.length;a++){var o=r[a],i=o._id,l=re.xLinks[i]||re.yLinks[i],s=n[0]||N[l]||X[l];s&&(t?(t[o._name+".range[0]"]=t[s._name+".range[0]"],t[o._name+".range[1]"]=t[s._name+".range[1]"]):o.range=s.range.slice())}}function Ve(){var t,r=[];function n(e){for(t=0;t<e.length;t++)e[t].fixedrange||r.push(e[t]._id)}for(ie&&(n(W),n(te.xaxes),n(re.xaxes)),le&&(n(K),n(te.yaxes),n(re.yaxes)),de={},t=0;t<r.length;t++){var a=r[t],o=k(e,a);h.drawOne(e,o,{skipTitle:!0}),de[o._name+".range[0]"]=o.range[0],de[o._name+".range[1]"]=o.range[1]}h.redrawComponents(e,r)}function Ge(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,r=[];ne&&(r=r.concat(W)),ae&&(r=r.concat(K)),re.xaxes&&(r=r.concat(re.xaxes)),re.yaxes&&(r=r.concat(re.yaxes));var n,a,o,l={};if("reset+autosize"===t)for(t="autosize",a=0;a<r.length;a++)if((n=r[a])._rangeInitial&&(n.range[0]!==n._rangeInitial[0]||n.range[1]!==n._rangeInitial[1])||!n._rangeInitial&&!n.autorange){t="reset";break}if("autosize"===t)for(a=0;a<r.length;a++)(n=r[a]).fixedrange||(l[n._name+".autorange"]=!0);else if("reset"===t)for((ne||te.isSubplotConstrained)&&(r=r.concat(te.xaxes)),ae&&!te.isSubplotConstrained&&(r=r.concat(te.yaxes)),te.isSubplotConstrained&&(ne?ae||(r=r.concat(K)):r=r.concat(W)),a=0;a<r.length;a++)(n=r[a]).fixedrange||(n._rangeInitial?(o=n._rangeInitial,l[n._name+".range[0]"]=o[0],l[n._name+".range[1]"]=o[1]):l[n._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),i.call("_guiRelayout",e,l)}}function qe(){Ue([0,0,$,ee]),l.syncOrAsync([w.previousPromises,function(){e._fullLayout._replotting=!1,i.call("_guiRelayout",e,de)}],e)}function Ue(t){var r,n,a,o,s=e._fullLayout,c=s._plots,u=s._subplots.cartesian;if(ce&&i.subplotsRegistry.splom.drag(e),se)for(r=0;r<u.length;r++)if(a=(n=c[u[r]]).xaxis,o=n.yaxis,n._scene){var f=l.simpleMap(a.range,a.r2l),h=l.simpleMap(o.range,o.r2l);n._scene.update({range:[f[0],h[0],f[1],h[1]]})}if((ce||se)&&(_(e),b(e)),ue){var v=t[2]/I._length,m=t[3]/D._length;for(r=0;r<u.length;r++){a=(n=c[u[r]]).xaxis,o=n.yaxis;var x,y,w,k,L=(ie||re.isSubplotConstrained)&&!a.fixedrange&&N[a._id],M=(le||re.isSubplotConstrained)&&!o.fixedrange&&X[o._id];if(L?(x=v,w=g||re.isSubplotConstrained?t[0]:Xe(a,x)):re.xaHash[a._id]?(x=v,w=t[0]*a._length/I._length):re.yaHash[a._id]?(x=m,w="ns"===ae?-t[1]*a._length/D._length:Xe(a,x,{n:"top",s:"bottom"}[ae])):w=Ye(a,x=je(a,v,m)),M?(y=m,k=p||re.isSubplotConstrained?t[1]:Xe(o,y)):re.yaHash[o._id]?(y=m,k=t[1]*o._length/D._length):re.xaHash[o._id]?(y=v,k="ew"===ne?-t[0]*o._length/I._length:Xe(o,y,{e:"right",w:"left"}[ne])):k=Ye(o,y=je(o,v,m)),x||y){x||(x=1),y||(y=1);var A=a._offset-w/x,T=o._offset-k/y;n.clipRect.call(d.setTranslate,w,k).call(d.setScale,x,y),n.plot.call(d.setTranslate,A,T).call(d.setScale,1/x,1/y),x===n.xScaleFactor&&y===n.yScaleFactor||(d.setPointGroupScale(n.zoomScalePts,x,y),d.setTextPointsScale(n.zoomScaleTxt,x,y)),d.hideOutsideRangePoints(n.clipOnAxisFalseTraces,n),n.xScaleFactor=x,n.yScaleFactor=y}}}}function je(e,t,r){return e.fixedrange?0:ie&&te.xaHash[e._id]?t:le&&(te.isSubplotConstrained?te.xaHash:te.yaHash)[e._id]?r:0}function Ye(e,t){return t?(e.range=e._r.slice(),T(e,t),Xe(e,t)):0}function Xe(e,t,r){return e._length*(1-t)*y[r||e.constraintoward||"middle"]}return p.length*g.length!=1&&j(ye,function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Ie(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();me(),clearTimeout(He);var r=-t.deltaY;if(isFinite(r)||(r=t.wheelDelta/10),isFinite(r)){var n,a=Math.exp(-Math.min(Math.max(r,-20),20)/200),o=Be.draglayer.select(".nsewdrag").node().getBoundingClientRect(),i=(t.clientX-o.left)/o.width,s=(o.bottom-t.clientY)/o.height;if(ie){for(g||(i=.5),n=0;n<W.length;n++)c(W[n],i,a);Ne("x"),Ee[2]*=a,Ee[0]+=Ee[2]*i*(1/a-1)}if(le){for(p||(s=.5),n=0;n<K.length;n++)c(K[n],s,a);Ne("y"),Ee[3]*=a,Ee[1]+=Ee[3]*(1-s)*(1/a-1)}Ue(Ee),Ve(),e.emit("plotly_relayouting",de),He=setTimeout(function(){Ee=[0,0,$,ee],qe()},Fe),t.preventDefault()}else l.log("Did not find wheel motion attributes: ",t)}function c(e,t,r){if(!e.fixedrange){var n=l.simpleMap(e.range,e.r2l),a=n[0]+(n[1]-n[0])*t;e.range=n.map(function(t){return e.l2r(a+(t-a)*r)})}}}),ye},makeDragger:D,makeRectDragger:P,makeZoombox:F,makeCorners:B,updateZoombox:Z,xyCorners:q,transitionZoombox:N,removeZoombox:V,showDoubleClickNotifier:G,attachWheelEventHandler:j}},387:function(e,t,r){"use strict";t.manage=r(388)},388:function(e,t,r){"use strict";var n=r(27),a=r(101),o=r(3),i=r(100).isUnifiedHover,l=r(389),s=r(390);e.exports=function(e){var t=e._fullLayout,r=e._context,u=t._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,f=r.modeBarButtons;d=Array.isArray(f)&&f.length?function(e){for(var t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.length;n++){var a=r[n];if("string"==typeof a){if(void 0===s[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][n]=s[a]}}return e}(f):!r.displayModeBar&&r.watermark?[]:function(e){var t=e._fullLayout,r=e._fullData,l=e._context,u=l.modeBarButtonsToRemove,d=l.modeBarButtonsToAdd,f=t._has("cartesian"),h=t._has("gl3d"),p=t._has("geo"),v=t._has("pie"),g=t._has("funnelarea"),m=t._has("gl2d"),x=t._has("ternary"),y=t._has("mapbox"),_=t._has("polar"),b=t._has("sankey"),w=function(e){for(var t=n.list({_fullLayout:e},null,!0),r=0;r<t.length;r++)if(!t[r].fixedrange)return!1;return!0}(t),k=i(t.hovermode),L=[];function M(e){if(e.length){for(var t=[],r=0;r<e.length;r++){var n=e[r];-1===u.indexOf(n)&&t.push(s[n])}L.push(t)}}var A=["toImage"];l.showEditInChartStudio?A.push("editInChartStudio"):l.showSendToCloud&&A.push("sendDataToCloud");M(A);var T=[],S=[],z=[],C=[];(f||m||v||g||x)+p+h+y+_>1?(S=["toggleHover"],z=["resetViews"]):p?(T=["zoomInGeo","zoomOutGeo"],S=["hoverClosestGeo"],z=["resetGeo"]):h?(S=["hoverClosest3d"],z=["resetCameraDefault3d","resetCameraLastSave3d"]):y?(T=["zoomInMapbox","zoomOutMapbox"],S=["toggleHover"],z=["resetViewMapbox"]):m?S=["hoverClosestGl2d"]:v?S=["hoverClosestPie"]:b?(S=["hoverClosestCartesian","hoverCompareCartesian"],z=["resetViewSankey"]):S=["toggleHover"];f&&(S=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);((function(e){for(var t=0;t<e.length;t++)if(!o.traceIs(e[t],"noHover"))return!1;return!0})(r)||k)&&(S=[]);!f&&!m||w||(T=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==z[0]&&(z=["resetScale2d"]));h?C=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||m)&&!w||x?C=["zoom2d","pan2d"]:y||p?C=["pan2d"]:_&&(C=["zoom2d"]);(function(e){for(var t=!1,r=0;r<e.length&&!t;r++){var n=e[r];n._module&&n._module.selectPoints&&(o.traceIs(n,"scatter-like")?(a.hasMarkers(n)||a.hasText(n))&&(t=!0):o.traceIs(n,"box-violin")&&"all"!==n.boxpoints&&"all"!==n.points||(t=!0))}return t})(r)&&C.push("select2d","lasso2d");if(Array.isArray(d)){for(var I=[],D=0;D<d.length;D++){var P=d[D];"string"==typeof P?-1!==c.indexOf(P)&&(t._has("mapbox")||t._has("cartesian"))&&C.push(P):I.push(P)}d=I}return M(C),M(T.concat(z)),M(S),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t);return e}(L,d)}(e),u?u.update(e,d):t._modeBar=l(e,d)}else u&&(u.destroy(),delete t._modeBar)};var c=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},389:function(e,t,r){"use strict";var n=r(4),a=r(1),o=r(0),i=r(349),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===n.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var i=n.modebar,l="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(a),o.addRelatedStyleRule(a,l+"#"+a+" .modebar-group","background-color: "+i.bgcolor),o.addRelatedStyleRule(a,"#"+a+" .modebar-btn .icon path","fill: "+i.color),o.addRelatedStyleRule(a,"#"+a+" .modebar-btn:hover .icon path","fill: "+i.activecolor),o.addRelatedStyleRule(a,"#"+a+" .modebar-btn.active .icon path","fill: "+i.activecolor);var s=!this.hasButtons(t),c=this.hasLogo!==r.displaylogo,u=this.locale!==r.locale;if(this.locale=r.locale,(s||c||u)&&(this.removeAllButtons(),this.updateButtons(t),r.watermark||r.displaylogo)){var d=this.getLogo();r.watermark&&(d.className=d.className+" watermark"),"v"===n.modebar.orientation?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var r=t.createGroup();e.forEach(function(e){var n=e.name;if(!n)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(n))throw new Error("button name '"+n+"' is taken");t.buttonsNames.push(n);var a=t.createButton(e);t.buttonElements.push(a),r.appendChild(a)}),t.element.appendChild(r)})},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var a=e.title;void 0===a?a=e.name:"function"==typeof a&&(a=a(this.graphInfo)),(a||0===a)&&r.setAttribute("data-title",a),void 0!==e.attr&&r.setAttribute("data-attr",e.attr);var o=e.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),r.setAttribute("data-val",o)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(r){e.click(t.graphInfo,r),t.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&n.select(r).classed("active",!0);var l=e.icon;return"function"==typeof l?r.appendChild(l()):r.appendChild(this.createIcon(l||i.question)),r.setAttribute("data-gravity",e.gravity||"n"),r},c.createIcon=function(e){var t,r=a(e.height)?Number(e.height):e.ascent-e.descent,n="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(n,"svg")).setAttribute("viewBox",[0,0,e.width,r].join(" ")),t.setAttribute("class","icon");var o=document.createElementNS(n,"path");o.setAttribute("d",e.path),e.transform?o.setAttribute("transform",e.transform):void 0!==e.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(o)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var a=e.getAttribute("data-val")||!0,i=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=n.select(e);if(l)i===r&&s.classed("active",!s.classed("active"));else{var c=null===i?i:o.nestedProperty(t,i).get();s.classed("active",c===a)}})},c.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var n=0;n<e[r].length;n++)if(e[r][n].name!==t[r][n].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(i.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var r=e._fullLayout,a=new s({graphInfo:e,container:r._modebardiv.node(),buttons:t});return r._privateplot&&n.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},390:function(e,t,r){"use strict";var n=r(3),a=r(57),o=r(27),i=r(349),l=r(379).eraseActiveShape,s=r(0),c=s._,u=e.exports={};function d(e,t){var r,a,i=t.currentTarget,l=i.getAttribute("data-attr"),s=i.getAttribute("data-val")||!0,c=e._fullLayout,u={},d=o.list(e,null,!0),f=c._cartesianSpikesEnabled;if("zoom"===l){var h,p="in"===s?.5:2,v=(1+p)/2,g=(1-p)/2;for(a=0;a<d.length;a++)if(!(r=d[a]).fixedrange)if(h=r._name,"auto"===s)u[h+".autorange"]=!0;else if("reset"===s){if(void 0===r._rangeInitial)u[h+".autorange"]=!0;else{var m=r._rangeInitial.slice();u[h+".range[0]"]=m[0],u[h+".range[1]"]=m[1]}void 0!==r._showSpikeInitial&&(u[h+".showspikes"]=r._showSpikeInitial,"on"!==f||r._showSpikeInitial||(f="off"))}else{var x=[r.r2l(r.range[0]),r.r2l(r.range[1])],y=[v*x[0]+g*x[1],v*x[1]+g*x[0]];u[h+".range[0]"]=r.l2r(y[0]),u[h+".range[1]"]=r.l2r(y[1])}}else"hovermode"!==l||"x"!==s&&"y"!==s||(s=c._isHoriz?"y":"x",i.setAttribute("data-val",s)),u[l]=s;c._cartesianSpikesEnabled=f,n.call("_guiRelayout",e,u)}function f(e,t){for(var r=t.currentTarget,a=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,i=e._fullLayout._subplots.gl3d||[],l={},s=a.split("."),c=0;c<i.length;c++)l[i[c]+"."+s[1]]=o;var u="pan"===o?o:"zoom";l.dragmode=u,n.call("_guiRelayout",e,l)}function h(e,t){for(var r=t.currentTarget.getAttribute("data-attr"),a="resetLastSave"===r,o="resetDefault"===r,i=e._fullLayout,l=i._subplots.gl3d||[],s={},c=0;c<l.length;c++){var u,d=l[c],f=d+".camera",h=d+".aspectratio",p=d+".aspectmode",v=i[d]._scene;a?(s[f+".up"]=v.viewInitial.up,s[f+".eye"]=v.viewInitial.eye,s[f+".center"]=v.viewInitial.center,u=!0):o&&(s[f+".up"]=null,s[f+".eye"]=null,s[f+".center"]=null,u=!0),u&&(s[h+".x"]=v.viewInitial.aspectratio.x,s[h+".y"]=v.viewInitial.aspectratio.y,s[h+".z"]=v.viewInitial.aspectratio.z,s[p]=v.viewInitial.aspectmode)}n.call("_guiRelayout",e,s)}function p(e,t){var r=t.currentTarget,n=r._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],l={},s={};if(n)s=n,r._previousVal=null;else{for(var c=0;c<o.length;c++){var u=o[c],d=a[u],f=u+".hovermode";l[f]=d.hovermode,s[f]=!1;for(var h=0;h<3;h++){var p=i[h],v=u+"."+p+".showspikes";s[v]=!1,l[v]=d[p].showspikes}}r._previousVal=l}return s}function v(e,t){for(var r=t.currentTarget,a=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,i=e._fullLayout,l=i._subplots.geo||[],s=0;s<l.length;s++){var c=l[s],u=i[c];if("zoom"===a){var d=u.projection.scale,f="in"===o?2*d:.5*d;n.call("_guiRelayout",e,c+".projection.scale",f)}}"reset"===a&&y(e,"geo")}function g(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function m(e){var t=g(e);n.call("_guiRelayout",e,"hovermode",t)}function x(e,t){for(var r=t.currentTarget.getAttribute("data-val"),a=e._fullLayout,o=a._subplots.mapbox||[],i={},l=0;l<o.length;l++){var s=o[l],c=a[s].zoom,u="in"===r?1.05*c:c/1.05;i[s+".zoom"]=u}n.call("_guiRelayout",e,i)}function y(e,t){for(var r=e._fullLayout,a=r._subplots[t]||[],o={},i=0;i<a.length;i++)for(var l=a[i],s=r[l]._subplot.viewInitial,c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];o[l+"."+d]=s[d]}n.call("_guiRelayout",e,o)}u.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return c(e,"png"===t?"Download plot as a png":"Download plot")},icon:i.camera,click:function(e){var t=e._context.toImageButtonOptions,r={format:t.format||"png"};s.notifier(c(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&s.isIE()&&(s.notifier(c(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(e){e in t&&(r[e]=t[e])}),n.call("downloadImage",e,r).then(function(t){s.notifier(c(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){s.notifier(c(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return c(e,"Edit in Chart Studio")},icon:i.disk,click:function(e){a.sendDataToCloud(e)}},u.editInChartStudio={name:"editInChartStudio",title:function(e){return c(e,"Edit in Chart Studio")},icon:i.pencil,click:function(e){a.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return c(e,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:d},u.pan2d={name:"pan2d",title:function(e){return c(e,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:d},u.select2d={name:"select2d",title:function(e){return c(e,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:d},u.lasso2d={name:"lasso2d",title:function(e){return c(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:d},u.drawclosedpath={name:"drawclosedpath",title:function(e){return c(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:d},u.drawopenpath={name:"drawopenpath",title:function(e){return c(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:d},u.drawline={name:"drawline",title:function(e){return c(e,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:d},u.drawrect={name:"drawrect",title:function(e){return c(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:d},u.drawcircle={name:"drawcircle",title:function(e){return c(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:d},u.eraseshape={name:"eraseshape",title:function(e){return c(e,"Erase active shape")},icon:i.eraseshape,click:l},u.zoomIn2d={name:"zoomIn2d",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:d},u.zoomOut2d={name:"zoomOut2d",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:d},u.autoScale2d={name:"autoScale2d",title:function(e){return c(e,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:d},u.resetScale2d={name:"resetScale2d",title:function(e){return c(e,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:d},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return c(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:d},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return c(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:d},u.zoom3d={name:"zoom3d",title:function(e){return c(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:f},u.pan3d={name:"pan3d",title:function(e){return c(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(e){return c(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(e){return c(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return c(e,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:h},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return c(e,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:h},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(e,t){var r=p(e,t);n.call("_guiRelayout",e,r)}},u.zoomInGeo={name:"zoomInGeo",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:v},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:v},u.resetGeo={name:"resetGeo",title:function(e){return c(e,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:v},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:m},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:m},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:m},u.resetViewSankey={name:"resetSankeyGroup",title:function(e){return c(e,"Reset view")},icon:i.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<e._fullData.length;r++){var a=e._fullData[r]._viewInitial;t["node.groups"].push(a.node.groups.slice()),t["node.x"].push(a.node.x.slice()),t["node.y"].push(a.node.y.slice())}n.call("restyle",e,t)}},u.toggleHover={name:"toggleHover",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(e,t){var r=p(e,t);r.hovermode=g(e),n.call("_guiRelayout",e,r)}},u.resetViews={name:"resetViews",title:function(e){return c(e,"Reset views")},icon:i.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),d(e,t),r.setAttribute("data-attr","resetLastSave"),h(e,t),y(e,"geo"),y(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return c(e,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,r=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===r?"off":"on",n.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,r=o.list(e,null,!0),n={},a=0;a<r.length;a++){var i=r[a];n[i._name+".showspikes"]=!!t||i._showSpikeInitial}return n}(e))}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return c(e,"Reset view")},attr:"reset",icon:i.home,click:function(e){y(e,"mapbox")}},u.zoomInMapbox={name:"zoomInMapbox",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:x},u.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:x}},391:function(e,t){e.exports=function(e){var t=[];return e.replace(n,function(e,n,o){var i=n.toLowerCase();for(o=function(e){var t=e.match(a);return t?t.map(Number):[]}(o),"m"==i&&o.length>2&&(t.push([n].concat(o.splice(0,2))),i="l",n="m"==n?"l":"L");;){if(o.length==r[i])return o.unshift(n),t.push(o);if(o.length<r[i])throw new Error("malformed path data");t.push([n].concat(o.splice(0,r[i])))}}),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},392:function(e,t,r){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var n,a=r(393),o=r(394),i=r(395),l=r(397),s=r(398),c=r(399),u=!1,d=o();function f(e,t,r){var a=n.segments(e),o=n.segments(t),i=r(n.combine(a,o));return n.polygon(i)}n={buildLog:function(e){return!0===e?u=a():!1===e&&(u=!1),!1!==u&&u.list},epsilon:function(e){return d.epsilon(e)},segments:function(e){var t=i(!0,d,u);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:i(!1,d,u).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,u),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,u),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,u),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,u),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,u),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,d,u),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(n,e)},polygonToGeoJSON:function(e){return c.fromPolygon(n,d,e)},union:function(e,t){return f(e,t,n.selectUnion)},intersect:function(e,t){return f(e,t,n.selectIntersect)},difference:function(e,t){return f(e,t,n.selectDifference)},differenceRev:function(e,t){return f(e,t,n.selectDifferenceRev)},xor:function(e,t){return f(e,t,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),e.exports=n},393:function(e,t){e.exports=function(){var e,t=0,r=!1;function n(t,r){return e.list.push({type:t,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return n("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return n("div_seg",{seg:e,pt:t}),n("chop",{seg:e,pt:t})},statusRemove:function(e){return n("pop_seg",{seg:e})},segmentUpdate:function(e){return n("seg_update",{seg:e})},segmentNew:function(e,t){return n("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return n("rem_seg",{seg:e})},tempStatus:function(e,t,r){return n("temp_status",{seg:e,above:t,below:r})},rewind:function(e){return n("rewind",{seg:e})},status:function(e,t,r){return n("status",{seg:e,above:t,below:r})},vert:function(t){return t===r?e:(r=t,n("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),n("log",{txt:e})},reset:function(){return n("reset")},selected:function(e){return n("selected",{segs:e})},chainStart:function(e){return n("chain_start",{seg:e})},chainRemoveHead:function(e,t){return n("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return n("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return n("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return n("chain_match",{index:e})},chainClose:function(e){return n("chain_close",{index:e})},chainAddHead:function(e,t){return n("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return n("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return n("chain_con",{index1:e,index2:t})},chainReverse:function(e){return n("chain_rev",{index:e})},chainJoin:function(e,t){return n("chain_join",{index1:e,index2:t})},done:function(){return n("done")}}}},394:function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,r,n){var a=r[0],o=r[1],i=n[0],l=n[1],s=t[0];return(i-a)*(t[1]-o)-(l-o)*(s-a)>=-e},pointBetween:function(t,r,n){var a=t[1]-r[1],o=n[0]-r[0],i=t[0]-r[0],l=n[1]-r[1],s=i*o+a*l;return!(s<e||s-(o*o+l*l)>-e)},pointsSameX:function(t,r){return Math.abs(t[0]-r[0])<e},pointsSameY:function(t,r){return Math.abs(t[1]-r[1])<e},pointsSame:function(e,r){return t.pointsSameX(e,r)&&t.pointsSameY(e,r)},pointsCompare:function(e,r){return t.pointsSameX(e,r)?t.pointsSameY(e,r)?0:e[1]<r[1]?-1:1:e[0]<r[0]?-1:1},pointsCollinear:function(t,r,n){var a=t[0]-r[0],o=t[1]-r[1],i=r[0]-n[0],l=r[1]-n[1];return Math.abs(a*l-i*o)<e},linesIntersect:function(t,r,n,a){var o=r[0]-t[0],i=r[1]-t[1],l=a[0]-n[0],s=a[1]-n[1],c=o*s-i*l;if(Math.abs(c)<e)return!1;var u=t[0]-n[0],d=t[1]-n[1],f=(l*d-s*u)/c,h=(o*d-i*u)/c,p={alongA:0,alongB:0,pt:[t[0]+f*o,t[1]+f*i]};return p.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,r){for(var n=t[0],a=t[1],o=r[r.length-1][0],i=r[r.length-1][1],l=!1,s=0;s<r.length;s++){var c=r[s][0],u=r[s][1];u-a>e!=i-a>e&&(o-c)*(a-u)/(i-u)+c-n>e&&(l=!l),o=c,i=u}return l}};return t}},395:function(e,t,r){var n=r(396);e.exports=function(e,t,r){function a(e,t,n){return{id:r?r.segmentId():-1,start:e,end:t,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var o=n.create();function i(e,r){o.insertBefore(e,function(n){return function(e,r,n,a,o,i){var l=t.pointsCompare(r,o);return 0!==l?l:t.pointsSame(n,i)?0:e!==a?e?1:-1:t.pointAboveOrOnLine(n,a?o:i,a?i:o)?1:-1}(e.isStart,e.pt,r,n.isStart,n.pt,n.other.pt)<0})}function l(e,t){var r=function(e,t){var r=n.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return i(r,e.end),r}(e,t);return function(e,t,r){var a=n.node({isStart:!1,pt:t.end,seg:t,primary:r,other:e,status:null});e.other=a,i(a,e.pt)}(r,e,t),r}function s(e,t){var n=a(t,e.seg.end,e.seg);return function(e,t){r&&r.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,i(e.other,e.pt)}(e,t),l(n,e.primary)}function c(a,i){var l=n.create();function c(e){return l.findTransition(function(r){var n,a,o,i,l,s;return n=e,a=r.ev,o=n.seg.start,i=n.seg.end,l=a.seg.start,s=a.seg.end,(t.pointsCollinear(o,l,s)?t.pointsCollinear(i,l,s)?1:t.pointAboveOrOnLine(i,l,s)?1:-1:t.pointAboveOrOnLine(o,l,s)?1:-1)>0})}function u(e,n){var a=e.seg,o=n.seg,i=a.start,l=a.end,c=o.start,u=o.end;r&&r.checkIntersection(a,o);var d=t.linesIntersect(i,l,c,u);if(!1===d){if(!t.pointsCollinear(i,l,c))return!1;if(t.pointsSame(i,u)||t.pointsSame(l,c))return!1;var f=t.pointsSame(i,c),h=t.pointsSame(l,u);if(f&&h)return n;var p=!f&&t.pointBetween(i,c,u),v=!h&&t.pointBetween(l,c,u);if(f)return v?s(n,l):s(e,u),n;p&&(h||(v?s(n,l):s(e,u)),s(n,i))}else 0===d.alongA&&(-1===d.alongB?s(e,c):0===d.alongB?s(e,d.pt):1===d.alongB&&s(e,u)),0===d.alongB&&(-1===d.alongA?s(n,i):0===d.alongA?s(n,d.pt):1===d.alongA&&s(n,l));return!1}for(var d=[];!o.isEmpty();){var f=o.getHead();if(r&&r.vert(f.pt[0]),f.isStart){r&&r.segmentNew(f.seg,f.primary);var h=c(f),p=h.before?h.before.ev:null,v=h.after?h.after.ev:null;function g(){if(p){var e=u(f,p);if(e)return e}return!!v&&u(f,v)}r&&r.tempStatus(f.seg,!!p&&p.seg,!!v&&v.seg);var m,x,y=g();if(y)e?(x=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(y.seg.myFill.above=!y.seg.myFill.above):y.seg.otherFill=f.seg.myFill,r&&r.segmentUpdate(y.seg),f.other.remove(),f.remove();if(o.getHead()!==f){r&&r.rewind(f.seg);continue}e?(x=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=v?v.seg.myFill.above:a,f.seg.myFill.above=x?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(m=v?f.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:f.primary?i:a,f.seg.otherFill={above:m,below:m}),r&&r.status(f.seg,!!p&&p.seg,!!v&&v.seg),f.other.status=h.insert(n.node({ev:f}))}else{var _=f.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&u(_.prev.ev,_.next.ev),r&&r.statusRemove(_.ev.seg),_.remove(),!f.primary){var b=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=b}d.push(f.seg)}o.getHead().remove()}return r&&r.done(),d}return e?{addRegion:function(e){for(var n,a,o,i=e[e.length-1],s=0;s<e.length;s++){n=i,i=e[s];var c=t.pointsCompare(n,i);0!==c&&l((a=c<0?n:i,o=c<0?i:n,{id:r?r.segmentId():-1,start:a,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,r,n){return e.forEach(function(e){l(a(e.start,e.end,e),!0)}),r.forEach(function(e){l(a(e.start,e.end,e),!1)}),c(t,n)}}}},396:function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,r){for(var n=e.root,a=e.root.next;null!==a;){if(r(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);n=a,a=a.next}n.next=t,t.prev=n,t.next=null},findTransition:function(t){for(var r=e.root,n=e.root.next;null!==n&&!t(n);)r=n,n=n.next;return{before:r===e.root?null:r,after:n,insert:function(e){return e.prev=r,e.next=n,r.next=e,null!==n&&(n.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},397:function(e,t){e.exports=function(e,t,r){var n=[],a=[];return e.forEach(function(e){var o=e.start,i=e.end;if(t.pointsSame(o,i))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,u=0;u<n.length;u++){var d=(g=n[u])[0],f=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(d,o)){if(L(u,!0,!0))break}else if(t.pointsSame(d,i)){if(L(u,!0,!1))break}else if(t.pointsSame(f,o)){if(L(u,!1,!0))break}else if(t.pointsSame(f,i)&&L(u,!1,!1))break}if(c===l)return n.push([o,i]),void(r&&r.chainNew(o,i));if(c===s){r&&r.chainMatch(l.index);var h=l.index,p=l.matches_pt1?i:o,v=l.matches_head,g=n[h],m=v?g[0]:g[g.length-1],x=v?g[1]:g[g.length-2],y=v?g[g.length-1]:g[0],_=v?g[g.length-2]:g[1];return t.pointsCollinear(x,m,p)&&(v?(r&&r.chainRemoveHead(l.index,p),g.shift()):(r&&r.chainRemoveTail(l.index,p),g.pop()),m=x),t.pointsSame(y,p)?(n.splice(h,1),t.pointsCollinear(_,y,m)&&(v?(r&&r.chainRemoveTail(l.index,m),g.pop()):(r&&r.chainRemoveHead(l.index,m),g.shift())),r&&r.chainClose(l.index),void a.push(g)):void(v?(r&&r.chainAddHead(l.index,p),g.unshift(p)):(r&&r.chainAddTail(l.index,p),g.push(p)))}var b=l.index,w=s.index;r&&r.chainConnect(b,w);var k=n[b].length<n[w].length;l.matches_head?s.matches_head?k?(M(b),A(b,w)):(M(w),A(w,b)):A(w,b):s.matches_head?A(b,w):k?(M(b),A(w,b)):(M(w),A(b,w))}function L(e,t,r){return c.index=e,c.matches_head=t,c.matches_pt1=r,c===l?(c=s,!1):(c=null,!0)}function M(e){r&&r.chainReverse(e),n[e].reverse()}function A(e,a){var o=n[e],i=n[a],l=o[o.length-1],s=o[o.length-2],c=i[0],u=i[1];t.pointsCollinear(s,l,c)&&(r&&r.chainRemoveTail(e,l),o.pop(),l=s),t.pointsCollinear(l,c,u)&&(r&&r.chainRemoveHead(a,c),i.shift()),r&&r.chainJoin(e,a),n[e]=o.concat(i),n.splice(a,1)}}),a}},398:function(e,t){function r(e,t,r){var n=[];return e.forEach(function(e){var a=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[a]&&n.push({id:r?r.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[a],below:2===t[a]},otherFill:null})}),r&&r.selected(n),n}var n={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=n},399:function(e,t){var r={toPolygon:function(e,t){function r(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function r(t){var r=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[r]})}for(var n=r(t[0]),a=1;a<t.length;a++)n=e.selectDifference(e.combine(n,r(t[a])));return n}if("Polygon"===t.type)return e.polygon(r(t.coordinates));if("MultiPolygon"===t.type){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<t.coordinates.length;a++)n=e.selectUnion(e.combine(n,r(t.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,r){function n(e,r){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r)}function a(e){return{region:e,children:[]}}r=e.polygon(e.segments(r));var o=a(null);function i(e,t){for(var r=0;r<e.children.length;r++){if(n(t,(l=e.children[r]).region))return void i(l,t)}var o=a(t);for(r=0;r<e.children.length;r++){var l;n((l=e.children[r]).region,t)&&(o.children.push(l),e.children.splice(r,1),r--)}e.children.push(o)}for(var l=0;l<r.regions.length;l++){var s=r.regions[l];s.length<3||i(o,s)}function c(e,t){for(var r=0,n=e[e.length-1][0],a=e[e.length-1][1],o=[],i=0;i<e.length;i++){var l=e[i][0],s=e[i][1];o.push([l,s]),r+=s*n-l*a,n=l,a=s}return r<0!==t&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var u=[];function d(e){var t=[c(e.region,!1)];u.push(t);for(var r=0;r<e.children.length;r++)t.push(f(e.children[r]))}function f(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return c(e.region,!0)}for(l=0;l<o.children.length;l++)d(o.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=r},400:function(e,t,r){"use strict";var n=r(0),a=r(3);e.exports=function(e,t,r,o){var i,l=o("x"),s=o("y");if(a.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],r),l){var c=n.minRowLength(l);s?i=Math.min(c,n.minRowLength(s)):(i=c,o("y0"),o("dy"))}else{if(!s)return 0;i=n.minRowLength(s),o("x0"),o("dx")}return t._length=i,i}},401:function(e,t,r){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},402:function(e,t,r){"use strict";var n=r(0),a=r(14),o=r(100).isUnifiedHover,i=r(346),l=r(17),s=r(41),c=r(18),u=r(403),d=r(382),f=r(341),h=r(383),p=r(27),v=p.id2name,g=p.name2id,m=r(26).AX_ID_PATTERN,x=r(3),y=x.traceIs,_=x.getComponentMethod;function b(e,t,r){Array.isArray(e[t])?e[t].push(r):e[t]=[r]}e.exports=function(e,t,r){var x,w,k=t.autotypenumbers,L={},M={},A={},T={},S={},z={},C={},I={},D={},P={};for(x=0;x<r.length;x++){var O=r[x];if(y(O,"cartesian")||y(O,"gl2d")){var R,E;if(O.xaxis)R=v(O.xaxis),b(L,R,O);else if(O.xaxes)for(w=0;w<O.xaxes.length;w++)b(L,v(O.xaxes[w]),O);if(O.yaxis)E=v(O.yaxis),b(L,E,O);else if(O.yaxes)for(w=0;w<O.yaxes.length;w++)b(L,v(O.yaxes[w]),O);if("funnel"===O.type?"h"===O.orientation?(R&&(M[R]=!0),E&&(C[E]=!0)):E&&(A[E]=!0):"image"===O.type?(E&&(I[E]=!0),R&&(I[R]=!0)):(E&&(S[E]=!0,z[E]=!0),y(O,"carpet")&&("carpet"!==O.type||O._cheater)||R&&(T[R]=!0)),"carpet"===O.type&&O._cheater&&R&&(M[R]=!0),y(O,"2dMap")&&(D[R]=!0,D[E]=!0),y(O,"oriented"))P["h"===O.orientation?E:R]=!0}}var H=t._subplots,F=H.xaxis,B=H.yaxis,Z=n.simpleMap(F,v),N=n.simpleMap(B,v),V=Z.concat(N),G=a.background;F.length&&B.length&&(G=n.coerce(e,t,s,"plot_bgcolor"));var q,U,j,Y,X,W=a.combine(G,t.paper_bgcolor);function K(){var e=L[q]||[];X._traceIndices=e.map(function(e){return e._expandedIndex}),X._annIndices=[],X._shapeIndices=[],X._imgIndices=[],X._subplotsWith=[],X._counterAxes=[],X._name=X._attr=q,X._id=U}function Q(e,t){return n.coerce(Y,X,c,e,t)}function J(e,t){return n.coerce2(Y,X,c,e,t)}function $(e){return"x"===e?B:F}function ee(t,r){for(var n="x"===t?Z:N,a=[],o=0;o<n.length;o++){var i=n[o];i===r||(e[i]||{}).overlaying||a.push(g(i))}return a}var te={x:$("x"),y:$("y")},re=te.x.concat(te.y),ne={},ae=[];function oe(){var e=Y.matches;m.test(e)&&-1===re.indexOf(e)&&(ne[e]=Y.type,ae=Object.keys(ne))}var ie=i(e,t,r),le=o(ie);for(x=0;x<V.length;x++){q=V[x],U=g(q),j=q.charAt(0),n.isPlainObject(e[q])||(e[q]={}),Y=e[q],X=l.newContainer(t,q,j+"axis"),K();var se="x"===j&&!T[q]&&M[q]||"y"===j&&!S[q]&&A[q],ce="y"===j&&(!z[q]&&C[q]||I[q]),ue={letter:j,font:t.font,outerTicks:D[q],showGrid:!P[q],data:L[q]||[],bgColor:W,calendar:t.calendar,automargin:!0,visibleDflt:se,reverseDflt:ce,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[j]||{})[U]};Q("uirevision",t.uirevision),u(Y,X,Q,ue),d(Y,X,Q,ue,t);var de=le&&j===ie.charAt(0),fe=J("spikecolor",le?X.color:void 0),he=J("spikethickness",le?1.5:void 0),pe=J("spikedash",le?"dot":void 0),ve=J("spikemode",le?"across":void 0),ge=J("spikesnap",le?"hovered data":void 0);Q("showspikes",!!(de||fe||he||pe||ve||ge))||(delete X.spikecolor,delete X.spikethickness,delete X.spikedash,delete X.spikemode,delete X.spikesnap),h(Y,X,Q,{letter:j,counterAxes:te[j],overlayableAxes:ee(j,q),grid:t.grid}),Q("title.standoff"),oe(),X._input=Y}for(x=0;x<ae.length;){U=ae[x++],j=(q=v(U)).charAt(0),n.isPlainObject(e[q])||(e[q]={}),Y=e[q],X=l.newContainer(t,q,j+"axis"),K();var me={letter:j,font:t.font,outerTicks:D[q],showGrid:!P[q],data:[],bgColor:W,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[j]||{})[U]};Q("uirevision",t.uirevision),X.type=ne[U]||"linear",d(Y,X,Q,me,t),h(Y,X,Q,{letter:j,counterAxes:te[j],overlayableAxes:ee(j,q),grid:t.grid}),Q("fixedrange"),oe(),X._input=Y}var xe=_("rangeslider","handleDefaults"),ye=_("rangeselector","handleDefaults");for(x=0;x<Z.length;x++)q=Z[x],Y=e[q],X=t[q],xe(e,t,q),"date"===X.type&&ye(Y,X,t,N,X.calendar),Q("fixedrange");for(x=0;x<N.length;x++){q=N[x],Y=e[q],X=t[q];var _e=t[v(X.anchor)];Q("fixedrange",_("rangeslider","isVisible")(_e))}f.handleDefaults(e,t,{axIds:re.concat(ae).sort(p.idSort),axHasImage:I})}},403:function(e,t,r){"use strict";var n=r(3).traceIs,a=r(120);function o(e){return{v:"x",h:"y"}[e.orientation||"v"]}function i(e,t){var r=o(e),a=n(e,"box-violin"),i=n(e._fullInput||{},"candlestick");return a&&!i&&t===r&&void 0===e[r]&&void 0===e[r+"0"]}e.exports=function(e,t,r,l){r("autotypenumbers",l.autotypenumbersDflt),"-"===r("type",(l.splomStash||{}).type)&&(!function(e,t){if("-"!==e.type)return;var r,l=e._id,s=l.charAt(0);-1!==l.indexOf("scene")&&(l=s);var c=function(e,t,r){for(var n=0;n<e.length;n++){var a=e[n];if("splom"===a.type&&a._length>0&&(a["_"+r+"axes"]||{})[t])return a;if((a[r+"axis"]||r)===t){if(i(a,r))return a;if((a[r]||[]).length||a[r+"0"])return a}}}(t,l,s);if(!c)return;if("histogram"===c.type&&s==={v:"y",h:"x"}[c.orientation||"v"])return void(e.type="linear");var u=s+"calendar",d=c[u],f={noMultiCategory:!n(c,"cartesian")||n(c,"noMultiCategory")};"box"===c.type&&c._hasPreCompStats&&s==={h:"x",v:"y"}[c.orientation||"v"]&&(f.noMultiCategory=!0);if(f.autotypenumbers=e.autotypenumbers,i(c,s)){var h=o(c),p=[];for(r=0;r<t.length;r++){var v=t[r];n(v,"box-violin")&&(v[s+"axis"]||s)===l&&(void 0!==v[h]?p.push(v[h][0]):void 0!==v.name?p.push(v.name):p.push("text"),v[u]!==d&&(d=void 0))}e.type=a(p,d,f)}else if("splom"===c.type){var g=c.dimensions,m=g[c._axesDim[l]];m.visible&&(e.type=a(m.values,d,f))}else e.type=a(c[s]||[c[s+"0"]],d,f)}(t,l.data),"-"===t.type?t.type="linear":e.type=t.type)}},404:function(e,t,r){"use strict";e.exports=function(e,t,r,n){if("category"===t.type){var a,o=e.categoryarray,i=Array.isArray(o)&&o.length>0;i&&(a="array");var l,s=r("categoryorder",a);"array"===s&&(l=r("categoryarray")),i||"array"!==s||(s=t.categoryorder="trace"),"trace"===s?t._initialCategories=[]:"array"===s?t._initialCategories=l.slice():(l=function(e,t){var r,n,a,o=t.dataAttr||e._id.charAt(0),i={};if(t.axData)r=t.axData;else for(r=[],n=0;n<t.data.length;n++){var l=t.data[n];l[o+"axis"]===e._id&&r.push(l)}for(n=0;n<r.length;n++){var s=r[n][o];for(a=0;a<s.length;a++){var c=s[a];null!==c&&void 0!==c&&(i[c]=1)}}return Object.keys(i)}(t,n).sort(),"category ascending"===s?t._initialCategories=l:"category descending"===s&&(t._initialCategories=l.reverse()))}}},405:function(e,t,r){"use strict";var n=r(19).mix,a=r(40).lightFraction,o=r(0);e.exports=function(e,t,r,i){var l=(i=i||{}).dfltColor;function s(r,n){return o.coerce2(e,t,i.attributes,r,n)}var c=s("linecolor",l),u=s("linewidth");r("showline",i.showLine||!!c||!!u)||(delete t.linecolor,delete t.linewidth);var d=s("gridcolor",n(l,i.bgColor,i.blend||a).toRgbString()),f=s("gridwidth");if(r("showgrid",i.showGrid||!!d||!!f)||(delete t.gridcolor,delete t.gridwidth),!i.noZeroLine){var h=s("zerolinecolor",l),p=s("zerolinewidth");r("zeroline",i.showGrid||!!h||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},406:function(e,t,r){"use strict";var n=r(4),a=r(3),o=r(0),i=r(38),l=r(99);e.exports=function(e,t,r,s){var c=e._fullLayout;if(0!==t.length){var u,d,f,h;s&&(u=s());var p=n.ease(r.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(h),h=null,function(){for(var r={},n=0;n<t.length;n++){var o=t[n],i=o.plotinfo.xaxis,l=o.plotinfo.yaxis;o.xr0&&(r[i._name+".range"]=o.xr0.slice()),o.yr0&&(r[l._name+".range"]=o.yr0.slice())}return a.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)})}()}),d=Date.now(),h=window.requestAnimationFrame(function n(){f=Date.now();for(var o=Math.min(1,(f-d)/r.duration),i=p(o),l=0;l<t.length;l++)g(t[l],i);f-d>r.duration?(function(){for(var r={},n=0;n<t.length;n++){var o=t[n],i=o.plotinfo.xaxis,l=o.plotinfo.yaxis;o.xr1&&(r[i._name+".range"]=o.xr1.slice()),o.yr1&&(r[l._name+".range"]=o.yr1.slice())}u&&u(),a.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)})}(),h=window.cancelAnimationFrame(n)):h=window.requestAnimationFrame(n)}),Promise.resolve()}function v(e){var t=e.xaxis,r=e.yaxis;c._defs.select("#"+e.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),e.plot.call(i.setTranslate,t._offset,r._offset).call(i.setScale,1,1);var n=e.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(i.setPointGroupScale,1,1),n.selectAll(".textpoint").call(i.setTextPointsScale,1,1),n.call(i.hideOutsideRangePoints,e)}function g(t,r){var n=t.plotinfo,a=n.xaxis,s=n.yaxis,c=a._length,u=s._length,d=!!t.xr1,f=!!t.yr1,h=[];if(d){var p=o.simpleMap(t.xr0,a.r2l),v=o.simpleMap(t.xr1,a.r2l),g=p[1]-p[0],m=v[1]-v[0];h[0]=(p[0]*(1-r)+r*v[0]-p[0])/(p[1]-p[0])*c,h[2]=c*(1-r+r*m/g),a.range[0]=a.l2r(p[0]*(1-r)+r*v[0]),a.range[1]=a.l2r(p[1]*(1-r)+r*v[1])}else h[0]=0,h[2]=c;if(f){var x=o.simpleMap(t.yr0,s.r2l),y=o.simpleMap(t.yr1,s.r2l),_=x[1]-x[0],b=y[1]-y[0];h[1]=(x[1]*(1-r)+r*y[1]-x[1])/(x[0]-x[1])*u,h[3]=u*(1-r+r*b/_),s.range[0]=a.l2r(x[0]*(1-r)+r*y[0]),s.range[1]=s.l2r(x[1]*(1-r)+r*y[1])}else h[1]=0,h[3]=u;l.drawOne(e,a,{skipTitle:!0}),l.drawOne(e,s,{skipTitle:!0}),l.redrawComponents(e,[a._id,s._id]);var w=d?c/h[2]:1,k=f?u/h[3]:1,L=d?h[0]:0,M=f?h[1]:0,A=d?h[0]/h[2]*c:0,T=f?h[1]/h[3]*u:0,S=a._offset-A,z=s._offset-T;n.clipRect.call(i.setTranslate,L,M).call(i.setScale,1/w,1/k),n.plot.call(i.setTranslate,S,z).call(i.setScale,w,k),i.setPointGroupScale(n.zoomScalePts,1/w,1/k),i.setTextPointsScale(n.zoomScaleTxt,1/w,1/k)}l.redrawComponents(e)}},408:function(e,t,r){"use strict";var n=r(110),a=r(60).hovertemplateAttrs,o=r(60).texttemplateAttrs,i=r(43),l=r(11),s=r(419),c=r(7).extendFlat,u=l({editType:"calc",arrayOk:!0,colorEditType:"style"}),d=c({line:c({width:c({},n.marker.line.width,{dflt:0}),editType:"calc"},i("marker.line")),editType:"calc"},i("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"}});e.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,xperiod:n.xperiod,yperiod:n.yperiod,xperiod0:n.xperiod0,yperiod0:n.yperiod0,xperiodalignment:n.xperiodalignment,yperiodalignment:n.yperiodalignment,text:n.text,texttemplate:o({editType:"plot"},{keys:s.eventDataKeys}),hovertext:n.hovertext,hovertemplate:a({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:c({},u,{}),insidetextfont:c({},u,{}),outsidetextfont:c({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:c({},n.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:d,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:n.selected.marker.opacity,color:n.selected.marker.color,editType:"style"},textfont:n.selected.textfont,editType:"style"},unselected:{marker:{opacity:n.unselected.marker.opacity,color:n.unselected.marker.color,editType:"style"},textfont:n.unselected.textfont,editType:"style"},r:n.r,t:n.t,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},416:function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.isArrayOrTypedArray(t.selectedpoints)&&n.tagSelected(e,t)}},417:function(e,t,r){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},419:function(e,t,r){"use strict";e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},420:function(e,t,r){"use strict";var n=r(4),a=r(0);function o(e){return"_"+e+"Text_minsize"}e.exports={recordMinTextSize:function(e,t,r){if(r.uniformtext.mode){var n=o(e),a=r.uniformtext.minsize,i=t.scale*t.fontSize;t.hide=i<a,r[n]=r[n]||1/0,t.hide||(r[n]=Math.min(r[n],Math.max(i,a)))}},clearMinTextSize:function(e,t){t[o(e)]=void 0},resizeText:function(e,t,r){var o=e._fullLayout,i=o["_"+r+"Text_minsize"];if(i){var l,s="hide"===o.uniformtext.mode;switch(r){case"funnelarea":case"pie":case"sunburst":l="g.slice";break;case"treemap":l="g.slice, g.pathbar";break;default:l="g.points > g.point"}t.selectAll(l).each(function(e){var t=e.transform;t&&(t.scale=s&&t.hide?0:i/t.fontSize,n.select(this).select("text").attr("transform",a.getTextTransform(t)))})}}}},428:function(e,t,r){"use strict";var n=r(0),a=r(14),o=r(3),i=r(400),l=r(377),s=r(473),c=r(341).getAxisGroup,u=r(408),d=n.coerceFont;function f(e,t,r,n){var a=t.orientation,o=t[{v:"x",h:"y"}[a]+"axis"],i=c(r,o)+a,l=r._alignmentOpts||{},s=n("alignmentgroup"),u=l[i];u||(u=l[i]={});var d=u[s];d?d.traces.push(t):d=u[s]={traces:[t],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var f=n("offsetgroup"),h=d.offsetGroups,p=h[f];f&&(p||(p=h[f]={offsetIndex:Object.keys(h).length}),t._offsetIndex=p.offsetIndex)}function h(e,t,r,a,o,i){var l=!(!1===(i=i||{}).moduleHasSelected),s=!(!1===i.moduleHasUnselected),c=!(!1===i.moduleHasConstrain),u=!(!1===i.moduleHasCliponaxis),f=!(!1===i.moduleHasTextangle),h=!(!1===i.moduleHasInsideanchor),p=!!i.hasPathbar,v=Array.isArray(o)||"auto"===o,g=v||"inside"===o,m=v||"outside"===o;if(g||m){var x=d(a,"textfont",r.font),y=n.extendFlat({},x),_=!(e.textfont&&e.textfont.color);if(_&&delete y.color,d(a,"insidetextfont",y),p){var b=n.extendFlat({},x);_&&delete b.color,d(a,"pathbar.textfont",b)}m&&d(a,"outsidetextfont",x),l&&a("selected.textfont.color"),s&&a("unselected.textfont.color"),c&&a("constraintext"),u&&a("cliponaxis"),f&&a("textangle"),a("texttemplate")}g&&h&&a("insidetextanchor")}e.exports={supplyDefaults:function(e,t,r,c){function d(r,a){return n.coerce(e,t,u,r,a)}if(i(e,t,c,d)){l(e,t,c,d),d("orientation",t.x&&!t.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var f=d("textposition");h(e,0,c,d,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(e,t,d,r,c);var p=(t.marker.line||{}).color,v=o.getComponentMethod("errorbars","supplyDefaults");v(e,t,p||a.defaultLine,{axis:"y"}),v(e,t,p||a.defaultLine,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(t,d)}else t.visible=!1},crossTraceDefaults:function(e,t){var r;function a(e){return n.coerce(r._input,r,u,e)}if("group"===t.barmode)for(var o=0;o<e.length;o++)"bar"===(r=e[o]).type&&(r._input,f(0,r,t,a))},handleGroupingDefaults:f,handleText:h}},429:function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;n.mergeArray(t.text,e,"tx"),n.mergeArray(t.hovertext,e,"htx");var a=t.marker;if(a){n.mergeArray(a.opacity,e,"mo",!0),n.mergeArray(a.color,e,"mc");var o=a.line;o&&(n.mergeArray(o.color,e,"mlc"),n.mergeArrayCastPositive(o.width,e,"mlw"))}}},473:function(e,t,r){"use strict";var n=r(14),a=r(29).hasColorscale,o=r(61);e.exports=function(e,t,r,i,l){r("marker.color",i),a(e,"marker")&&o(e,t,l,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",n.defaultLine),a(e,"marker.line")&&o(e,t,l,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),r("selected.marker.color"),r("unselected.marker.color")}},474:function(e,t,r){"use strict";var n=r(4),a=r(14),o=r(38),i=r(0),l=r(3),s=r(420).resizeText,c=r(408),u=c.textfont,d=c.insidetextfont,f=c.outsidetextfont,h=r(475);function p(e,t,r){o.pointStyle(e.selectAll("path"),t,r),v(e,t,r)}function v(e,t,r){e.selectAll("text").each(function(e){var a=n.select(this),l=i.ensureUniformFontSize(r,g(a,e,t,r));o.font(a,l)})}function g(e,t,r,n){var a=n._fullLayout.font,o=r.textfont;if(e.classed("bartext-inside")){var i=b(t,r);o=x(r,t.i,a,i)}else e.classed("bartext-outside")&&(o=y(r,t.i,a));return o}function m(e,t,r){return _(u,e.textfont,t,r)}function x(e,t,r,n){var o=m(e,t,r);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(o={color:a.contrast(n),family:o.family,size:o.size}),_(d,e.insidetextfont,t,o)}function y(e,t,r){var n=m(e,t,r);return _(f,e.outsidetextfont,t,n)}function _(e,t,r,n){t=t||{};var a=h.getValue(t.family,r),o=h.getValue(t.size,r),i=h.getValue(t.color,r);return{family:h.coerceString(e.family,a,n.family),size:h.coerceNumber(e.size,o,n.size),color:h.coerceColor(e.color,i,n.color)}}function b(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mc||t.marker.color}e.exports={style:function(e){var t=n.select(e).selectAll("g.barlayer").selectAll("g.trace");s(e,t,"bar");var r=t.size(),a=e._fullLayout;t.style("opacity",function(e){return e[0].trace.opacity}).each(function(e){("stack"===a.barmode&&r>1||0===a.bargap&&0===a.bargroupgap&&!e[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")}),t.selectAll("g.points").each(function(t){p(n.select(this),t[0].trace,e)}),l.getComponentMethod("errorbars","style")(t)},styleTextPoints:v,styleOnSelect:function(e,t,r){var a=t[0].trace;a.selectedpoints?function(e,t,r){o.selectedPointStyle(e.selectAll("path"),t),function(e,t,r){e.each(function(e){var a,l=n.select(this);if(e.selected){a=i.ensureUniformFontSize(r,g(l,e,t,r));var s=t.selected.textfont&&t.selected.textfont.color;s&&(a.color=s),o.font(l,a)}else o.selectedTextStyle(l,t)})}(e.selectAll("text"),t,r)}(r,a,e):(p(r,a,e),l.getComponentMethod("errorbars","style")(r))},getInsideTextFont:x,getOutsideTextFont:y,getBarColor:b,resizeText:s}},475:function(e,t,r){"use strict";var n=r(1),a=r(19),o=r(0).isArrayOrTypedArray;t.coerceString=function(e,t,r){if("string"==typeof t){if(t||!e.noBlank)return t}else if(("number"==typeof t||!0===t)&&!e.strict)return String(t);return void 0!==r?r:e.dflt},t.coerceNumber=function(e,t,r){if(n(t)){t=+t;var a=e.min,o=e.max;if(!(void 0!==a&&t<a||void 0!==o&&t>o))return t}return void 0!==r?r:e.dflt},t.coerceColor=function(e,t,r){return a(t).isValid()?t:void 0!==r?r:e.dflt},t.coerceEnumerated=function(e,t,r){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==r?r:e.dflt},t.getValue=function(e,t){var r;return Array.isArray(e)?t<e.length&&(r=e[t]):r=e,r},t.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:o(e.marker.line.width)?0:e.marker.line.width}},510:function(e,t,r){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},587:function(e,t,r){"use strict";e.exports={attributes:r(408),layoutAttributes:r(510),supplyDefaults:r(428).supplyDefaults,crossTraceDefaults:r(428).crossTraceDefaults,supplyLayoutDefaults:r(588),calc:r(589),crossTraceCalc:r(590).crossTraceCalc,colorbar:r(417),arraysToCalcdata:r(429),plot:r(592).plot,style:r(474).style,styleOnSelect:r(474).styleOnSelect,hoverPoints:r(593).hoverPoints,eventData:r(594),selectPoints:r(595),moduleType:"trace",name:"bar",basePlotModule:r(381),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},588:function(e,t,r){"use strict";var n=r(3),a=r(99),o=r(0),i=r(510);e.exports=function(e,t,r){function l(r,n){return o.coerce(e,t,i,r,n)}for(var s=!1,c=!1,u=!1,d={},f=l("barmode"),h=0;h<r.length;h++){var p=r[h];if(n.traceIs(p,"bar")&&p.visible){if(s=!0,"group"===f){var v=p.xaxis+p.yaxis;d[v]&&(u=!0),d[v]=!0}if(p.visible&&"histogram"===p.type)"category"!==a.getFromId({_fullLayout:t},p["v"===p.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}s?("overlay"!==f&&l("barnorm"),l("bargap",c&&!u?0:.2),l("bargroupgap")):delete t.barmode}},589:function(e,t,r){"use strict";var n=r(99),a=r(380),o=r(29).hasColorscale,i=r(117),l=r(429),s=r(416);e.exports=function(e,t){var r,c,u,d,f=n.getFromId(e,t.xaxis||"x"),h=n.getFromId(e,t.yaxis||"y"),p={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(r=f.makeCalcdata(t,"x",p),u=h.makeCalcdata(t,"y"),c=a(t,h,"y",u),d=!!t.yperiodalignment):(r=h.makeCalcdata(t,"y",p),u=f.makeCalcdata(t,"x"),c=a(t,f,"x",u),d=!!t.xperiodalignment);for(var v=Math.min(c.length,r.length),g=new Array(v),m=0;m<v;m++)g[m]={p:c[m],s:r[m]},d&&(g[m].orig_p=u[m]),t.ids&&(g[m].id=String(t.ids[m]));return o(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),o(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(g,t),s(g,t),g}},590:function(e,t,r){"use strict";var n=r(1),a=r(0).isArrayOrTypedArray,o=r(5).BADNUM,i=r(3),l=r(99),s=r(341).getAxisGroup,c=r(591);function u(e,t,r,i,u){if(i.length){var _,b,w,k;switch(function(e,t){var r,o;for(r=0;r<t.length;r++){var i,l=t[r],s=l[0].trace,c="funnel"===s.type?s._base:s.base,u="h"===s.orientation?s.xcalendar:s.ycalendar,d="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(a(c)){for(o=0;o<Math.min(c.length,l.length);o++)i=d(c[o],0,u),n(i)?(l[o].b=+i,l[o].hasB=1):l[o].b=0;for(;o<l.length;o++)l[o].b=0}else{i=d(c,0,u);var f=n(i);for(i=f?i:0,o=0;o<l.length;o++)l[o].b=i,f&&(l[o].hasB=1)}}}(r,i),u.mode){case"overlay":d(t,r,i,u);break;case"group":for(_=[],b=[],w=0;w<i.length;w++)void 0===(k=i[w])[0].trace.offset?b.push(k):_.push(k);b.length&&function(e,t,r,n,a){var i=new c(n,{sepNegVal:!1,overlapNoMerge:!a.norm});(function(e,t,r,n){for(var a=e._fullLayout,o=r.positions,i=r.distinctPositions,l=r.minDiff,c=r.traces,u=c.length,d=o.length!==i.length,f=l*(1-n.gap),g=s(a,t._id)+c[0][0].trace.orientation,m=a._alignmentOpts[g]||{},x=0;x<u;x++){var y,_,b=c[x],w=b[0].trace,k=m[w.alignmentgroup]||{},L=Object.keys(k.offsetGroups||{}).length,M=(y=L?f/L:d?f/u:f)*(1-(n.groupgap||0));_=L?((2*w._offsetIndex+1-L)*y-M)/2:d?((2*x+1-u)*y-M)/2:-M/2;var A=b[0].t;A.barwidth=M,A.poffset=_,A.bargroupwidth=f,A.bardelta=l}r.binWidth=c[0][0].t.barwidth/100,h(r),p(t,r),v(t,r,d)})(e,t,i,a),function(e){for(var t=e.traces,r=0;r<t.length;r++){var n=t[r],a=n[0].trace;if(void 0===a.base)for(var i=new c([n],{sepNegVal:!0,overlapNoMerge:!0}),l=0;l<n.length;l++){var s=n[l];if(s.p!==o){var u=i.put(s.p,s.b+s.s);u&&(s.b=u)}}}}(i),a.norm?(m(i),x(r,i,a)):g(r,i)}(e,t,r,b,u),_.length&&d(t,r,_,u);break;case"stack":case"relative":for(_=[],b=[],w=0;w<i.length;w++)void 0===(k=i[w])[0].trace.base?b.push(k):_.push(k);b.length&&function(e,t,r,n,a){var i=new c(n,{sepNegVal:"relative"===a.mode,overlapNoMerge:!(a.norm||"stack"===a.mode||"relative"===a.mode)});f(t,i,a),function(e,t,r){var n,a,i,s,c,u,d=y(e),f=t.traces;for(s=0;s<f.length;s++)if(n=f[s],"funnel"===(a=n[0].trace).type)for(c=0;c<n.length;c++)(u=n[c]).s!==o&&t.put(u.p,-.5*u.s);for(s=0;s<f.length;s++){n=f[s],a=n[0].trace,i="funnel"===a.type;var h=[];for(c=0;c<n.length;c++)if((u=n[c]).s!==o){var p;p=i?u.s:u.s+u.b;var v=t.put(u.p,p),g=v+p;u.b=v,u[d]=g,r.norm||(h.push(g),u.hasB&&h.push(v))}r.norm||(a._extremes[e._id]=l.findExtremes(e,h,{tozero:!0,padded:!0}))}}(r,i,a);for(var s=0;s<n.length;s++)for(var u=n[s],d=0;d<u.length;d++){var h=u[d];if(h.s!==o){var p=h.b+h.s===i.get(h.p,h.s);p&&(h._outmost=!0)}}a.norm&&x(r,i,a)}(0,t,r,b,u),_.length&&d(t,r,_,u)}!function(e,t){var r,a,o,i=y(t),l={},s=1/0,c=-1/0;for(r=0;r<e.length;r++)for(o=e[r],a=0;a<o.length;a++){var u=o[a].p;n(u)&&(s=Math.min(s,u),c=Math.max(c,u))}var d=1e4/(c-s),f=l.round=function(e){return String(Math.round(d*(e-s)))};for(r=0;r<e.length;r++){(o=e[r])[0].t.extents=l;var h=o[0].t.poffset,p=Array.isArray(h);for(a=0;a<o.length;a++){var v=o[a],g=v[i]-v.w/2;if(n(g)){var m=v[i]+v.w/2,x=f(v.p);l[x]?l[x]=[Math.min(g,l[x][0]),Math.max(m,l[x][1])]:l[x]=[g,m]}v.p0=v.p+(p?h[a]:h),v.p1=v.p0+v.w,v.s0=v.b,v.s1=v.s0+v.s}}}(i,t)}}function d(e,t,r,n){for(var a=0;a<r.length;a++){var o=r[a],i=new c([o],{unitMinDiff:n.xCat||n.yCat,sepNegVal:!1,overlapNoMerge:!n.norm});f(e,i,n),n.norm?(m(i),x(t,i,n)):g(t,i)}}function f(e,t,r){for(var n=t.minDiff,a=t.traces,o=n*(1-r.gap),i=o*(1-(r.groupgap||0)),l=-i/2,s=0;s<a.length;s++){var c=a[s][0].t;c.barwidth=i,c.poffset=l,c.bargroupwidth=o,c.bardelta=n}t.binWidth=a[0][0].t.barwidth/100,h(t),p(e,t),v(e,t)}function h(e){var t,r,o=e.traces;for(t=0;t<o.length;t++){var i,l=o[t],s=l[0],c=s.trace,u=s.t,d=c._offset||c.offset,f=u.poffset;if(a(d)){for(i=Array.prototype.slice.call(d,0,l.length),r=0;r<i.length;r++)n(i[r])||(i[r]=f);for(r=i.length;r<l.length;r++)i.push(f);u.poffset=i}else void 0!==d&&(u.poffset=d);var h=c._width||c.width,p=u.barwidth;if(a(h)){var v=Array.prototype.slice.call(h,0,l.length);for(r=0;r<v.length;r++)n(v[r])||(v[r]=p);for(r=v.length;r<l.length;r++)v.push(p);if(u.barwidth=v,void 0===d){for(i=[],r=0;r<l.length;r++)i.push(f+(p-v[r])/2);u.poffset=i}}else void 0!==h&&(u.barwidth=h,void 0===d&&(u.poffset=f+(p-h)/2))}}function p(e,t){for(var r=t.traces,n=y(e),a=0;a<r.length;a++)for(var o=r[a],i=o[0].t,l=i.poffset,s=Array.isArray(l),c=i.barwidth,u=Array.isArray(c),d=0;d<o.length;d++){var f=o[d],h=f.w=u?c[d]:c;f[n]=f.p+(s?l[d]:l)+h/2}}function v(e,t,r){var n=t.traces,a=t.minDiff/2;l.minDtick(e,t.minDiff,t.distinctPositions[0],r);for(var o=0;o<n.length;o++){var i,s,c,u,d=n[o],f=d[0],h=f.trace,p=[];for(u=0;u<d.length;u++)s=(i=d[u]).p-a,c=i.p+a,p.push(s,c);if(h.width||h.offset){var v=f.t,g=v.poffset,m=v.barwidth,x=Array.isArray(g),y=Array.isArray(m);for(u=0;u<d.length;u++){i=d[u];var _=x?g[u]:g,b=y?m[u]:m;c=(s=i.p+_)+b,p.push(s,c)}}h._extremes[e._id]=l.findExtremes(e,p,{padded:!1})}}function g(e,t){for(var r=t.traces,n=y(e),a=0;a<r.length;a++){for(var o=r[a],i=o[0].trace,s=[],c=!1,u=0;u<o.length;u++){var d=o[u],f=d.b,h=f+d.s;d[n]=h,s.push(h),d.hasB&&s.push(f),d.hasB&&d.b||(c=!0)}i._extremes[e._id]=l.findExtremes(e,s,{tozero:c,padded:!0})}}function m(e){for(var t=e.traces,r=0;r<t.length;r++)for(var n=t[r],a=0;a<n.length;a++){var i=n[a];i.s!==o&&e.put(i.p,i.b+i.s)}}function x(e,t,r){var a=t.traces,i=y(e),s="fraction"===r.norm?1:100,c=s/1e9,u=e.l2c(e.c2l(0)),d="stack"===r.mode?s:u;function f(t){return n(e.c2l(t))&&(t<u-c||t>d+c||!n(u))}for(var h=0;h<a.length;h++){for(var p=a[h],v=p[0].trace,g=[],m=!1,x=!1,_=0;_<p.length;_++){var b=p[_];if(b.s!==o){var w=Math.abs(s/t.get(b.p,b.s));b.b*=w,b.s*=w;var k=b.b,L=k+b.s;b[i]=L,g.push(L),x=x||f(L),b.hasB&&(g.push(k),x=x||f(k)),b.hasB&&b.b||(m=!0)}}v._extremes[e._id]=l.findExtremes(e,g,{tozero:m,padded:x})}}function y(e){return e._id.charAt(0)}e.exports={crossTraceCalc:function(e,t){for(var r=t.xaxis,n=t.yaxis,a=e._fullLayout,o=e._fullData,l=e.calcdata,s=[],c=[],d=0;d<o.length;d++){var f=o[d];if(!0===f.visible&&i.traceIs(f,"bar")&&f.xaxis===r._id&&f.yaxis===n._id&&("h"===f.orientation?s.push(l[d]):c.push(l[d]),f._computePh))for(var h=e.calcdata[d],p=0;p<h.length;p++)"function"==typeof h[p].ph0&&(h[p].ph0=h[p].ph0()),"function"==typeof h[p].ph1&&(h[p].ph1=h[p].ph1())}var v={xCat:"category"===r.type||"multicategory"===r.type,yCat:"category"===n.type||"multicategory"===n.type,mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};u(e,r,n,c,v),u(e,n,r,s,v)},setGroupPositions:u}},591:function(e,t,r){"use strict";e.exports=o;var n=r(0).distinctVals,a=r(5).BADNUM;function o(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var r=1/0,o=[],i=0;i<e.length;i++){for(var l=e[i],s=0;s<l.length;s++){var c=l[s];c.p!==a&&o.push(c.p)}l[0]&&l[0].width1&&(r=Math.min(l[0].width1,r))}this.positions=o;var u=n(o,{unitMinDiff:t.unitMinDiff});this.distinctPositions=u.vals,1===u.vals.length&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(u.minDiff,r),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,t){var r=this.getLabel(e,t),n=this.bins[r]||0;return this.bins[r]=n+t,n},o.prototype.get=function(e,t){var r=this.getLabel(e,t);return this.bins[r]||0},o.prototype.getLabel=function(e,t){return(t<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},592:function(e,t,r){"use strict";var n=r(4),a=r(1),o=r(0),i=r(39),l=r(14),s=r(38),c=r(3),u=r(99).tickText,d=r(420),f=d.recordMinTextSize,h=d.clearMinTextSize,p=r(474),v=r(475),g=r(419),m=r(408),x=m.text,y=m.textposition,_=r(100).appendArrayPointValue,b=g.TEXTPAD;function w(e){return e.id}function k(e){if(e.ids)return w}function L(e,t){return e<t?1:-1}function M(e,t,r,n){var a;return!t.uniformtext.mode&&A(r)?(n&&(a=n()),e.transition().duration(r.duration).ease(r.easing).each("end",function(){a&&a()}).each("interrupt",function(){a&&a()})):e}function A(e){return e&&e.duration>0}function T(e){return"auto"===e?0:e}function S(e,t){var r=Math.PI/180*t,n=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r));return{x:e.width*a+e.height*n,y:e.width*n+e.height*a}}function z(e,t,r,n,a,o){var i=!!o.isHorizontal,l=!!o.constrained,s=o.angle||0,c=o.anchor||"end",u="end"===c,d="start"===c,f=((o.leftToRight||0)+1)/2,h=1-f,p=a.width,v=a.height,g=Math.abs(t-e),m=Math.abs(n-r),x=g>2*b&&m>2*b?b:0;g-=2*x,m-=2*x;var y=T(s);"auto"!==s||p<=g&&v<=m||!(p>g||v>m)||(p>m||v>g)&&p<v==g<m||(y+=90);var _=S(a,y),w=1;l&&(w=Math.min(1,g/_.x,m/_.y));var k=a.left*h+a.right*f,M=(a.top+a.bottom)/2,A=(e+b)*h+(t-b)*f,z=(r+n)/2,C=0,I=0;if(d||u){var D=(i?_.x:_.y)/2,P=i?L(e,t):L(r,n);i?d?(A=e+P*x,C=-P*D):(A=t-P*x,C=P*D):d?(z=r+P*x,I=-P*D):(z=n-P*x,I=P*D)}return{textX:k,textY:M,targetX:A,targetY:z,anchorX:C,anchorY:I,scale:w,rotate:y}}e.exports={plot:function(e,t,r,d,g,m){var w=t.xaxis,C=t.yaxis,I=e._fullLayout;g||(g={mode:I.barmode,norm:I.barmode,gap:I.bargap,groupgap:I.bargroupgap},h("bar",I));var D=o.makeTraceGroups(d,r,"trace bars").each(function(r){var c=n.select(this),d=r[0].trace,h="waterfall"===d.type,D="funnel"===d.type,P="bar"===d.type||D,O=0;h&&d.connector.visible&&"between"===d.connector.mode&&(O=d.connector.line.width/2);var R="h"===d.orientation,E=A(g),H=o.ensureSingle(c,"g","points"),F=k(d),B=H.selectAll("g.point").data(o.identity,F);B.enter().append("g").classed("point",!0),B.exit().remove(),B.each(function(c,h){var k,A,D=n.select(this),H=function(e,t,r,n){var a=[],o=[],i=n?t:r,l=n?r:t;return a[0]=i.c2p(e.s0,!0),o[0]=l.c2p(e.p0,!0),a[1]=i.c2p(e.s1,!0),o[1]=l.c2p(e.p1,!0),n?[a,o]:[o,a]}(c,w,C,R),F=H[0][0],B=H[0][1],Z=H[1][0],N=H[1][1],V=0==(R?B-F:N-Z);if(V&&P&&v.getLineWidth(d,c)&&(V=!1),V||(V=!(a(F)&&a(B)&&a(Z)&&a(N))),c.isBlank=V,V&&(R?B=F:N=Z),O&&!V&&(R?B+=L(F-=L(F,B)*O,B)*O:N+=L(Z-=L(Z,N)*O,N)*O),"waterfall"===d.type){if(!V){var G=d[c.dir].marker;k=G.line.width,A=G.color}}else k=v.getLineWidth(d,c),A=c.mc||d.marker.color;function q(e){var t=n.round(k/2%1,2);return 0===g.gap&&0===g.groupgap?n.round(Math.round(e)-t,2):e}if(!e._context.staticPlot){var U=l.opacity(A)<1||k>.01?q:function(e,t,r){return r&&e===t?e:Math.abs(e-t)>=2?q(e):e>t?Math.ceil(e):Math.floor(e)};B=U(B,F=U(F,B,R),R),N=U(N,Z=U(Z,N,!R),!R)}var j=M(o.ensureSingle(D,"path"),I,g,m);if(j.style("vector-effect","non-scaling-stroke").attr("d",isNaN((B-F)*(N-Z))||V&&e._context.staticPlot?"M0,0Z":"M"+F+","+Z+"V"+N+"H"+B+"V"+Z+"Z").call(s.setClipUrl,t.layerClipId,e),!I.uniformtext.mode&&E){var Y=s.makePointStyleFns(d);s.singlePointStyle(c,j,d,Y,e)}!function(e,t,r,n,a,l,c,d,h,g,m){var w,k=t.xaxis,A=t.yaxis,C=e._fullLayout;function I(t,r,n){var a=o.ensureSingle(t,"text").text(r).attr({class:"bartext bartext-"+w,"text-anchor":"middle","data-notex":1}).call(s.font,n).call(i.convertToTspans,e);return a}var D=n[0].trace,P="h"===D.orientation,O=function(e,t,r,n,a){var i,l=t[0].trace;return i=l.texttemplate?function(e,t,r,n,a){var i=t[0].trace,l=o.castOption(i,r,"texttemplate");if(!l)return"";var s,c,d,f,h="waterfall"===i.type,p="funnel"===i.type;function v(e){return u(f,+e,!0).text}"h"===i.orientation?(s="y",c=a,d="x",f=n):(s="x",c=n,d="y",f=a);var g,m=t[r],x={};x.label=m.p,x.labelLabel=x[s+"Label"]=(g=m.p,u(c,g,!0).text);var y=o.castOption(i,m.i,"text");(0===y||y)&&(x.text=y),x.value=m.s,x.valueLabel=x[d+"Label"]=v(m.s);var b={};_(b,i,m.i),h&&(x.delta=+m.rawS||m.s,x.deltaLabel=v(x.delta),x.final=m.v,x.finalLabel=v(x.final),x.initial=x.final-x.delta,x.initialLabel=v(x.initial)),p&&(x.value=m.s,x.valueLabel=v(x.value),x.percentInitial=m.begR,x.percentInitialLabel=o.formatPercent(m.begR),x.percentPrevious=m.difR,x.percentPreviousLabel=o.formatPercent(m.difR),x.percentTotal=m.sumR,x.percenTotalLabel=o.formatPercent(m.sumR));var w=o.castOption(i,m.i,"customdata");return w&&(x.customdata=w),o.texttemplateString(l,x,e._d3locale,b,x,i._meta||{})}(e,t,r,n,a):l.textinfo?function(e,t,r,n){var a=e[0].trace,i="h"===a.orientation,l="waterfall"===a.type,s="funnel"===a.type;function c(e){var t=i?r:n;return u(t,+e,!0).text}var d,f,h=a.textinfo,p=e[t],v=h.split("+"),g=[],m=function(e){return-1!==v.indexOf(e)};if(m("label")&&g.push((f=e[t].p,u(i?n:r,f,!0).text)),m("text")&&(0===(d=o.castOption(a,p.i,"text"))||d)&&g.push(d),l){var x=+p.rawS||p.s,y=p.v,_=y-x;m("initial")&&g.push(c(_)),m("delta")&&g.push(c(x)),m("final")&&g.push(c(y))}if(s){m("value")&&g.push(c(p.s));var b=0;m("percent initial")&&b++,m("percent previous")&&b++,m("percent total")&&b++;var w=b>1;m("percent initial")&&(d=o.formatPercent(p.begR),w&&(d+=" of initial"),g.push(d)),m("percent previous")&&(d=o.formatPercent(p.difR),w&&(d+=" of previous"),g.push(d)),m("percent total")&&(d=o.formatPercent(p.sumR),w&&(d+=" of total"),g.push(d))}return g.join("<br>")}(t,r,n,a):v.getValue(l.text,r),v.coerceString(x,i)}(C,n,a,k,A);w=function(e,t){var r=v.getValue(e.textposition,t);return v.coerceEnumerated(y,r)}(D,a);var R="stack"===g.mode||"relative"===g.mode,E=n[a],H=!R||E._outmost;if(O&&"none"!==w&&(!E.isBlank&&l!==c&&d!==h||"auto"!==w&&"inside"!==w)){var F=C.font,B=p.getBarColor(n[a],D),Z=p.getInsideTextFont(D,a,F,B),N=p.getOutsideTextFont(D,a,F),V=r.datum();P?"log"===k.type&&V.s0<=0&&(l=k.range[0]<k.range[1]?0:k._length):"log"===A.type&&V.s0<=0&&(d=A.range[0]<A.range[1]?A._length:0);var G,q,U,j,Y,X=Math.abs(c-l)-2*b,W=Math.abs(h-d)-2*b;if("outside"===w&&(H||E.hasB||(w="inside")),"auto"===w)if(H){w="inside",Y=o.ensureUniformFontSize(e,Z),G=I(r,O,Y),q=s.bBox(G.node()),U=q.width,j=q.height;var K=U>0&&j>0,Q=U<=X&&j<=W,J=U<=W&&j<=X,$=P?X>=U*(W/j):W>=j*(X/U);K&&(Q||J||$)?w="inside":(w="outside",G.remove(),G=null)}else w="inside";if(!G){Y=o.ensureUniformFontSize(e,"outside"===w?N:Z);var ee=(G=I(r,O,Y)).attr("transform");if(G.attr("transform",""),q=s.bBox(G.node()),U=q.width,j=q.height,G.attr("transform",ee),U<=0||j<=0)return void G.remove()}var te,re,ne=D.textangle;"outside"===w?(re="both"===D.constraintext||"outside"===D.constraintext,te=function(e,t,r,n,a,o){var i,l=!!o.isHorizontal,s=!!o.constrained,c=o.angle||0,u=a.width,d=a.height,f=Math.abs(t-e),h=Math.abs(n-r);i=l?h>2*b?b:0:f>2*b?b:0;var p=1;s&&(p=l?Math.min(1,h/d):Math.min(1,f/u));var v=T(c),g=S(a,v),m=(l?g.x:g.y)/2,x=(a.left+a.right)/2,y=(a.top+a.bottom)/2,_=(e+t)/2,w=(r+n)/2,k=0,M=0,A=l?L(t,e):L(r,n);return l?(_=t-A*i,k=A*m):(w=n+A*i,M=-A*m),{textX:x,textY:y,targetX:_,targetY:w,anchorX:k,anchorY:M,scale:p,rotate:v}}(l,c,d,h,q,{isHorizontal:P,constrained:re,angle:ne})):(re="both"===D.constraintext||"inside"===D.constraintext,te=z(l,c,d,h,q,{isHorizontal:P,constrained:re,angle:ne,anchor:D.insidetextanchor})),te.fontSize=Y.size,f(D.type,te,C),E.transform=te,M(G,C,g,m).attr("transform",o.getTextTransform(te))}else r.select("text").remove()}(e,t,D,r,h,F,B,Z,N,g,m),t.layerClipId&&s.hideOutsideRangePoint(c,D.select("text"),w,C,d.xcalendar,d.ycalendar)});var Z=!1===d.cliponaxis;s.setClipUrl(c,Z?null:t.layerClipId,e)});c.getComponentMethod("errorbars","plot")(e,D,t,g)},toMoveInsideBar:z}},593:function(e,t,r){"use strict";var n=r(329),a=r(3),o=r(14),i=r(0).fillText,l=r(475).getLineWidth,s=r(99).hoverLabelText,c=r(5).BADNUM;function u(e,t,r,a){var o,l,u,d,f,h,p,v=e.cd,g=v[0].trace,m=v[0].t,x="closest"===a,y="waterfall"===g.type,_=e.maxHoverDistance;function b(e){return e[u]-e.w/2}function w(e){return e[u]+e.w/2}var k=x?b:function(e){return Math.min(b(e),e.p-m.bardelta/2)},L=x?w:function(e){return Math.max(w(e),e.p+m.bardelta/2)};function M(e,t){return n.inbox(e-o,t-o,_+Math.min(1,Math.abs(t-e)/p)-1)}function A(e){return M(k(e),L(e))}function T(e){var t=l,r=e.b,a=e[d];if(y){var o=Math.abs(e.rawS)||0;t>0?a+=o:t<0&&(a-=o)}return n.inbox(r-t,a-t,_+(a-t)/(a-r)-1)}"h"===g.orientation?(o=r,l=t,u="y",d="x",f=T,h=A):(o=t,l=r,u="x",d="y",h=T,f=A);var S=e[u+"a"],z=e[d+"a"];p=Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0]));var C=n.getDistanceFunction(a,f,h,function(e){return(f(e)+h(e))/2});if(n.getClosest(v,C,e),!1!==e.index&&v[e.index].p!==c){x||(k=function(e){return Math.min(b(e),e.p-m.bargroupwidth/2)},L=function(e){return Math.max(w(e),e.p+m.bargroupwidth/2)});var I=v[e.index],D=g.base?I.b+I.s:I.s;e[d+"0"]=e[d+"1"]=z.c2p(I[d],!0),e[d+"LabelVal"]=D;var P=m.extents[m.extents.round(I.p)];e[u+"0"]=S.c2p(x?k(I):P[0],!0),e[u+"1"]=S.c2p(x?L(I):P[1],!0);var O=void 0!==I.orig_p;return e[u+"LabelVal"]=O?I.orig_p:I.p,e.labelLabel=s(S,e[u+"LabelVal"]),e.valueLabel=s(z,e[d+"LabelVal"]),e.baseLabel=s(z,I.b),e.spikeDistance=(T(I)+function(e){return M(b(e),w(e))}(I))/2-_,e[u+"Spike"]=S.c2p(I.p,!0),i(I,g,e),e.hovertemplate=g.hovertemplate,e}}function d(e,t){var r=t.mcc||e.marker.color,n=t.mlcc||e.marker.line.color,a=l(e,t);return o.opacity(r)?r:o.opacity(n)&&a?n:void 0}e.exports={hoverPoints:function(e,t,r,n){var o=u(e,t,r,n);if(o){var i=o.cd,l=i[0].trace,s=i[o.index];return o.color=d(l,s),a.getComponentMethod("errorbars","hoverInfo")(s,l,o),[o]}},hoverOnBars:u,getTraceColor:d}},594:function(e,t,r){"use strict";e.exports=function(e,t,r){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),"h"===r.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},595:function(e,t,r){"use strict";function n(e,t,r,n,a){var o=t.c2p(n?e.s0:e.p0,!0),i=t.c2p(n?e.s1:e.p1,!0),l=r.c2p(n?e.p0:e.s0,!0),s=r.c2p(n?e.p1:e.s1,!0);return a?[(o+i)/2,(l+s)/2]:n?[i,(l+s)/2]:[(o+i)/2,s]}e.exports=function(e,t){var r,a=e.cd,o=e.xaxis,i=e.yaxis,l=a[0].trace,s="funnel"===l.type,c="h"===l.orientation,u=[];if(!1===t)for(r=0;r<a.length;r++)a[r].selected=0;else for(r=0;r<a.length;r++){var d=a[r],f="ct"in d?d.ct:n(d,o,i,c,s);t.contains(f,!1,r,e)?(u.push({pointNumber:r,x:o.c2d(d.x),y:i.c2d(d.y)}),d.selected=1):d.selected=0}return u}}});
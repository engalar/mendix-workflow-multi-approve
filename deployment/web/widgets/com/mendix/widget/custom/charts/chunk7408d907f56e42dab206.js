webpackJsonpCharts([1],Array(296).concat([function(e,t,r){"use strict";e.exports=r(447)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(363),a=r(356),i=r(345),o=r(0).removeElement,l=r(26),s=e.exports={};s.align=r(364),s.getCursor=r(365);var c=r(366);function u(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function d(e){return n(e.changedTouches?e.changedTouches[0]:e,document.body)}s.unhover=c.wrapped,s.unhoverRaw=c.raw,s.init=function(e){var t,r,n,c,f,h,p,v,g=e.gd,m=1,x=g._context.doubleClickDelay,y=e.element;g._mouseDownTime||(g._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=b,i?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=b,y.addEventListener("touchstart",b,{passive:!1})):y.ontouchstart=b;var _=e.clampFn||function(e,t,r){return Math.abs(e)<r&&(e=0),Math.abs(t)<r&&(t=0),[e,t]};function b(i){g._dragged=!1,g._dragging=!0;var o=d(i);t=o[0],r=o[1],p=i.target,h=i,v=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=r),(n=(new Date).getTime())-g._mouseDownTime<x?m+=1:(m=1,g._mouseDownTime=n),e.prepFn&&e.prepFn(i,t,r),a&&!v?(f=u()).style.cursor=window.getComputedStyle(y).cursor:a||(f=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==e.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(n){n.preventDefault();var a=d(n),i=e.minDrag||l.MINDRAG,o=_(a[0]-t,a[1]-r,i),c=o[0],u=o[1];(c||u)&&(g._dragged=!0,s.unhover(g)),g._dragged&&e.moveFn&&!v&&(g._dragdata={element:y,dx:c,dy:u},e.moveFn(c,u))}function k(t){if(delete g._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),a?o(f):c&&(f.documentElement.style.cursor=c,c=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>x&&(m=Math.max(m-1,1)),g._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(m,h),!v){var r;try{r=new MouseEvent("click",t)}catch(e){var n=d(t);(r=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,n[0],n[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(r)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},s.coverSlip=u},function(e,t,r){"use strict";var n=r(4),a=r(0),i=r(328),o=r(100),l=r(102),s=r(343);e.exports={moduleType:"component",name:"fx",constants:r(104),schema:{layout:l},attributes:r(106),layoutAttributes:l,supplyLayoutGlobalDefaults:r(370),supplyDefaults:r(371),supplyLayoutDefaults:r(372),calc:r(373),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:function(e,t,r){return a.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return a.castOption(e,r,"hoverinfo",function(r){return a.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)})},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=a.isD3Selection(e)?e:n.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(374)}},function(e,t,r){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},function(e,t,r){"use strict";var n=r(352).EventEmitter,a={init:function(e){if(e._ev instanceof n)return e;var t=new n,r=new n;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(n,a){"undefined"!=typeof jQuery&&jQuery(e).trigger(n,a),t.emit(n,a),r.emit(n,a)},e},triggerHandler:function(e,t,r){var n,a;"undefined"!=typeof jQuery&&(n=jQuery(e).triggerHandler(t,r));var i=e._ev;if(!i)return n;var o,l=i._events[t];if(!l)return n;function s(e){return e.listener?(i.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[r]))):e.apply(i,[r])}for(l=Array.isArray(l)?l:[l],o=0;o<l.length-1;o++)s(l[o]);return a=s(l[o]),void 0!==n?n:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=a},function(e,t,r){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},function(e,t,r){"use strict";var n=r(0),a=r(14),i=r(100).isUnifiedHover;e.exports=function(e,t,r,o){function l(e){o.font[e]||(o.font[e]=t.legend?t.legend.font[e]:t.font[e])}o=o||{},t&&i(t.hovermode)&&(o.font||(o.font={}),l("size"),l("family"),l("color"),t.legend?(o.bgcolor||(o.bgcolor=a.combine(t.legend.bgcolor,t.paper_bgcolor)),o.bordercolor||(o.bordercolor=t.legend.bordercolor)):o.bgcolor||(o.bgcolor=t.paper_bgcolor)),r("hoverlabel.bgcolor",o.bgcolor),r("hoverlabel.bordercolor",o.bordercolor),r("hoverlabel.namelength",o.namelength),n.coerceFont(r,"hoverlabel.font",o.font),r("hoverlabel.align",o.align)}},function(e,t,r){"use strict";t.selectMode=function(e){return"lasso"===e||"select"===e},t.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.openMode=function(e){return"drawline"===e||"drawopenpath"===e},t.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}},function(e,t,r){"use strict";var n=r(391),a=r(339),i=a.CIRCLE_SIDES,o=a.SQRT2,l=r(340),s=l.p2r,c=l.r2p,u=[0,3,4,5,6,1,2],d=[0,3,4,1,2];function f(e,t){return Math.abs(e-t)<=1e-6}function h(e,t){var r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+n*n)}t.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var r="",n=0;n<t;n++)for(var a=e[n].length,i=0;i<a;i++){var o=e[n][i][0];if("Z"===o)r+="Z";else for(var l=e[n][i].length,s=0;s<l;s++){var c=s;"Q"===o||"S"===o?c=d[s]:"C"===o&&(c=u[s]),r+=e[n][i][c],s>0&&s<l-1&&(r+=",")}}return r},t.readPaths=function(e,t,r,a){var o,l,u,d=n(e),f=[],h=-1,p=0,v=0,g=function(){l=p,u=v};g();for(var m=0;m<d.length;m++){var x,y,_,b,w=[],k=d[m][0],L=k;switch(k){case"M":f[++h]=[],p=+d[m][1],v=+d[m][2],w.push([L,p,v]),g();break;case"Q":case"S":x=+d[m][1],_=+d[m][2],p=+d[m][3],v=+d[m][4],w.push([L,p,v,x,_]);break;case"C":x=+d[m][1],_=+d[m][2],y=+d[m][3],b=+d[m][4],p=+d[m][5],v=+d[m][6],w.push([L,p,v,x,_,y,b]);break;case"T":case"L":p=+d[m][1],v=+d[m][2],w.push([L,p,v]);break;case"H":L="L",p=+d[m][1],w.push([L,p,v]);break;case"V":L="L",v=+d[m][1],w.push([L,p,v]);break;case"A":L="L";var M=+d[m][1],A=+d[m][2];+d[m][4]||(M=-M,A=-A);var S=p-M,z=v;for(o=1;o<=i/2;o++){var T=2*Math.PI*o/i;w.push([L,S+M*Math.cos(T),z+A*Math.sin(T)])}break;case"Z":p===l&&v===u||(p=l,v=u,w.push([L,p,v]))}for(var C=(r||{}).domain,I=t._fullLayout._size,P=r&&"pixel"===r.xsizemode,O=r&&"pixel"===r.ysizemode,R=!1===a,D=0;D<w.length;D++){for(o=0;o+2<7;o+=2){var E=w[D][o+1],H=w[D][o+2];void 0!==E&&void 0!==H&&(p=E,v=H,r&&(r.xaxis&&r.xaxis.p2r?(R&&(E-=r.xaxis._offset),E=P?c(r.xaxis,r.xanchor)+E:s(r.xaxis,E)):(R&&(E-=I.l),C?E=C.x[0]+E/I.w:E/=I.w),r.yaxis&&r.yaxis.p2r?(R&&(H-=r.yaxis._offset),H=O?c(r.yaxis,r.yanchor)-H:s(r.yaxis,H)):(R&&(H-=I.t),H=C?C.y[1]-H/I.h:1-H/I.h)),w[D][o+1]=E,w[D][o+2]=H)}f[h].push(w[D].slice())}}return f},t.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!f(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!f(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!f(e[0][1],e[1][1])&&!f(e[0][1],e[3][1]))&&!!(h(e[0],e[1])*h(e[0],e[3]))},t.pointsShapeEllipse=function(e){var t=e.length;if(t!==i+1)return!1;t=i;for(var r=0;r<t;r++){var n=(2*t-r)%t,a=(t/2+n)%t,o=(t/2+r)%t;if(!f(h(e[r],e[o]),h(e[n],e[a])))return!1}return!0},t.handleEllipse=function(e,r,n){if(!e)return[r,n];var a=t.ellipseOver({x0:r[0],y0:r[1],x1:n[0],y1:n[1]}),l=(a.x1+a.x0)/2,s=(a.y1+a.y0)/2,c=(a.x1-a.x0)/2,u=(a.y1-a.y0)/2;c||(c=u/=o),u||(u=c/=o);for(var d=[],f=0;f<i;f++){var h=2*f*Math.PI/i;d.push([l+c*Math.cos(h),s+u*Math.sin(h)])}return d},t.ellipseOver=function(e){var t=e.x0,r=e.y0,n=e.x1,a=e.y1,i=n-t,l=a-r,s=((t-=i)+n)/2,c=((r-=l)+a)/2;return{x0:s-(i*=o),y0:c-(l*=o),x1:s+i,y1:c+l}}},function(e,t,r){"use strict";var n=r(392),a=r(3),i=r(38).dashStyle,o=r(14),l=r(329),s=r(100).makeEventData,c=r(334),u=c.freeMode,d=c.rectMode,f=c.drawMode,h=c.openMode,p=c.selectMode,v=r(354),g=r(335).handleEllipse,m=r(355),x=r(0),y=r(376),_=r(108),b=r(27).getFromId,w=r(338),k=r(348).redrawReglTraces,L=r(26),M=L.MINSELECT,A=y.filter,S=y.tester,z=r(103).clearSelect,T=r(340),C=T.p2r,I=T.axValue,P=T.getTransform;function O(e,t,r,n,a,i,o){var l,s,c,u,d,f,p,g,m,x=t._hoverdata,y=t._fullLayout.clickmode.indexOf("event")>-1,_=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(x)){H(e,t,i);var b=function(e,t){var r,n,a=e[0],i=-1,o=[];for(n=0;n<t.length;n++)if(r=t[n],a.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===a.hoverOnBox)break;void 0!==a.pointNumber?i=a.pointNumber:void 0!==a.binNumber&&(i=a.binNumber,o=a.pointNumbers);break}return{pointNumber:i,pointNumbers:o,searchInfo:r}}(x,l=Z(t,r,n,a));if(b.pointNumbers.length>0?function(e,t){var r,n,a,i=[];for(a=0;a<e.length;a++)(r=e[a]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&i.push(r);if(1===i.length&&i[0]===t.searchInfo&&(n=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(a=0;a<t.pointNumbers.length;a++)if(n.selectedpoints.indexOf(t.pointNumbers[a])<0)return!1;return!0}return!1}(l,b):function(e){var t,r,n,a=0;for(n=0;n<e.length;n++)if(t=e[n],(r=t.cd[0].trace).selectedpoints){if(r.selectedpoints.length>1)return!1;if((a+=r.selectedpoints.length)>1)return!1}return 1===a}(l)&&(f=B(b))){for(o&&o.remove(),m=0;m<l.length;m++)(s=l[m])._module.selectPoints(s,!1);N(t,l),F(i),y&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==f?f:B(b)),c=function(e,t,r){return{pointNumber:e,searchInfo:t,subtract:r}}(b.pointNumber,b.searchInfo,p),u=E(i.selectionDefs.concat([c])),m=0;m<l.length;m++)if(d=V(l[m]._module.selectPoints(l[m],u),l[m]),_.length)for(var w=0;w<d.length;w++)_.push(d[w]);else _=d;if(N(t,l,g={points:_}),c&&i&&i.selectionDefs.push(c),o){var k=i.mergedPolygons,L=h(i.dragmode);v(q(k,L),o,i)}y&&t.emit("plotly_selected",g)}}}function R(e){return"pointNumber"in e&&"searchInfo"in e}function D(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,r,n,a){var i=e.searchInfo.cd[0].trace._expandedIndex;return a.cd[0].trace._expandedIndex===i&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function E(e){for(var t=[],r=R(e[0])?0:e[0][0][0],n=r,a=R(e[0])?0:e[0][0][1],i=a,o=0;o<e.length;o++)if(R(e[o]))t.push(D(e[o]));else{var l=y.tester(e[o]);l.subtract=e[o].subtract,t.push(l),r=Math.min(r,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),i=Math.max(i,l.ymax)}return{xmin:r,xmax:n,ymin:a,ymax:i,pts:[],contains:function(e,r,n,a){for(var i=!1,o=0;o<t.length;o++)t[o].contains(e,r,n,a)&&(i=!1===t[o].subtract);return i},isRect:!1,degenerate:!1}}function H(e,t,r){t._fullLayout._drawing=!1;var n=t._fullLayout,a=r.plotinfo,i=r.dragmode,o=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(f(i)&&h(i));o&&l&&a.selection&&a.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=a.selection.selectionDefs,r.mergedPolygons=a.selection.mergedPolygons):l&&a.selection||F(r),o||(z(t),n._lastSelectedSubplot=a.id)}function F(e){var t=e.dragmode,r=e.plotinfo,n=e.gd;if(n._fullLayout._activeShapeIndex>=0&&n._fullLayout._deactivateShape(n),f(t)){var i=n._fullLayout._zoomlayer.selectAll(".select-outline-"+r.id);if(i&&n._fullLayout._drawing){var o=m(i,e);o&&a.call("_guiRelayout",n,{shapes:o}),n._fullLayout._drawing=!1}}r.selection={},r.selection.selectionDefs=e.selectionDefs=[],r.selection.mergedPolygons=e.mergedPolygons=[]}function Z(e,t,r,n){var a,i,o,l=[],s=t.map(function(e){return e._id}),c=r.map(function(e){return e._id});for(o=0;o<e.calcdata.length;o++)if(!0===(i=(a=e.calcdata[o])[0].trace).visible&&i._module&&i._module.selectPoints)if(!n||i.subplot!==n&&i.geo!==n)if("splom"===i.type&&i._xaxes[s[0]]&&i._yaxes[c[0]]){var u=f(i._module,a,t[0],r[0]);u.scene=e._fullLayout._splomScenes[i.uid],l.push(u)}else if("sankey"===i.type){var d=f(i._module,a,t[0],r[0]);l.push(d)}else{if(-1===s.indexOf(i.xaxis))continue;if(-1===c.indexOf(i.yaxis))continue;l.push(f(i._module,a,b(e,i.xaxis),b(e,i.yaxis)))}else l.push(f(i._module,a,t[0],r[0]));return l;function f(e,t,r,n){return{_module:e,cd:t,xaxis:r,yaxis:n}}}function B(e){var t=e.searchInfo.cd[0].trace,r=e.pointNumber,n=e.pointNumbers,a=n.length>0?n[0]:r;return!!t.selectedpoints&&t.selectedpoints.indexOf(a)>-1}function N(e,t,r){var n,i,o,l;for(n=0;n<t.length;n++){var s=t[n].cd[0].trace._fullInput,c=e._fullLayout._tracePreGUI[s.uid]||{};void 0===c.selectedpoints&&(c.selectedpoints=s._input.selectedpoints||null)}if(r){var u=r.points||[];for(n=0;n<t.length;n++)(l=t[n].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(n=0;n<u.length;n++){var d=u[n],f=d.data,h=d.fullData;d.pointIndices?([].push.apply(f.selectedpoints,d.pointIndices),l._fullInput!==l&&[].push.apply(h.selectedpoints,d.pointIndices)):(f.selectedpoints.push(d.pointIndex),l._fullInput!==l&&h.selectedpoints.push(d.pointIndex))}}else for(n=0;n<t.length;n++)delete(l=t[n].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var p=!1;for(n=0;n<t.length;n++){l=(o=(i=t[n]).cd)[0].trace,a.traceIs(l,"regl")&&(p=!0);var v=i._module,g=v.styleOnSelect||v.style;g&&(g(e,o,o[0].node3),o[0].nodeRangePlot3&&g(e,o,o[0].nodeRangePlot3))}p&&(w(e),k(e))}function V(e,t){if(Array.isArray(e))for(var r=t.cd,n=t.cd[0].trace,a=0;a<e.length;a++)e[a]=s(e[a],n,r);return e}function q(e,t){for(var r=[],n=0;n<e.length;n++){r[n]=[];for(var a=0;a<e[n].length;a++){r[n][a]=[],r[n][a][0]=a?"L":"M";for(var i=0;i<e[n][a].length;i++)r[n][a].push(e[n][a][i])}t||r[n].push(["Z",r[n][0][1],r[n][0][2]])}return r}e.exports={prepSelect:function(e,t,r,a,s){var c=u(s),m=d(s),y=h(s),b=f(s),w=p(s),k="drawcircle"===s,z="drawline"===s||k,T=a.gd,R=T._fullLayout,D=R._zoomlayer,B=a.element.getBoundingClientRect(),G=a.plotinfo,j=P(G),U=t-B.left,Y=r-B.top;R._calcInverseTransform(T);var X=x.apply3DTransform(R._invTransform)(U,Y);U=X[0],Y=X[1];var W,K,Q,J,$,ee,te,re=R._invScaleX,ne=R._invScaleY,ae=U,ie=Y,oe="M"+U+","+Y,le=a.xaxes[0]._length,se=a.yaxes[0]._length,ce=a.xaxes.concat(a.yaxes),ue=e.altKey&&!(f(s)&&y);H(e,T,a),c&&(W=A([[U,Y]],L.BENDPX));var de=D.selectAll("path.select-outline-"+G.id).data(b?[0]:[1,2]),fe=R.newshape;de.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+G.id}).style(b?{opacity:fe.opacity/2,fill:y?void 0:fe.fillcolor,stroke:fe.line.color,"stroke-dasharray":i(fe.line.dash,fe.line.width),"stroke-width":fe.line.width+"px"}:{}).attr("fill-rule",fe.fillrule).classed("cursor-move",!!b).attr("transform",j).attr("d",oe+"Z");var he,pe=D.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform",j).attr("d","M0,0Z"),ve=R._uid+L.SELECTID,ge=[],me=Z(T,a.xaxes,a.yaxes,a.subplot);function xe(e,t){return e-t}he=G.fillRangeItems?G.fillRangeItems:m?function(e,t){var r=e.range={};for($=0;$<ce.length;$++){var n=ce[$],a=n._id.charAt(0);r[n._id]=[C(n,t[a+"min"]),C(n,t[a+"max"])].sort(xe)}}:function(e,t,r){var n=e.lassoPoints={};for($=0;$<ce.length;$++){var a=ce[$];n[a._id]=r.filtered.map(I(a))}},a.moveFn=function(e,t){ae=Math.max(0,Math.min(le,re*e+U)),ie=Math.max(0,Math.min(se,ne*t+Y));var r=Math.abs(ae-U),i=Math.abs(ie-Y);if(m){var o,l,s;if(w){var u=R.selectdirection;switch(o="any"===u?i<Math.min(.6*r,M)?"h":r<Math.min(.6*i,M)?"v":"d":u){case"h":l=k?se/2:0,s=se;break;case"v":l=k?le/2:0,s=le}}if(b)switch(R.newshape.drawdirection){case"vertical":o="h",l=k?se/2:0,s=se;break;case"horizontal":o="v",l=k?le/2:0,s=le;break;case"ortho":r<i?(o="h",l=Y,s=ie):(o="v",l=U,s=ae);break;default:o="d"}"h"===o?((J=z?g(k,[ae,l],[ae,s]):[[U,l],[U,s],[ae,s],[ae,l]]).xmin=z?ae:Math.min(U,ae),J.xmax=z?ae:Math.max(U,ae),J.ymin=Math.min(l,s),J.ymax=Math.max(l,s),pe.attr("d","M"+J.xmin+","+(Y-M)+"h-4v"+2*M+"h4ZM"+(J.xmax-1)+","+(Y-M)+"h4v"+2*M+"h-4Z")):"v"===o?((J=z?g(k,[l,ie],[s,ie]):[[l,Y],[l,ie],[s,ie],[s,Y]]).xmin=Math.min(l,s),J.xmax=Math.max(l,s),J.ymin=z?ie:Math.min(Y,ie),J.ymax=z?ie:Math.max(Y,ie),pe.attr("d","M"+(U-M)+","+J.ymin+"v-4h"+2*M+"v4ZM"+(U-M)+","+(J.ymax-1)+"v4h"+2*M+"v-4Z")):"d"===o&&((J=z?g(k,[U,Y],[ae,ie]):[[U,Y],[U,ie],[ae,ie],[ae,Y]]).xmin=Math.min(U,ae),J.xmax=Math.max(U,ae),J.ymin=Math.min(Y,ie),J.ymax=Math.max(Y,ie),pe.attr("d","M0,0Z"))}else c&&(W.addPt([ae,ie]),J=W.filtered);a.selectionDefs&&a.selectionDefs.length?(Q=function(e,t,r){return r?n.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:n.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(a.mergedPolygons,J,ue),J.subtract=ue,K=E(a.selectionDefs.concat([J]))):(Q=[J],K=S(J)),v(q(Q,y),de,a),w&&_.throttle(ve,L.SELECTDELAY,function(){var e;ge=[];var t,r=[];for($=0;$<me.length;$++)if(t=(ee=me[$])._module.selectPoints(ee,K),r.push(t),e=V(t,ee),ge.length)for(var n=0;n<e.length;n++)ge.push(e[n]);else ge=e;N(T,me,te={points:ge}),he(te,J,W),a.gd.emit("plotly_selecting",te)})},a.clickFn=function(e,t){if(pe.remove(),T._fullLayout._activeShapeIndex>=0)T._fullLayout._deactivateShape(T);else if(!b){var r=R.clickmode;_.done(ve).then(function(){if(_.clear(ve),2===e){for(de.remove(),$=0;$<me.length;$++)(ee=me[$])._module.selectPoints(ee,!1);N(T,me),F(a),T.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&O(t,T,a.xaxes,a.yaxes,a.subplot,a,de),"event"===r&&T.emit("plotly_selected",void 0);l.click(T,t)}).catch(x.error)}},a.doneFn=function(){pe.remove(),_.done(ve).then(function(){_.clear(ve),a.gd.emit("plotly_selected",te),J&&a.selectionDefs&&(J.subtract=ue,a.selectionDefs.push(J),a.mergedPolygons.length=0,[].push.apply(a.mergedPolygons,Q)),a.doneFnCompleted&&a.doneFnCompleted(ge)}).catch(x.error),b&&F(a)}},clearSelect:z,clearSelectionsCache:F,selectOnClick:O}},function(e,t,r){"use strict";var n=r(0);function a(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}t.formatPiePercent=function(e,t){var r=a((100*e).toPrecision(3));return n.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=a(e.toPrecision(10));return n.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var n=e[t[r]];if(n||0===n||""===n)return n}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0},t.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},function(e,t,r){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},function(e,t,r){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},function(e,t,r){"use strict";var n=r(0).strTranslate;function a(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}e.exports={p2r:a,r2p:function(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}},axValue:function(e){var t="y"===e._id.charAt(0)?1:0;return function(r){return a(e,r[t])}},getTransform:function(e){return n(e.xaxis._offset,e.yaxis._offset)}}},function(e,t,r){"use strict";var n=r(0),a=r(107),i=r(27).id2name,o=r(18),l=r(347),s=r(109),c=r(5).ALMOST_EQUAL,u=r(28).FROM_BL;function d(e,t,r){var a=r.axIds,l=r.layoutOut,s=r.hasImage,c=l._axisConstraintGroups,u=l._axisMatchGroups,d=t._id,v=d.charAt(0),g=((l._splomAxes||{})[v]||{})[d]||{},m=t._id,x="x"===m.charAt(0);function y(r,a){return n.coerce(e,t,o,r,a)}t._matchGroup=null,t._constraintGroup=null,y("constrain",s?"domain":"range"),n.coerce(e,t,{constraintoward:{valType:"enumerated",values:x?["left","center","right"]:["bottom","middle","top"],dflt:x?"center":"middle"}},"constraintoward");var _,b,w=t.type,k=[];for(_=0;_<a.length;_++){if((b=a[_])!==m)l[i(b)].type===w&&k.push(b)}var L=h(c,m);if(L){var M=[];for(_=0;_<k.length;_++)L[b=k[_]]||M.push(b);k=M}var A,S,z=k.length;z&&(e.matches||g.matches)&&(A=n.coerce(e,t,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(g.matches)?g.matches:void 0}},"matches"));var T=s&&!x?t.anchor:void 0;if(z&&!A&&(e.scaleanchor||T)&&(S=n.coerce(e,t,{scaleanchor:{valType:"enumerated",values:k}},"scaleanchor",T)),A){t._matchGroup=p(u,m,A,1);var C=l[i(A)],I=f(l,t)/f(l,C);x!==("x"===A.charAt(0))&&(I=(x?"x":"y")+I),p(c,m,A,I)}else e.matches&&-1!==a.indexOf(e.matches)&&n.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(S){var P=y("scaleratio");P||(P=t.scaleratio=1),p(c,m,S,P)}else e.scaleanchor&&-1!==a.indexOf(e.scaleanchor)&&n.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function f(e,t){var r=t.domain;return r||(r=e[i(t.overlaying)].domain),r[1]-r[0]}function h(e,t){for(var r=0;r<e.length;r++)if(e[r][t])return e[r];return null}function p(e,t,r,n){var a,i,o,l,s,c=h(e,t);null===c?((c={})[t]=1,s=e.length,e.push(c)):s=e.indexOf(c);var u=Object.keys(c);for(a=0;a<e.length;a++)if(o=e[a],a!==s&&o[r]){var d=o[r];for(i=0;i<u.length;i++)o[l=u[i]]=v(d,v(n,c[l]));return void e.splice(s,1)}if(1!==n)for(i=0;i<u.length;i++){var f=u[i];c[f]=v(n,c[f])}c[r]=1}function v(e,t){var r,n,a="",i="";"string"==typeof e&&(r=(a=e.match(/^[xy]*/)[0]).length,e=+e.substr(r)),"string"==typeof t&&(n=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(n));var o=e*t;return r||n?r&&n&&a.charAt(0)!==i.charAt(0)?r===n?o:(r>n?a.substr(n):i.substr(r))+o:a+i+e*t:o}function g(e,t){for(var r=t._size,n=r.h/r.w,a={},i=Object.keys(e),o=0;o<i.length;o++){var l=i[o],s=e[l];if("string"==typeof s){var c=s.match(/^[xy]*/)[0],u=c.length;s=+s.substr(u);for(var d="y"===c.charAt(0)?n:1/n,f=0;f<u;f++)s*=d}a[l]=s}return a}function m(e,t){var r=e._inputDomain,n=u[e.constraintoward],a=r[0]+(r[1]-r[0])*n;e.domain=e._input.domain=[a+(r[0]-a)/t,a+(r[1]-a)/t],e.setScale()}t.handleDefaults=function(e,t,r){var a,o,l,c,u,f,h,p,v=r.axIds,g=r.axHasImage,m=t._axisConstraintGroups=[],x=t._axisMatchGroups=[];for(a=0;a<v.length;a++)d(u=e[c=i(v[a])],f=t[c],{axIds:v,layoutOut:t,hasImage:g[c]});function y(e,r){for(a=0;a<e.length;a++)for(l in o=e[a])t[i(l)][r]=o}for(y(x,"_matchGroup"),a=0;a<m.length;a++)for(l in o=m[a])if((f=t[i(l)]).fixedrange){for(var _ in o){var b=i(_);!1===(e[b]||{}).fixedrange&&n.warn("fixedrange was specified as false for axis "+b+" but was overridden because another axis in its constraint group has fixedrange true"),t[b].fixedrange=!0}break}for(a=0;a<m.length;){for(l in o=m[a]){(f=t[i(l)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(o).length&&(m.splice(a,1),a--);break}a++}y(m,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,L=!1;function M(){p=f[h],"rangebreaks"===h&&(L=f._hasDayOfWeekBreaks)}for(a=0;a<x.length;a++){o=x[a];for(var A=0;A<w.length;A++){var S;for(l in h=w[A],p=null,o)if(u=e[c=i(l)],f=t[c],h in f){if(!f.matches&&(S=f,h in u)){M();break}null===p&&h in u&&M()}if("range"===h&&p&&(k=!0),"autorange"===h&&null===p&&k&&(p=!1),null===p&&h in S&&(p=S[h]),null!==p)for(l in o)(f=t[i(l)])[h]="range"===h?p.slice():p,"rangebreaks"===h&&(f._hasDayOfWeekBreaks=L,s(f,t))}}},t.enforce=function(e){var t,r,n,o,s,u,d,f,h=e._fullLayout,p=h._axisConstraintGroups||[];for(t=0;t<p.length;t++){n=g(p[t],h);var v=Object.keys(n),x=1/0,y=0,_=1/0,b={},w={},k=!1;for(r=0;r<v.length;r++)w[o=v[r]]=s=h[i(o)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),b[o]=u=Math.abs(s._m)/n[o],x=Math.min(x,u),"domain"!==s.constrain&&s._constraintShrinkable||(_=Math.min(_,u)),delete s._constraintShrinkable,y=Math.max(y,u),"domain"===s.constrain&&(k=!0);if(!(x>c*y)||k)for(r=0;r<v.length;r++)if(u=b[o=v[r]],d=(s=w[o]).constrain,u!==_||"domain"===d)if(f=u/_,"range"===d)l(s,f);else{var L=s._inputDomain,M=(s.domain[1]-s.domain[0])/(L[1]-L[0]),A=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if((f/=M)*A<1){s.domain=s._input.domain=L.slice(),l(s,f);continue}if(A<1&&(s.range=s._input.range=s._inputRange.slice(),f*=A),s.autorange){var S=s.r2l(s.range[0]),z=s.r2l(s.range[1]),T=(S+z)/2,C=T,I=T,P=Math.abs(z-T),O=T-P*f*1.0001,R=T+P*f*1.0001,D=a.makePadFn(h,s,0),E=a.makePadFn(h,s,1);m(s,f);var H,F,Z=Math.abs(s._m),B=a.concatExtremes(e,s),N=B.min,V=B.max;for(F=0;F<N.length;F++)(H=N[F].val-D(N[F])/Z)>O&&H<C&&(C=H);for(F=0;F<V.length;F++)(H=V[F].val+E(V[F])/Z)<R&&H>I&&(I=H);f/=(I-C)/(2*P),C=s.l2r(C),I=s.l2r(I),s.range=s._input.range=S<z?[C,I]:[I,C]}m(s,f)}}},t.getAxisGroup=function(e,t){for(var r=e._axisMatchGroups,n=0;n<r.length;n++){if(r[n][t])return"g"+n}return t},t.clean=function(e,t){if(t._inputDomain){for(var r=!1,n=t._id,a=e._fullLayout._axisConstraintGroups,i=0;i<a.length;i++)if(a[i][n]){r=!0;break}r&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},function(e,t){e.exports=!0},function(e,t,r){"use strict";var n=r(4),a=r(1),i=r(19),o=r(0),l=o.strTranslate,s=o.strRotate,c=r(331),u=r(39),d=r(367),f=r(38),h=r(14),p=r(328),v=r(99),g=r(3),m=r(100),x=r(104),y=r(357),_=r(359),b=x.YANGLE,w=Math.PI*b/180,k=1/Math.sin(w),L=Math.cos(w),M=Math.sin(w),A=x.HOVERARROWSIZE,S=x.HOVERTEXTPAD;function z(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}t.hover=function(e,t,r,i){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){!function(e,t,r,i){r||(r="xy");var l=Array.isArray(r)?r:[r],s=e._fullLayout,u=s._plots||[],f=u[r],v=s._has("cartesian");if(f){var x=f.overlays.map(function(e){return e.id});l=l.concat(x)}for(var y=l.length,_=new Array(y),b=new Array(y),w=!1,L=0;L<y;L++){var M=l[L];if(u[M])w=!0,_[L]=u[M].xaxis,b[L]=u[M].yaxis;else{if(!s[M]||!s[M]._subplot)return void o.warn("Unrecognized subplot: "+M);var A=s[M]._subplot;_[L]=A.xaxis,b[L]=A.yaxis}}var S=t.hovermode||s.hovermode;S&&!w&&(S="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(S)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return p.unhoverRaw(e,t);var T,I,E,H,F,Z,B,N,V,q,G,j,U,Y=-1===s.hoverdistance?1/0:s.hoverdistance,X=-1===s.spikedistance?1/0:s.spikedistance,W=[],K=[],Q={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(S="array",E=0;E<t.length;E++)(F=e.calcdata[t[E].curveNumber||0])&&(Z=F[0].trace,"skip"!==F[0].trace.hoverinfo&&(K.push(F),"h"===Z.orientation&&(J=!0)));else{for(H=0;H<e.calcdata.length;H++)F=e.calcdata[H],"skip"!==(Z=F[0].trace).hoverinfo&&m.isTraceInSubplots(Z,l)&&(K.push(F),"h"===Z.orientation&&(J=!0));var $,ee,te=!t.target;if(te)$="xpx"in t?t.xpx:_[0]._length/2,ee="ypx"in t?t.ypx:b[0]._length/2;else{if(!1===c.triggerHandler(e,"plotly_beforehover",t))return;var re=t.target.getBoundingClientRect();$=t.clientX-re.left,ee=t.clientY-re.top,s._calcInverseTransform(e);var ne=o.apply3DTransform(s._invTransform)($,ee);if($=ne[0],ee=ne[1],$<0||$>_[0]._length||ee<0||ee>b[0]._length)return p.unhoverRaw(e,t)}if(t.pointerX=$+_[0]._offset,t.pointerY=ee+b[0]._offset,T="xval"in t?m.flat(l,t.xval):m.p2c(_,$),I="yval"in t?m.flat(l,t.yval):m.p2c(b,ee),!a(T[0])||!a(I[0]))return o.warn("Fx.hover failed",t,e),p.unhoverRaw(e,t)}var ae=1/0;function ie(e,r){for(H=0;H<K.length;H++)if((F=K[H])&&F[0]&&F[0].trace&&!0===(Z=F[0].trace).visible&&0!==Z._length&&-1===["carpet","contourcarpet"].indexOf(Z._module.name)){if("splom"===Z.type?B=l[N=0]:(B=m.getSubplot(Z),N=l.indexOf(B)),V=S,m.isUnifiedHover(V)&&(V=V.charAt(0)),j={cd:F,trace:Z,xa:_[N],ya:b[N],maxHoverDistance:Y,maxSpikeDistance:X,index:!1,distance:Math.min(ae,Y),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:Z.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[B]&&(j.subplot=s[B]._subplot),s._splomScenes&&s._splomScenes[Z.uid]&&(j.scene=s._splomScenes[Z.uid]),U=W.length,"array"===V){var n=t[H];"pointNumber"in n?(j.index=n.pointNumber,V="closest"):(V="","xval"in n&&(q=n.xval,V="x"),"yval"in n&&(G=n.yval,V=V?"closest":"y"))}else void 0!==e&&void 0!==r?(q=e,G=r):(q=T[N],G=I[N]);if(0!==Y)if(Z._module&&Z._module.hoverPoints){var i=Z._module.hoverPoints(j,q,G,V,s._hoverlayer);if(i)for(var c,u=0;u<i.length;u++)c=i[u],a(c.x0)&&a(c.y0)&&W.push(O(c,S))}else o.log("Unrecognized trace type in hover:",Z);if("closest"===S&&W.length>U&&(W.splice(0,U),ae=W[0].distance),v&&0!==X&&0===W.length){j.distance=X,j.index=!1;var d=Z._module.hoverPoints(j,q,G,"closest",s._hoverlayer);if(d&&(d=d.filter(function(e){return e.spikeDistance<=X})),d&&d.length){var f,p=d.filter(function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap});if(p.length){var g=p[0];a(g.x0)&&a(g.y0)&&(f=le(g),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>f.spikeDistance)&&(Q.vLinePoint=f))}var x=d.filter(function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap});if(x.length){var y=x[0];a(y.x0)&&a(y.y0)&&(f=le(y),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>f.spikeDistance)&&(Q.hLinePoint=f))}}}}}function oe(e,t){for(var r,n=null,a=1/0,i=0;i<e.length;i++)(r=e[i].spikeDistance)<=a&&r<=t&&(n=e[i],a=r);return n}function le(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}ie();var se={fullLayout:s,container:s._hoverlayer,outerContainer:s._paperdiv,event:t},ce=e._spikepoints,ue={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=ue,v&&0!==X&&0!==W.length){var de=W.filter(function(e){return e.ya.showspikes}),fe=oe(de,X);Q.hLinePoint=le(fe);var he=W.filter(function(e){return e.xa.showspikes}),pe=oe(he,X);Q.vLinePoint=le(pe)}if(0===W.length){var ve=p.unhoverRaw(e,t);return!v||null===Q.hLinePoint&&null===Q.vLinePoint||D(ce)&&R(e,Q,se),ve}v&&D(ce)&&R(e,Q,se);if(W.sort(function(e,t){return e.distance-t.distance}),m.isXYhover(V)&&0!==W[0].length&&"splom"!==W[0].trace.type){var ge=W[0],me=ge.cd[ge.index],xe="group"===s.boxmode||"group"===s.violinmode,ye=ge.xVal,_e=ge.xa;"category"===_e.type&&(ye=_e._categoriesMap[ye]),"date"===_e.type&&(ye=_e.d2c(ye)),me&&me.t&&me.t.posLetter===_e._id&&xe&&(ye+=me.t.dPos);var be=ge.yVal;"category"===(_e=ge.ya).type&&(be=_e._categoriesMap[be]),"date"===_e.type&&(be=_e.d2c(be)),me&&me.t&&me.t.posLetter===_e._id&&xe&&(be+=me.t.dPos),ie(ye,be);var we={};W=W.filter(function(e){var t=z(e);if(!we[t])return we[t]=!0,we[t]})}var ke=e._hoverdata,Le=[];for(E=0;E<W.length;E++){var Me=W[E],Ae=m.makeEventData(Me,Me.trace,Me.cd);if(!1!==Me.hovertemplate){var Se=!1;Me.cd[Me.index]&&Me.cd[Me.index].ht&&(Se=Me.cd[Me.index].ht),Me.hovertemplate=Se||Me.trace.hovertemplate||!1}Me.eventData=[Ae],Le.push(Ae)}e._hoverdata=Le;var ze="y"===S&&(K.length>1||W.length>1)||"closest"===S&&J&&W.length>1,Te=h.combine(s.plot_bgcolor||h.background,s.paper_bgcolor),Ce={hovermode:S,rotateLabels:ze,bgColor:Te,container:s._hoverlayer,outerContainer:s._paperdiv,commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance},Ie=C(W,Ce,e);m.isUnifiedHover(S)||(!function(e,t,r){var n,a,i,o,l,s,c,u=0,d=1,f=e.size(),h=new Array(f),p=0;function v(e){var t=e[0],r=e[e.length-1];if(a=t.pmin-t.pos-t.dp+t.size,i=r.pos+r.dp+r.size-t.pmax,a>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=a;n=!1}if(!(i<.01)){if(a<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;n=!1}if(n){var c=0;for(o=0;o<e.length;o++)(s=e[o]).pos+s.dp+s.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos>t.pmax-1&&(s.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if((s=e[o]).pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}e.each(function(e){var n=e[t],a="x"===n._id.charAt(0),i=n.range;0===p&&i&&i[0]>i[1]!==a&&(d=-1),h[p++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(a?k:1)/2,pmin:0,pmax:a?r.width:r.height}]}),h.sort(function(e,t){return e[0].posref-t[0].posref||d*(t[0].traceIndex-e[0].traceIndex)});for(;!n&&u<=f;){for(u++,n=!0,o=0;o<h.length-1;){var g=h[o],m=h[o+1],x=g[g.length-1],y=m[0];if((a=x.pos+x.dp+x.size-y.pos-y.dp+y.size)>.01&&x.pmin===y.pmin&&x.pmax===y.pmax){for(l=m.length-1;l>=0;l--)m[l].dp+=a;for(g.push.apply(g,m),h.splice(o+1,1),c=0,l=g.length-1;l>=0;l--)c+=g[l].dp;for(i=c/g.length,l=g.length-1;l>=0;l--)g[l].dp-=i;n=!1}else o++}h.forEach(v)}for(o=h.length-1;o>=0;o--){var _=h[o];for(l=_.length-1;l>=0;l--){var b=_[l],w=b.datum;w.offset=b.dp,w.del=b.del}}}(Ie,ze?"xa":"ya",s),P(Ie,ze,s._invScaleX,s._invScaleY));if(t.target&&t.target.tagName){var Pe=g.getComponentMethod("annotations","hasClickToShow")(e,Le);d(n.select(t.target),Pe?"pointer":"")}if(!t.target||i||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var a=r[n],i=e._hoverdata[n];if(a.curveNumber!==i.curveNumber||String(a.pointNumber)!==String(i.pointNumber)||String(a.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(e,0,ke))return;ke&&e.emit("plotly_unhover",{event:t,points:ke});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:_,yaxes:b,xvals:T,yvals:I})}(e,t,r,i)})},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var a=e.map(function(e){return{color:e.color||h.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}}),i=n.select(t.container),o=t.outerContainer?n.select(t.outerContainer):i,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||h.background,container:i,outerContainer:o},s=C(a,l,t.gd),c=0,u=0;s.sort(function(e,t){return e.y0-t.y0}).each(function(e,r){var n=e.y0-e.by/2;e.offset=n-5<c?c-n+5:0,c=n+e.by+e.offset,r===t.anchorIndex&&(u=e.offset)}).each(function(e){e.offset-=u});var d=t.gd._fullLayout._invScaleX,f=t.gd._fullLayout._invScaleY;return P(s,l.rotateLabels,d,f),r?s:s.node()};var T=/<extra>([\s\S]*)<\/extra>/;function C(e,t,r){var a=r._fullLayout,i=t.hovermode,c=t.rotateLabels,d=t.bgColor,p=t.container,v=t.outerContainer,g=t.commonLabelOpts||{},w=t.fontFamily||x.HOVERFONT,k=t.fontSize||x.HOVERFONTSIZE,L=e[0],M=L.xa,T=L.ya,C="y"===i.charAt(0)?"yLabel":"xLabel",P=L[C],O=(String(P)||"").split(" ")[0],R=v.node().getBoundingClientRect(),D=R.top,E=R.width,H=R.height,F=void 0!==P&&L.distance<=t.hoverdistance&&("x"===i||"y"===i);if(F){var Z,B,N=!0;for(Z=0;Z<e.length;Z++)if(N&&void 0===e[Z].zLabel&&(N=!1),B=e[Z].hoverinfo||e[Z].trace.hoverinfo){var V=Array.isArray(B)?B:B.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(i)){F=!1;break}}N&&(F=!1)}var q=p.selectAll("g.axistext").data(F?[0]:[]);function G(e){return e.filter(function(e){return void 0!==e.zLabelVal||(e[C]||"").split(" ")[0]===O})}if(q.enter().append("g").classed("axistext",!0),q.exit().remove(),q.each(function(){var t=n.select(this),s=o.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),c=o.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),d=g.bgcolor||h.defaultLine,p=g.bordercolor||h.contrast(d),v=h.contrast(d),m={family:g.font.family||w,size:g.font.size||k,color:g.font.color||v};s.style({fill:d,stroke:p}),c.text(P).call(f.font,m).call(u.positionText,0,0).call(u.convertToTspans,r),t.attr("transform","");var x,y,_=c.node().getBoundingClientRect();if("x"===i){var b="top"===M.side?"-":"";c.attr("text-anchor","middle").call(u.positionText,0,"top"===M.side?D-_.bottom-A-S:D-_.top+A+S),x=M._offset+(L.x0+L.x1)/2,y=T._offset+("top"===M.side?0:T._length);var z=_.width/2+S;x<z?(x=z,s.attr("d","M-"+(z-A)+",0L-"+(z-2*A)+","+b+A+"H"+(S+_.width/2)+"v"+b+(2*S+_.height)+"H-"+z+"V"+b+A+"Z")):x>a.width-z?(x=a.width-z,s.attr("d","M"+(z-A)+",0L"+z+","+b+A+"v"+b+(2*S+_.height)+"H-"+z+"V"+b+A+"H"+(z-2*A)+"Z")):s.attr("d","M0,0L"+A+","+b+A+"H"+(S+_.width/2)+"v"+b+(2*S+_.height)+"H-"+(S+_.width/2)+"V"+b+A+"H-"+A+"Z")}else{var C,I,O;"right"===T.side?(C="start",I=1,O="",x=M._offset+M._length):(C="end",I=-1,O="-",x=M._offset),y=T._offset+(L.y0+L.y1)/2,c.attr("text-anchor",C),s.attr("d","M0,0L"+O+A+","+A+"V"+(S+_.height/2)+"h"+O+(2*S+_.width)+"V-"+(S+_.height/2)+"H"+O+A+"V-"+A+"Z");var R,E=_.height/2,H=D-_.top-E,F="clip"+a._uid+"commonlabel"+T._id;if(x<_.width+2*S+A){R="M-"+(A+S)+"-"+E+"h-"+(_.width-S)+"V"+E+"h"+(_.width-S)+"Z";var Z=_.width-x+S;u.positionText(c,Z,H),"end"===C&&c.selectAll("tspan").each(function(){var e=n.select(this),t=f.tester.append("text").text(e.text()).call(f.font,m),r=t.node().getBoundingClientRect();Math.round(r.width)<Math.round(_.width)&&e.attr("x",Z-r.width),t.remove()})}else u.positionText(c,I*(S+A),H),R=null;var B=a._topclips.selectAll("#"+F).data(R?[0]:[]);B.enter().append("clipPath").attr("id",F).append("path"),B.exit().remove(),B.select("path").attr("d",R),f.setClipUrl(c,R?F:null,r)}t.attr("transform",l(x,y)),e=G(e)}),m.isUnifiedHover(i)){if(p.selectAll("g.hovertext").remove(),void 0!==P&&L.distance<=t.hoverdistance&&(e=G(e)),0===e.length)return;var j={showlegend:!0,legend:{title:{text:P,font:a.hoverlabel.font},font:a.hoverlabel.font,bgcolor:a.hoverlabel.bgcolor,bordercolor:a.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:a.legend?a.legend.traceorder:void 0,orientation:"v"}},U={};y(j,U,r._fullData);var Y=U.legend;Y.entries=[];for(var X=0;X<e.length;X++){var W=I(e[X],!0,i,a,P),K=W[0],Q=W[1],J=e[X];J.name=Q,J.text=""!==Q?Q+" : "+K:K;var $=J.cd[J.index];$&&($.mc&&(J.mc=$.mc),$.mcc&&(J.mc=$.mcc),$.mlc&&(J.mlc=$.mlc),$.mlcc&&(J.mlc=$.mlcc),$.mlw&&(J.mlw=$.mlw),$.mrc&&(J.mrc=$.mrc),$.dir&&(J.dir=$.dir)),J._distinct=!0,Y.entries.push([J])}Y.entries.sort(function(e,t){return e[0].trace.index-t[0].trace.index}),Y.layer=p,_(r,Y);var ee=o.mean(e.map(function(e){return(e.y0+e.y1)/2})),te=o.mean(e.map(function(e){return(e.x0+e.x1)/2})),re=p.select("g.legend"),ne=re.node().getBoundingClientRect();te+=M._offset,ee+=T._offset-ne.height/2;var ae=ne.width+2*S;!(te+ae<=E)&&te-ae>=0?te-=ae:te+=2*S;var ie=ne.height+2*S,oe=ee+ie>=H;return ie<=H&&(ee<=D?ee=T._offset+2*S:oe&&(ee=H-ie)),re.attr("transform",l(te,ee)),re}var le=p.selectAll("g.hovertext").data(e,function(e){return z(e)});return le.enter().append("g").classed("hovertext",!0).each(function(){var e=n.select(this);e.append("rect").call(h.fill,h.addOpacity(d,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(f.font,w,k)}),le.exit().remove(),le.each(function(e){var t=n.select(this).attr("transform",""),o=e.color;Array.isArray(o)&&(o=o[e.eventData[0].pointNumber]);var p=e.bgcolor||o,v=h.combine(h.opacity(p)?p:h.defaultLine,d),g=h.combine(h.opacity(o)?o:h.defaultLine,d),m=e.borderColor||h.contrast(v),x=I(e,F,i,a,P,t),y=x[0],_=x[1],L=t.select("text.nums").call(f.font,e.fontFamily||w,e.fontSize||k,e.fontColor||m).text(y).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r),M=t.select("text.name"),z=0,T=0;if(_&&_!==y){M.call(f.font,e.fontFamily||w,e.fontSize||k,g).text(_).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r);var C=M.node().getBoundingClientRect();z=C.width+2*S,T=C.height+2*S}else M.remove(),t.select("rect").remove();t.select("path").style({fill:v,stroke:m});var O,R,Z=L.node().getBoundingClientRect(),B=e.xa._offset+(e.x0+e.x1)/2,N=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),q=Math.abs(e.y1-e.y0),G=Z.width+A+S+z;if(e.ty0=D-Z.top,e.bx=Z.width+2*S,e.by=Math.max(Z.height+2*S,T),e.anchor="start",e.txwidth=Z.width,e.tx2width=z,e.offset=0,c)e.pos=B,O=N+q/2+G<=H,R=N-q/2-G>=0,"top"!==e.idealAlign&&O||!R?O?(N+=q/2,e.anchor="start"):e.anchor="middle":(N-=q/2,e.anchor="end");else if(e.pos=N,O=B+V/2+G<=E,R=B-V/2-G>=0,"left"!==e.idealAlign&&O||!R)if(O)B+=V/2,e.anchor="start";else{e.anchor="middle";var j=G/2,U=B+j-E,Y=B-j;U>0&&(B-=U),Y<0&&(B+=-Y)}else B-=V/2,e.anchor="end";L.attr("text-anchor",e.anchor),z&&M.attr("text-anchor",e.anchor),t.attr("transform",l(B,N)+(c?s(b):""))}),le}function I(e,t,r,n,a,i){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),l=E(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[r.charAt(0)+"Label"]===a?s=e[("x"===r.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),i&&""===s&&!e.hovertemplate&&(""===l&&i.remove(),s=l);var c=n._d3locale,u=e.hovertemplate||!1,d=e.hovertemplateLabels||e,f=e.eventData[0]||{};return u&&(s=(s=o.hovertemplateString(u,d,c,f,e.trace._meta)).replace(T,function(t,r){return l=E(r,e.nameLength),""})),[s,l]}function P(e,t,r,a){var i=function(e){return e*r},o=function(e){return e*a};e.each(function(e){var r=n.select(this);if(e.del)return r.remove();var a=r.select("text.nums"),l=e.anchor,s="end"===l?-1:1,c={start:1,end:-1,middle:0}[l],d=c*(A+S),h=d+c*(e.txwidth+S),p=0,v=e.offset,g="middle"===l;g&&(d-=e.tx2width/2,h+=e.txwidth/2+S),t&&(v*=-M,p=e.offset*L),r.select("path").attr("d",g?"M-"+i(e.bx/2+e.tx2width/2)+","+o(v-e.by/2)+"h"+i(e.bx)+"v"+o(e.by)+"h-"+i(e.bx)+"Z":"M0,0L"+i(s*A+p)+","+o(A+v)+"v"+o(e.by/2-A)+"h"+i(s*e.bx)+"v-"+o(e.by)+"H"+i(s*A+p)+"V"+o(v-A)+"Z");var m=p+d,x=v+e.ty0-e.by/2+S,y=e.textAlign||"auto";"auto"!==y&&("left"===y&&"start"!==l?(a.attr("text-anchor","start"),m=g?-e.bx/2-e.tx2width/2+S:-e.bx-S):"right"===y&&"end"!==l&&(a.attr("text-anchor","end"),m=g?e.bx/2-e.tx2width/2-S:e.bx+S)),a.call(u.positionText,i(m),o(x)),e.tx2width&&(r.select("text.name").call(u.positionText,i(h+c*S+p),o(v+e.ty0-e.by/2+S)),r.select("rect").call(f.setRect,i(h+(c-1)*e.tx2width/2+p),o(v-e.by/2-1),i(e.tx2width),o(e.by+2)))})}function O(e,t){var r=e.index,n=e.trace||{},i=e.cd[0],l=e.cd[r]||{};function s(e){return e||a(e)&&0===e}var c=Array.isArray(r)?function(e,t){var a=o.castOption(i,r,e);return s(a)?a:o.extractOption({},n,"",t)}:function(e,t){return o.extractOption(l,n,e,t)};function u(t,r,n){var a=c(r,n);s(a)&&(e[t]=a)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===n.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:v.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:v.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var d=v.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+d+" / -"+v.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+d,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var f=v.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+f+" / -"+v.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+f,"y"===t&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===h.indexOf("y")&&(e.yLabel=void 0),-1===h.indexOf("z")&&(e.zLabel=void 0),-1===h.indexOf("text")&&(e.text=void 0),-1===h.indexOf("name")&&(e.name=void 0)),e}function R(e,t,r){var n,a,o=r.container,l=r.fullLayout,s=l._size,c=r.event,u=!!t.hLinePoint,d=!!t.vLinePoint;if(o.selectAll(".spikeline").remove(),d||u){var p=h.combine(l.plot_bgcolor,l.paper_bgcolor);if(u){var g,m,x=t.hLinePoint;n=x&&x.xa,"cursor"===(a=x&&x.ya).spikesnap?(g=c.pointerX,m=c.pointerY):(g=n._offset+x.x,m=a._offset+x.y);var y,_,b=i.readability(x.color,p)<1.5?h.contrast(p):x.color,w=a.spikemode,k=a.spikethickness,L=a.spikecolor||b,M=v.getPxPosition(e,a);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(y=M,_=g),-1!==w.indexOf("across")){var A=a._counterDomainMin,S=a._counterDomainMax;"free"===a.anchor&&(A=Math.min(A,a.position),S=Math.max(S,a.position)),y=s.l+A*s.w,_=s.l+S*s.w}o.insert("line",":first-child").attr({x1:y,x2:_,y1:m,y2:m,"stroke-width":k,stroke:L,"stroke-dasharray":f.dashStyle(a.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:y,x2:_,y1:m,y2:m,"stroke-width":k+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:M+("right"!==a.side?k:-k),cy:m,r:k,fill:L}).classed("spikeline",!0)}if(d){var z,T,C=t.vLinePoint;n=C&&C.xa,a=C&&C.ya,"cursor"===n.spikesnap?(z=c.pointerX,T=c.pointerY):(z=n._offset+C.x,T=a._offset+C.y);var I,P,O=i.readability(C.color,p)<1.5?h.contrast(p):C.color,R=n.spikemode,D=n.spikethickness,E=n.spikecolor||O,H=v.getPxPosition(e,n);if(-1!==R.indexOf("toaxis")||-1!==R.indexOf("across")){if(-1!==R.indexOf("toaxis")&&(I=H,P=T),-1!==R.indexOf("across")){var F=n._counterDomainMin,Z=n._counterDomainMax;"free"===n.anchor&&(F=Math.min(F,n.position),Z=Math.max(Z,n.position)),I=s.t+(1-Z)*s.h,P=s.t+(1-F)*s.h}o.insert("line",":first-child").attr({x1:z,x2:z,y1:I,y2:P,"stroke-width":D,stroke:E,"stroke-dasharray":f.dashStyle(n.spikedash,D)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:z,x2:z,y1:I,y2:P,"stroke-width":D+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==R.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:z,cy:H-("top"!==n.side?D:-D),r:D,fill:E}).classed("spikeline",!0)}}}function D(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function E(e,t){return u.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},function(e,t,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},function(e,t,r){"use strict";var n=r(342);e.exports=n&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},function(e,t,r){"use strict";var n=r(0),a=r(102);e.exports=function(e,t,r){function i(r,i){return void 0!==t[r]?t[r]:n.coerce(e,t,a,r,i)}var o,l=i("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?o="closest":(t._isHoriz=function(e,t){for(var r=t._scatterStackOpts||{},n=0;n<e.length;n++){var a=e[n],i=a.xaxis+a.yaxis,o=r[i]||{},l=o[a.stackgroup]||{};if("h"!==a.orientation&&"h"!==l.orientation)return!1}return!0}(r,t),o=t._isHoriz?"y":"x"):o="closest",i("hovermode",o)}},function(e,t,r){"use strict";var n=r(28).FROM_BL;e.exports=function(e,t,r){void 0===r&&(r=n[e.constraintoward||"center"]);var a=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=a[0]+(a[1]-a[0])*r;e.range=e._input.range=[e.l2r(i+(a[0]-i)*t),e.l2r(i+(a[1]-i)*t)],e.setScale()}},function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(57),o=r(0),l=r(338),s=r(14),c=r(38),u=r(111),d=r(387),f=r(99),h=r(28),p=r(341),v=p.enforce,g=p.clean,m=r(107).doAutoRange,x="start",y="middle",_="end";function b(e,t,r){for(var n=0;n<r.length;n++){var a=r[n][0],i=r[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&(i[0]<t[1]&&i[1]>t[0]))return!0}return!1}function w(e){var r,a,l,u,p,v,g=e._fullLayout,m=g._size,x=m.p,y=f.list(e,"",!0);if(g._paperdiv.style({width:e._context.responsive&&g.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":g.width+"px",height:e._context.responsive&&g.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(c.setSize,g.width,g.height),e._context.setBackground(e,g.paper_bgcolor),t.drawMainTitle(e),d.manage(e),!g._has("cartesian"))return i.previousPromises(e);function _(e,t,r){var n=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===r?t._offset-x-n:t._offset+t._length+x+n:m.t+m.h*(1-(e.position||0))+n%1:t?"right"===r?t._offset+t._length+x+n:t._offset-x-n:m.l+m.w*(e.position||0)+n%1}for(r=0;r<y.length;r++){var w=(u=y[r])._anchorAxis;u._linepositions={},u._lw=c.crispRound(e,u.linewidth,1),u._mainLinePosition=_(u,w,u.side),u._mainMirrorPosition=u.mirror&&w?_(u,w,h.OPPOSITE_SIDE[u.side]):null}var L=[],A=[],S=[],z=1===s.opacity(g.paper_bgcolor)&&1===s.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(a in g._plots)if((l=g._plots[a]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var T=l.xaxis.domain,C=l.yaxis.domain,I=l.plotgroup;if(b(T,C,S)){var P=I.node(),O=l.bg=o.ensureSingle(I,"rect","bg");P.insertBefore(O.node(),P.childNodes[0]),A.push(a)}else I.select("rect.bg").remove(),S.push([T,C]),z||(L.push(a),A.push(a))}var R,D,E,H,F,Z,B,N,V,q,G,j,U,Y=g._bgLayer.selectAll(".bg").data(L);for(Y.enter().append("rect").classed("bg",!0),Y.exit().remove(),Y.each(function(e){g._plots[e].bg=n.select(this)}),r=0;r<A.length;r++)l=g._plots[A[r]],p=l.xaxis,v=l.yaxis,l.bg&&void 0!==p._offset&&void 0!==v._offset&&l.bg.call(c.setRect,p._offset-x,v._offset-x,p._length+2*x,v._length+2*x).call(s.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(a in g._plots){l=g._plots[a],p=l.xaxis,v=l.yaxis;var X,W,K=l.clipId="clip"+g._uid+a+"plot",Q=o.ensureSingleById(g._clips,"clipPath",K,function(e){e.classed("plotclip",!0).append("rect")});l.clipRect=Q.select("rect").attr({width:p._length,height:v._length}),c.setTranslate(l.plot,p._offset,v._offset),l._hasClipOnAxisFalse?(X=null,W=K):(X=K,W=null),c.setClipUrl(l.plot,X,e),l.layerClipId=W}function J(e){return"M"+R+","+e+"H"+D}function $(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+N+"V"+B}function te(e){return"M"+e+","+v._offset+"v"+v._length}function re(e,t,r){if(!e.showline||a!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var n=t(e._mainLinePosition);return e.mirror&&(n+=t(e._mainMirrorPosition)),n}for(a in g._plots){l=g._plots[a],p=l.xaxis,v=l.yaxis;var ne="M0,0";k(p,a)&&(F=M(p,"left",v,y),R=p._offset-(F?x+F:0),Z=M(p,"right",v,y),D=p._offset+p._length+(Z?x+Z:0),E=_(p,v,"bottom"),H=_(p,v,"top"),!(U=!p._anchorAxis||a!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[a]=[E,H]),ne=re(p,J,$),U&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(ne+=J(E)+J(H)),l.xlines.style("stroke-width",p._lw+"px").call(s.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",ne);var ae="M0,0";k(v,a)&&(G=M(v,"bottom",p,y),B=v._offset+v._length+(G?x:0),j=M(v,"top",p,y),N=v._offset-(j?x:0),V=_(v,p,"left"),q=_(v,p,"right"),!(U=!v._anchorAxis||a!==v._mainSubplot)||"allticks"!==v.mirror&&"all"!==v.mirror||(v._linepositions[a]=[V,q]),ae=re(v,ee,te),U&&v.showline&&("all"===v.mirror||"allticks"===v.mirror)&&(ae+=ee(V)+ee(q)),l.ylines.style("stroke-width",v._lw+"px").call(s.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ae)}return f.makeClipPaths(e),i.previousPromises(e)}function k(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function L(e,t,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var n=r._anchorAxis;if(!n)return!1;var a=h.FROM_BL[t];return r.side===t?n.domain[a]===e.domain[a]:r.mirror&&n.domain[1-a]===e.domain[1-a]}function M(e,t,r,n){if(L(e,t,r))return r._lw;for(var a=0;a<n.length;a++){var i=n[a];if(i._mainAxis===r._mainAxis&&L(e,t,i))return i._lw}return 0}t.layoutStyles=function(e){return o.syncOrAsync([i.doAutoMargin,w],e)},t.drawMainTitle=function(e){var t=e._fullLayout,r=function(e){var t=e.title,r=y;o.isRightAnchor(t)?r=_:o.isLeftAnchor(t)&&(r=x);return r}(t),n=function(e){var t=e.title,r="0em";o.isTopAnchor(t)?r=h.CAP_SHIFT+"em":o.isMiddleAnchor(t)&&(r=h.MID_SHIFT+"em");return r}(t);u.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:function(e,t){var r=e.title,n=e._size,a=0;t===x?a=r.pad.l:t===_&&(a=-r.pad.r);switch(r.xref){case"paper":return n.l+n.w*r.x+a;case"container":default:return e.width*r.x+a}}(t,r),y:function(e,t){var r=e.title,n=e._size,a=0;"0em"!==t&&t?t===h.CAP_SHIFT+"em"&&(a=r.pad.t):a=-r.pad.b;if("auto"===r.y)return n.t/2;switch(r.yref){case"paper":return n.t+n.h-n.h*r.y+a;case"container":default:return e.height-e.height*r.y+a}}(t,n),"text-anchor":r,dy:n}})},t.doTraceStyle=function(e){var r,n=e.calcdata,o=[];for(r=0;r<n.length;r++){var s=n[r],c=s[0]||{},u=c.trace||{},d=u._module||{},f=d.arraysToCalcdata;f&&f(s,u);var h=d.editStyle;h&&o.push({fn:h,cd0:c})}if(o.length){for(r=0;r<o.length;r++){var p=o[r];p.fn(e,p.cd0)}l(e),t.redrawReglTraces(e)}return i.style(e),a.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doColorBars=function(e){return a.getComponentMethod("colorbar","draw")(e),i.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,a.call("plot",e,"",t)},t.doLegend=function(e){return a.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doTicksRelayout=function(e){return f.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),i.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var n=t._basePlotModules[r].updateFx;n&&n(e)}return i.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,r=t._subplots.gl3d,n=0;n<r.length;n++){var a=t[r[n]];a._scene.setViewport(a)}},t.drawData=function(e){var r=e._fullLayout;l(e);for(var n=r._basePlotModules,o=0;o<n.length;o++)n[o].plot(e);return t.redrawReglTraces(e),i.style(e),a.getComponentMethod("shapes","draw")(e),a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("images","draw")(e),r._replotting=!1,i.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r,n,a=e._fullData,i=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),r=0;r<a.length;r++){var s=a[r];!0===s.visible&&0!==s._length&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?o.pushUnique(i,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&o.pushUnique(l,s.subplot))}for(r=0;r<i.length;r++)(n=t._plots[i[r]])._scene&&n._scene.draw();for(r=0;r<l.length;r++)(n=t[l[r]]._subplot)._scene&&n._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,r=f.list(e,"",!0),n={},a=0;a<r.length;a++)if(!n[(t=r[a])._id]){n[t._id]=1,g(e,t),m(e,t);var i=t._matchGroup;if(i)for(var o in i){var l=f.getFromId(e,o);m(e,l,t.range),n[o]=1}}v(e)},t.finalDraw=function(e){a.getComponentMethod("rangeslider","draw")(e),a.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){a.getComponentMethod("legend","draw")(e),a.getComponentMethod("rangeselector","draw")(e),a.getComponentMethod("sliders","draw")(e),a.getComponentMethod("updatemenus","draw")(e),a.getComponentMethod("colorbar","draw")(e)}},function(e,t,r){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},function(e,t,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},,function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(a(r))for(l=Array.prototype.slice.call(arguments,1),o=(c=r.slice()).length,s=0;s<o;s++)c[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var r,i,o,l;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(l=o;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){i=l;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";var n=r(14),a=r(337).castOption;e.exports=function(e,t,r){var i=r.marker.line,o=a(i.color,t.pts)||n.defaultLine,l=a(i.width,t.pts)||0;e.style("stroke-width",l).call(n.fill,t.color).call(n.stroke,o)}},function(e,t,r){"use strict";var n=r(328),a=r(334).drawMode,i=r(3),o=r(339),l=o.i000,s=o.i090,c=o.i180,u=o.i270,d=r(103).clearOutlineControllers,f=r(335),h=f.pointsShapeRectangle,p=f.pointsShapeEllipse,v=f.writePaths,g=r(355);e.exports=function e(t,r,o,f){f||(f=0);var m=o.gd;function x(){e(t,r,o,f++),p(t[0])&&y({redrawing:!0})}function y(e){o.isActiveShape=!1;var t=g(r,o);Object.keys(t).length&&i.call((e||{}).redrawing?"relayout":"_guiRelayout",m,t)}var _,b,w,k,L,M=o.isActiveShape,A=m._fullLayout._zoomlayer,S=o.dragmode;(a(S)?m._fullLayout._drawing=!0:m._fullLayout._activeShapeIndex>=0&&d(m),r.attr("d",v(t)),M&&!f)&&(L=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e[r]=[];for(var a=0;a<n.length;a++){e[r][a]=[];for(var i=0;i<n[a].length;i++)e[r][a][i]=n[a][i]}}return e}([],t),function(e){_=[];for(var r=0;r<t.length;r++){var a=t[r],i=h(a),o=!i&&p(a);_[r]=[];for(var d=0;d<a.length;d++)if("Z"!==a[d][0]&&(!o||d===l||d===s||d===c||d===u)){var f=a[d][1],v=a[d][2],g=e.append("circle").classed("cursor-grab",!0).attr("data-i",r).attr("data-j",d).attr("cx",f).attr("cy",v).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});_[r][d]={element:g.node(),gd:m,prepFn:z,doneFn:C,clickFn:I},n.init(_[r][d])}}}(A.append("g").attr("class","outline-controllers")),function(){if(b=[],!t.length)return;b[0]={element:r[0][0],gd:m,prepFn:O,doneFn:R},n.init(b[0])}());function z(e){w=+e.srcElement.getAttribute("data-i"),k=+e.srcElement.getAttribute("data-j"),_[w][k].moveFn=T}function T(e,r){if(t.length){var n=L[w][k][1],a=L[w][k][2],i=t[w],o=i.length;if(h(i)){for(var l=0;l<o;l++)if(l!==k){var s=i[l];s[1]===i[k][1]&&(s[1]=n+e),s[2]===i[k][2]&&(s[2]=a+r)}if(i[k][1]=n+e,i[k][2]=a+r,!h(i))for(var c=0;c<o;c++)for(var u=0;u<i[c].length;u++)i[c][u]=L[w][c][u]}else i[k][1]=n+e,i[k][2]=a+r;x()}}function C(){y()}function I(e,r){if(2===e){w=+r.srcElement.getAttribute("data-i"),k=+r.srcElement.getAttribute("data-j");var n=t[w];h(n)||p(n)||function(){if(t.length&&t[w]&&t[w].length){for(var e=[],r=0;r<t[w].length;r++)r!==k&&e.push(t[w][r]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===k&&(e[0][0]="M"),t[w]=e,x(),y())}}()}}function P(e,r){!function(e,r){if(t.length)for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)for(var i=0;i+2<t[n][a].length;i+=2)t[n][a][i+1]=L[n][a][i+1]+e,t[n][a][i+2]=L[n][a][i+2]+r}(e,r),x()}function O(e){(w=+e.srcElement.getAttribute("data-i"))||(w=0),b[w].moveFn=P}function R(){y()}}},function(e,t,r){"use strict";var n=r(334),a=n.drawMode,i=n.openMode,o=r(339),l=o.i000,s=o.i090,c=o.i180,u=o.i270,d=o.cos45,f=o.sin45,h=r(340),p=h.p2r,v=h.r2p,g=r(103).clearSelect,m=r(335),x=m.readPaths,y=m.writePaths,_=m.ellipseOver;e.exports=function(e,t){if(e.length){var r=e[0][0];if(r){var n=r.getAttribute("d"),o=t.gd,h=o._fullLayout.newshape,m=t.plotinfo,b=m.xaxis,w=m.yaxis,k=!!m.domain||!m.xaxis,L=!!m.domain||!m.yaxis,M=t.isActiveShape,A=t.dragmode,S=(o.layout||{}).shapes||[];if(!a(A)&&void 0!==M){var z=o._fullLayout._activeShapeIndex;if(z<S.length)switch(o._fullLayout.shapes[z].type){case"rect":A="drawrect";break;case"circle":A="drawcircle";break;case"line":A="drawline";break;case"path":var T=S[z].path||"";A="Z"===T[T.length-1]?"drawclosedpath":"drawopenpath"}}var C,I=i(A),P=x(n,o,m,M),O={editable:!0,xref:k?"paper":b._id,yref:L?"paper":w._id,layer:h.layer,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};if(I||(O.fillcolor=h.fillcolor,O.fillrule=h.fillrule),1===P.length&&(C=P[0]),C&&"drawrect"===A)O.type="rect",O.x0=C[0][1],O.y0=C[0][2],O.x1=C[2][1],O.y1=C[2][2];else if(C&&"drawline"===A)O.type="line",O.x0=C[0][1],O.y0=C[0][2],O.x1=C[1][1],O.y1=C[1][2];else if(C&&"drawcircle"===A){O.type="circle";var R=C[l][1],D=C[s][1],E=C[c][1],H=C[u][1],F=C[l][2],Z=C[s][2],B=C[c][2],N=C[u][2],V=m.xaxis&&("date"===m.xaxis.type||"log"===m.xaxis.type),q=m.yaxis&&("date"===m.yaxis.type||"log"===m.yaxis.type);V&&(R=v(m.xaxis,R),D=v(m.xaxis,D),E=v(m.xaxis,E),H=v(m.xaxis,H)),q&&(F=v(m.yaxis,F),Z=v(m.yaxis,Z),B=v(m.yaxis,B),N=v(m.yaxis,N));var G=(D+H)/2,j=(F+B)/2,U=_({x0:G,y0:j,x1:G+(H-D+E-R)/2*d,y1:j+(N-Z+B-F)/2*f});V&&(U.x0=p(m.xaxis,U.x0),U.x1=p(m.xaxis,U.x1)),q&&(U.y0=p(m.yaxis,U.y0),U.y1=p(m.yaxis,U.y1)),O.x0=U.x0,O.y0=U.y0,O.x1=U.x1,O.y1=U.y1}else O.type="path",b&&w&&function(e,t,r){var n="date"===t.type,a="date"===r.type;if(!n&&!a)return e;for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var l=0;l+2<e[i][o].length;l+=2)n&&(e[i][o][l+1]=e[i][o][l+1].replace(" ","_")),a&&(e[i][o][l+2]=e[i][o][l+2].replace(" ","_"))}(P,b,w),O.path=y(P),C=null;g(o);for(var Y=t.editHelpers,X=(Y||{}).modifyItem,W=[],K=0;K<S.length;K++){var Q=o._fullLayout.shapes[K];if(W[K]=Q._input,void 0!==M&&K===o._fullLayout._activeShapeIndex){var J=O;switch(Q.type){case"line":case"rect":case"circle":X("x0",J.x0),X("x1",J.x1),X("y0",J.y0),X("y1",J.y1);break;case"path":X("path",J.path)}}}return void 0===M?(W.push(O),W):Y?Y.getUpdateObj():{}}}}},function(e,t,r){"use strict";(function(t){var n,a=r(342);n="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:a,e.exports=n}).call(t,r(10))},function(e,t,r){"use strict";var n=r(3),a=r(0),i=r(17),o=r(358),l=r(41),s=r(332);e.exports=function(e,t,r){for(var c=e.legend||{},u=0,d=!1,f="normal",h=0;h<r.length;h++){var p=r[h];p.visible&&((p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&!1===p._module.attributes.showlegend.dflt))&&(u++,p.showlegend&&(d=!0,(n.traceIs(p,"pie-like")||!0===p._input.showlegend)&&u++)),(n.traceIs(p,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(f=s.isGrouped({traceorder:f})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(f=s.isReversed({traceorder:f})?"reversed+grouped":"grouped"))}var v=a.coerce(e,t,l,"showlegend",d&&u>1);if(!1!==v||c.uirevision){var g=i.newContainer(t,"legend");if(b("uirevision",t.uirevision),!1!==v){b("bgcolor",t.paper_bgcolor),b("bordercolor"),b("borderwidth"),a.coerceFont(b,"font",t.font);var m,x,y,_=b("orientation");"h"===_?(m=0,n.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(x=1.1,y="bottom"):(x=-.1,y="top")):(m=1.02,x=1,y="auto"),b("traceorder",f),s.isGrouped(t.legend)&&b("tracegroupgap"),b("itemsizing"),b("itemwidth"),b("itemclick"),b("itemdoubleclick"),b("x",m),b("xanchor"),b("y",x),b("yanchor",y),b("valign"),a.noneOrAll(c,g,["x","y"]),b("title.text")&&(b("title.side","h"===_?"left":"top"),a.coerceFont(b,"title.font",t.font))}}function b(e,t){return a.coerce(c,g,o,e,t)}}},function(e,t,r){"use strict";var n=r(11),a=r(40);e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:n({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:n({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},function(e,t,r){"use strict";var n=r(4),a=r(0),i=r(57),o=r(3),l=r(331),s=r(328),c=r(38),u=r(14),d=r(39),f=r(368),h=r(344),p=r(28),v=p.LINE_SPACING,g=p.FROM_TL,m=p.FROM_BR,x=r(369),y=r(360),_=r(332);function b(e,t,r,n,a){var i=r.data()[0][0].trace,s={event:a,node:r.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(i._group&&(s.group=i._group),o.traceIs(i,"pie-like")&&(s.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",s))if(1===n)t._clickTimeout=setTimeout(function(){f(r,e,n)},e._context.doubleClickDelay);else if(2===n){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",s)&&f(r,e,n)}}function w(e,t,r){var n,i=e.data()[0][0],l=i.trace,s=o.traceIs(l,"pie-like"),u=l.index,f=r._main&&t._context.edits.legendText&&!s,p=r._maxNameLength;r.entries?n=i.text:(n=s?i.label:l.name,l._meta&&(n=a.templateString(n,l._meta)));var v=a.ensureSingle(e,"text","legendtext");v.attr("text-anchor","start").call(c.font,r.font).text(f?k(n,p):n);var g=r.itemwidth+2*h.itemGap;d.positionText(v,g,0),f?v.call(d.makeEditable,{gd:t,text:n}).call(M,e,t,r).on("edit",function(n){this.text(k(n,p)).call(M,e,t,r);var l=i.trace._fullInput||{},s={};if(o.hasTransform(l,"groupby")){var c=o.getTransformIndices(l,"groupby"),d=c[c.length-1],f=a.keyedContainer(l,"transforms["+d+"].styles","target","value.name");f.set(i.trace._group,n),s=f.constructUpdate()}else s.name=n;return o.call("_guiRestyle",t,s,u)}):M(v,e,t,r)}function k(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;for(var n=r-(e=e||"").length;n>0;n--)e+=" ";return e}function L(e,t){var r,i=t._context.doubleClickDelay,o=1,l=a.ensureSingle(e,"rect","legendtoggle",function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(u.fill,"rgba(0,0,0,0)")});t._context.staticPlot||(l.on("mousedown",function(){(r=(new Date).getTime())-t._legendMouseDownTime<i?o+=1:(o=1,t._legendMouseDownTime=r)}),l.on("mouseup",function(){if(!t._dragged&&!t._editing){var r=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>i&&(o=Math.max(o-1,1)),b(t,r,e,o,n.event)}}))}function M(e,t,r,n){n._main||e.attr("data-notex",!0),d.convertToTspans(e,r,function(){!function(e,t,r){var n=e.data()[0][0];if(r._main&&n&&!n.trace.showlegend)return void e.remove();var a=e.select("g[class*=math-group]"),i=a.node();r||(r=t._fullLayout.legend);var o,l,s=r.borderwidth,u=(n?r:r.title).font.size*v;if(i){var f=c.bBox(i);o=f.height,l=f.width,n?c.setTranslate(a,0,.25*o):c.setTranslate(a,s,.75*o+s)}else{var p=e.select(n?".legendtext":".legendtitletext"),g=d.lineCount(p),m=p.node();o=u*g,l=m?c.bBox(m).width:0;var x=u*((g-1)/2-.3);if(n){var y=r.itemwidth+2*h.itemGap;d.positionText(p,y,-x)}else d.positionText(p,h.titlePad+s,u+s)}n?(n.lineHeight=u,n.height=Math.max(o,16)+3,n.width=l):(r._titleWidth=l,r._titleHeight=o)}(t,r,n)})}function A(e){return a.isRightAnchor(e)?"right":a.isCenterAnchor(e)?"center":"left"}function S(e){return a.isBottomAnchor(e)?"bottom":a.isMiddleAnchor(e)?"middle":"top"}e.exports=function(e,t){var r,l=e._fullLayout,d="legend"+l._uid;if(t?(r=t.layer,d+="-hover"):((t=l.legend||{})._main=!0,r=l._infolayer),r){var f;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;f=l.showlegend&&x(e.calcdata,t)}else{if(!t.entries)return;f=x(t.entries,t)}var p=l.hiddenlabels||[];if(t._main&&(!l.showlegend||!f.length))return r.selectAll(".legend").remove(),l._topdefs.select("#"+d).remove(),i.autoMargin(e,"legend");var v=a.ensureSingle(r,"g","legend",function(e){t._main&&e.attr("pointer-events","all")}),k=a.ensureSingleById(l._topdefs,"clipPath",d,function(e){e.append("rect")}),z=a.ensureSingle(v,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});z.call(u.stroke,t.bordercolor).call(u.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var T=a.ensureSingle(v,"g","scrollbox"),C=t.title;if(t._titleWidth=0,t._titleHeight=0,C.text){var I=a.ensureSingle(T,"text","legendtitletext");I.attr("text-anchor","start").call(c.font,C.font).text(C.text),M(I,T,e,t)}else T.selectAll(".legendtitletext").remove();var P=a.ensureSingle(v,"rect","scrollbar",function(e){e.attr(h.scrollBarEnterAttrs).call(u.fill,h.scrollBarColor)}),O=T.selectAll("g.groups").data(f);O.enter().append("g").attr("class","groups"),O.exit().remove();var R=O.selectAll("g.traces").data(a.identity);R.enter().append("g").attr("class","traces"),R.exit().remove(),R.style("opacity",function(e){var t=e[0].trace;return o.traceIs(t,"pie-like")?-1!==p.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){n.select(this).call(w,e,t)}).call(y,e,t).each(function(){t._main&&n.select(this).call(L,e)}),a.syncOrAsync([i.previousPromises,function(){return function(e,t,r,a){var i=e._fullLayout;a||(a=i.legend);var o=i._size,l=_.isVertical(a),s=_.isGrouped(a),u=a.borderwidth,d=2*u,f=h.itemGap,p=a.itemwidth+2*f,v=2*(u+f),g=S(a),m=a.y<0||0===a.y&&"top"===g,x=a.y>1||1===a.y&&"bottom"===g;a._maxHeight=Math.max(m||x?i.height/2:o.h,30);var y=0;a._width=0,a._height=0;var b=function(e){var t=0,r=0,n=e.title.side;n&&(-1!==n.indexOf("left")&&(t=e._titleWidth),-1!==n.indexOf("top")&&(r=e._titleHeight));return[t,r]}(a);if(l)r.each(function(e){var t=e[0].height;c.setTranslate(this,u+b[0],u+b[1]+a._height+t/2+f),a._height+=t,a._width=Math.max(a._width,e[0].width)}),y=p+a._width,a._width+=f+p+d,a._height+=v,s&&(t.each(function(e,t){c.setTranslate(this,0,t*a.tracegroupgap)}),a._height+=(a._lgroupsLength-1)*a.tracegroupgap);else{var w=A(a),k=a.x<0||0===a.x&&"right"===w,L=a.x>1||1===a.x&&"left"===w,M=x||m,z=i.width/2;a._maxWidth=Math.max(k?M&&"left"===w?o.l+o.w:z:L?M&&"right"===w?o.r+o.w:z:o.w,2*p);var T=0,C=0;r.each(function(e){var t=e[0].width+p;T=Math.max(T,t),C+=t}),y=null;var I=0;if(s){var P=0,O=0,R=0;t.each(function(){var e=0,t=0;n.select(this).selectAll("g.traces").each(function(r){var n=r[0].height;c.setTranslate(this,b[0],b[1]+u+f+n/2+t),t+=n,e=Math.max(e,p+r[0].width)}),P=Math.max(P,t);var r=e+f;r+u+O>a._maxWidth&&(I=Math.max(I,O),O=0,R+=P+a.tracegroupgap,P=t),c.setTranslate(this,O,R),O+=r}),a._width=Math.max(I,O)+u,a._height=R+P+v}else{var D=r.size(),E=C+d+(D-1)*f<a._maxWidth,H=0,F=0,Z=0,B=0;r.each(function(e){var t=e[0].height,r=p+e[0].width,n=(E?r:T)+f;n+u+F-f>=a._maxWidth&&(I=Math.max(I,B),F=0,Z+=H,a._height+=H,H=0),c.setTranslate(this,b[0]+u+F,b[1]+u+Z+t/2+f),B=F+r+f,F+=n,H=Math.max(H,t)}),E?(a._width=F+d,a._height=H+v):(a._width=Math.max(I,B)+d,a._height+=H+v)}}a._width=Math.ceil(Math.max(a._width+b[0],a._titleWidth+2*(u+h.titlePad))),a._height=Math.ceil(Math.max(a._height+b[1],a._titleHeight+2*(u+h.itemGap))),a._effHeight=Math.min(a._height,a._maxHeight);var N=e._context.edits,V=N.legendText||N.legendPosition;r.each(function(e){var t=n.select(this).select(".legendtoggle"),r=e[0].height,a=V?p:y||p+e[0].width;l||(a+=f/2),c.setRect(t,0,-r/2,a,r)})}(e,O,R,t)},function(){if(!t._main||!function(e){var t=e._fullLayout.legend,r=A(t),n=S(t);return i.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*g[r],r:t._width*m[r],b:t._effHeight*m[n],t:t._effHeight*g[n]})}(e)){var u,f,p,x,y=l._size,_=t.borderwidth,w=y.l+y.w*t.x-g[A(t)]*t._width,L=y.t+y.h*(1-t.y)-g[S(t)]*t._effHeight;if(t._main&&l.margin.autoexpand){var M=w,C=L;w=a.constrain(w,0,l.width-t._width),L=a.constrain(L,0,l.height-t._effHeight),w!==M&&a.log("Constrain legend.x to make legend fit inside graph"),L!==C&&a.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&c.setTranslate(v,w,L),P.on(".drag",null),v.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var I=t._effHeight;t._main||(I=t._height),z.attr({width:t._width-_,height:I-_,x:_/2,y:_/2}),c.setTranslate(T,0,0),k.select("rect").attr({width:t._width-2*_,height:I-2*_,x:_,y:_}),c.setClipUrl(T,d,e),c.setRect(P,0,0,0,0),delete t._scrollY}else{var O,R,D,E=Math.max(h.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),H=t._effHeight-E-2*h.scrollBarMargin,F=t._height-t._effHeight,Z=H/F,B=Math.min(t._scrollY||0,F);z.attr({width:t._width-2*_+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-_,x:_/2,y:_/2}),k.select("rect").attr({width:t._width-2*_+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-2*_,x:_,y:_+B}),c.setClipUrl(T,d,e),q(B,E,Z),v.on("wheel",function(){q(B=a.constrain(t._scrollY+n.event.deltaY/H*F,0,F),E,Z),0!==B&&B!==F&&n.event.preventDefault()});var N=n.behavior.drag().on("dragstart",function(){var e=n.event.sourceEvent;O="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,D=B}).on("drag",function(){var e=n.event.sourceEvent;2===e.buttons||e.ctrlKey||(R="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,q(B=function(e,t,r){var n=(r-t)/Z+e;return a.constrain(n,0,F)}(D,O,R),E,Z))});P.call(N);var V=n.behavior.drag().on("dragstart",function(){var e=n.event.sourceEvent;"touchstart"===e.type&&(O=e.changedTouches[0].clientY,D=B)}).on("drag",function(){var e=n.event.sourceEvent;"touchmove"===e.type&&(R=e.changedTouches[0].clientY,q(B=function(e,t,r){var n=(t-r)/Z+e;return a.constrain(n,0,F)}(D,O,R),E,Z))});T.call(V)}if(e._context.edits.legendPosition)v.classed("cursor-move",!0),s.init({element:v.node(),gd:e,prepFn:function(){var e=c.getTranslate(v);p=e.x,x=e.y},moveFn:function(e,r){var n=p+e,a=x+r;c.setTranslate(v,n,a),u=s.align(n,0,y.l,y.l+y.w,t.xanchor),f=s.align(a,0,y.t+y.h,y.t,t.yanchor)},doneFn:function(){void 0!==u&&void 0!==f&&o.call("_guiRelayout",e,{"legend.x":u,"legend.y":f})},clickFn:function(t,n){var a=r.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return n.clientX>=e.left&&n.clientX<=e.right&&n.clientY>=e.top&&n.clientY<=e.bottom});a.size()>0&&b(e,v,a,t,n)}})}function q(r,n,a){t._scrollY=e._fullLayout.legend._scrollY=r,c.setTranslate(T,0,-r),c.setRect(P,t._width,h.scrollBarMargin+r*a,h.scrollBarWidth,n),k.select("rect").attr("y",_+r)}}],e)}}},function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(0),o=i.strTranslate,l=r(38),s=r(14),c=r(29).extractOpts,u=r(101),d=r(353),f=r(337).castOption,h=r(344),p=12,v=5,g=2,m=10,x=5;function y(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}e.exports=function(e,t,r){var _=t._fullLayout;r||(r=_.legend);var b="constant"===r.itemsizing,w=r.itemwidth,k=(w+2*h.itemGap)/2,L=o(k,0),M=function(e,t,r,n){var a;if(e+1)a=e;else{if(!(t&&t.width>0))return 0;a=t.width}return b?n:Math.min(a,r)};function A(e,t,r){var i=e[0].trace,o=i.marker||{},l=o.line||{},c=r?i.visible&&i.type===r:a.traceIs(i,"bar"),u=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(c?[e]:[]);u.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),u.exit().remove(),u.each(function(e){var t=n.select(this),r=e[0],a=M(r.mlw,o.line,x,g);t.style("stroke-width",a+"px").call(s.fill,r.mc||o.color),a&&s.stroke(t,r.mlc||l.color)})}function S(e,t,r){var o=e[0],l=o.trace,s=r?l.visible&&l.type===r:a.traceIs(l,r),c=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(s?[e]:[]);if(c.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),c.exit().remove(),c.size()){var u=(l.marker||{}).line,h=M(f(u.width,o.pts),u,x,g),p=i.minExtend(l,{marker:{line:{width:h}}});p.marker.line.color=u.color;var v=i.minExtend(o,{trace:p});d(c,v,p)}}e.each(function(e){var t=n.select(this),a=i.ensureSingle(t,"g","layers");a.style("opacity",e[0].trace.opacity);var l=r.valign,s=e[0].lineHeight,c=e[0].height;if("middle"!==l&&s&&c){var u={top:1,bottom:-1}[l]*(.5*(s-c+3));a.attr("transform",o(0,u))}else a.attr("transform",null);a.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),a.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var d=a.selectAll("g.legendsymbols").data([e]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var r,a=e[0].trace,o=[];if(a.visible)switch(a.type){case"histogram2d":case"heatmap":o=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":o=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":o=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":o=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":o=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":o=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var u=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(o);u.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),u.exit().remove(),u.each(function(e,o){var u,d=n.select(this),f=c(a),h=f.colorscale,p=f.reversescale;if(h){if(!r){var v=h.length;u=0===o?h[p?v-1:0][1]:1===o?h[p?0:v-1][1]:h[Math.floor((v-1)/2)][1]}}else{var g=a.vertexcolor||a.facecolor||a.color;u=i.isArrayOrTypedArray(g)?g[o]||g[0]:g}d.attr("d",e[0]),u?d.call(s.fill,u):d.call(function(e){if(e.size()){var n="legendfill-"+a.uid;l.gradient(e,t,n,y(p,"radial"===r),h,"fill")}})})}).each(function(e){var t=e[0].trace,r="waterfall"===t.type;if(e[0]._distinct&&r){var a=e[0].trace[e[0].dir].marker;return e[0].mc=a.color,e[0].mlw=a.line.width,e[0].mlc=a.line.color,A(e,this,"waterfall")}var i=[];t.visible&&r&&(i=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(i);o.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),o.exit().remove(),o.each(function(e){var r=n.select(this),a=t[e[0]].marker,i=M(void 0,a.line,x,g);r.attr("d",e[1]).style("stroke-width",i+"px").call(s.fill,a.color),i&&r.call(s.stroke,a.line.color)})}).each(function(e){A(e,this,"funnel")}).each(function(e){A(e,this)}).each(function(e){var r=e[0].trace,o=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible&&a.traceIs(r,"box-violin")?[e]:[]);o.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),o.exit().remove(),o.each(function(){var e=n.select(this);if("all"!==r.boxpoints&&"all"!==r.points||0!==s.opacity(r.fillcolor)||0!==s.opacity((r.line||{}).color)){var a=M(void 0,r.line,x,g);e.style("stroke-width",a+"px").call(s.fill,r.fillcolor),a&&s.stroke(e,r.line.color)}else{var c=i.minExtend(r,{marker:{size:b?p:i.constrain(r.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});o.call(l.pointStyle,c,t)}})}).each(function(e){S(e,this,"funnelarea")}).each(function(e){S(e,this,"pie")}).each(function(e){var r,a,o=e[0],s=o.trace,d=s.visible&&s.fill&&"none"!==s.fill,f=u.hasLines(s),h=s.contours,p=!1,g=!1,x=c(s),_=x.colorscale,b=x.reversescale;if(h){var k=h.coloring;"lines"===k?p=!0:f="none"===k||"heatmap"===k||h.showlines,"constraint"===h.type?d="="!==h._operation:"fill"!==k&&"heatmap"!==k||(g=!0)}var L=u.hasMarkers(s)||u.hasText(s)||!d&&!g?"M5,0":f||p?"M5,-2":"M5,-3",A=n.select(this),S=A.select(".legendfill").selectAll("path").data(d||g?[e]:[]);if(S.enter().append("path").classed("js-fill",!0),S.exit().remove(),S.attr("d",L+"h"+w+"v6h-"+w+"z").call(d?l.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+s.uid;l.gradient(e,t,r,y(b),_,"fill")}}),f||p){var z=M(void 0,s.line,m,v);a=i.minExtend(s,{line:{width:z}}),r=[i.minExtend(o,{trace:a})]}var T=A.select(".legendlines").selectAll("path").data(f||p?[r]:[]);T.enter().append("path").classed("js-line",!0),T.exit().remove(),T.attr("d",L+(p?"l"+w+",0.0001":"h"+w)).call(f?l.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+s.uid;l.lineGroupStyle(e),l.gradient(e,t,r,y(b),_,"stroke")}})}).each(function(e){var r,a,o=e[0],s=o.trace,c=u.hasMarkers(s),d=u.hasText(s),f=u.hasLines(s);function h(e,t,r,n){var a=i.nestedProperty(s,e).get(),o=i.isArrayOrTypedArray(a)&&t?t(a):a;if(b&&o&&void 0!==n&&(o=n),r){if(o<r[0])return r[0];if(o>r[1])return r[1]}return o}function m(e){return o._distinct&&o.index&&e[o.index]?e[o.index]:e[0]}if(c||d||f){var x={},y={};if(c){x.mc=h("marker.color",m),x.mx=h("marker.symbol",m),x.mo=h("marker.opacity",i.mean,[.2,1]),x.mlc=h("marker.line.color",m),x.mlw=h("marker.line.width",i.mean,[0,5],g),y.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var _=h("marker.size",i.mean,[2,16],p);x.ms=_,y.marker.size=_}f&&(y.line={width:h("line.width",m,[0,10],v)}),d&&(x.tx="Aa",x.tp=h("textposition",m),x.ts=10,x.tc=h("textfont.color",m),x.tf=h("textfont.family",m)),r=[i.minExtend(o,x)],(a=i.minExtend(s,y)).selectedpoints=null,a.texttemplate=null}var w=n.select(this).select("g.legendpoints"),k=w.selectAll("path.scatterpts").data(c?r:[]);k.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),k.exit().remove(),k.call(l.pointStyle,a,t),c&&(r[0].mrc=3);var M=w.selectAll("g.pointtext").data(d?r:[]);M.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),M.exit().remove(),M.selectAll("text").call(l.textPointStyle,a,t)}).each(function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var a=n.select(this),i=t[r?"increasing":"decreasing"],o=M(void 0,i.line,x,g);a.style("stroke-width",o+"px").call(s.fill,i.fillcolor),o&&s.stroke(a,i.line.color)})}).each(function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var a=n.select(this),i=t[r?"increasing":"decreasing"],o=M(void 0,i.line,x,g);a.style("fill","none").call(l.dashLine,i.line.dash,o),o&&s.stroke(a,i.line.color)})})}},,,function(e,t){var r={left:0,top:0};e.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var a=e.clientX||0,i=e.clientY||0,o=(l=t,l===window||l===document||l===document.body?r:l.getBoundingClientRect());var l;return n[0]=a-o.left,n[1]=i-o.top,n}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,a){var i=(e-r)/(n-r),o=i+t/(n-r),l=(i+o)/2;return"left"===a||"bottom"===a?i:"center"===a||"middle"===a?l:"right"===a||"top"===a?o:i<2/3-l?i:o>4/3-l?o:l}},function(e,t,r){"use strict";var n=r(0),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,r,i){return e="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:n.constrain(Math.floor(3*t),0,2),a[t][e]}},function(e,t,r){"use strict";var n=r(331),a=r(108),i=r(62).getGraphDiv,o=r(104),l=e.exports={};l.wrapped=function(e,t,r){(e=i(e))._fullLayout&&a.clear(e._fullLayout._uid+o.HOVERID),l.raw(e,t,r)},l.raw=function(e,t){var r=e._fullLayout,a=e._hoverdata;t||(t={}),t.target&&!1===n.triggerHandler(e,"plotly_beforehover",t)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&a&&e.emit("plotly_unhover",{event:t,points:a}))}},function(e,t,r){"use strict";var n=r(330),a="data-savedcursor";e.exports=function(e,t){var r=e.attr(a);if(t){if(!r){for(var i=(e.attr("class")||"").split(" "),o=0;o<i.length;o++){var l=i[o];0===l.indexOf("cursor-")&&e.attr(a,l.substr(7)).classed(l,!1)}e.attr(a)||e.attr(a,"!!")}n(e,t)}else r&&(e.attr(a,null),"!!"===r?n(e):n(e,r))}},function(e,t,r){"use strict";var n=r(0),a=r(3),i=!0;e.exports=function(e,t,r){var o=t._fullLayout;if(!t._dragged&&!t._editing){var l,s=o.legend.itemclick,c=o.legend.itemdoubleclick;if(1===r&&"toggle"===s&&"toggleothers"===c&&i&&t.data&&t._context.showTips?(n.notifier(n._(t,"Double-click on legend to isolate one trace"),"long"),i=!1):i=!1,1===r?l=s:2===r&&(l=c),l){var u,d,f,h,p,v=o.hiddenlabels?o.hiddenlabels.slice():[],g=e.data()[0][0],m=t._fullData,x=g.trace,y=x.legendgroup,_={},b=[],w=[],k=[];if(a.traceIs(x,"pie-like")){var L=g.label,M=v.indexOf(L);"toggle"===l?-1===M?v.push(L):v.splice(M,1):"toggleothers"===l&&(v=[],t.calcdata[0].forEach(function(e){L!==e.label&&v.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===v.length&&-1===M&&(v=[])),a.call("_guiRelayout",t,"hiddenlabels",v)}else{var A,S=y&&y.length,z=[];if(S)for(u=0;u<m.length;u++)(A=m[u]).visible&&A.legendgroup===y&&z.push(u);if("toggle"===l){var T;switch(x.visible){case!0:T="legendonly";break;case!1:T=!1;break;case"legendonly":T=!0}if(S)for(u=0;u<m.length;u++)!1!==m[u].visible&&m[u].legendgroup===y&&F(m[u],T);else F(x,T)}else if("toggleothers"===l){var C,I,P,O,R=!0;for(u=0;u<m.length;u++)if(C=m[u]===x,P=!0!==m[u].showlegend,!(C||P||(I=S&&m[u].legendgroup===y)||!0!==m[u].visible||a.traceIs(m[u],"notLegendIsolatable"))){R=!1;break}for(u=0;u<m.length;u++)if(!1!==m[u].visible&&!a.traceIs(m[u],"notLegendIsolatable"))switch(x.visible){case"legendonly":F(m[u],!0);break;case!0:O=!!R||"legendonly",C=m[u]===x,P=!0!==m[u].showlegend&&!m[u].legendgroup,I=C||S&&m[u].legendgroup===y,F(m[u],!(!I&&!P)||O)}}for(u=0;u<w.length;u++)if(f=w[u]){var D=f.constructUpdate(),E=Object.keys(D);for(d=0;d<E.length;d++)h=E[d],(_[h]=_[h]||[])[k[u]]=D[h]}for(p=Object.keys(_),u=0;u<p.length;u++)for(h=p[u],d=0;d<b.length;d++)_[h].hasOwnProperty(d)||(_[h][d]=void 0);a.call("_guiRestyle",t,_,b)}}}function H(e,t,r){var n=b.indexOf(e),a=_[t];return a||(a=_[t]=[]),-1===b.indexOf(e)&&(b.push(e),n=b.length-1),a[n]=r,n}function F(e,t){var r=e._fullInput;if(a.hasTransform(r,"groupby")){var i=w[r.index];if(!i){var o=a.getTransformIndices(r,"groupby"),l=o[o.length-1];i=n.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),w[r.index]=i}var s=i.get(e._group);void 0===s&&(s=!0),!1!==s&&i.set(e._group,t),k[r.index]=H(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&t;H(r.index,"visible",c)}}}},function(e,t,r){"use strict";var n=r(3),a=r(332);e.exports=function(e,t){var r,i,o={},l=[],s=!1,c={},u=0,d=0,f=t._main;function h(e,r){if(""!==e&&a.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,o[e]=[[r]]):o[e].push([r]);else{var n="~~i"+u;l.push(n),o[n]=[[r]],u++}}for(r=0;r<e.length;r++){var p=e[r],v=p[0],g=v.trace,m=g.legendgroup;if(!f||g.visible&&g.showlegend)if(n.traceIs(g,"pie-like"))for(c[m]||(c[m]={}),i=0;i<p.length;i++){var x=p[i].label;c[m][x]||(h(m,{label:x,color:p[i].color,i:p[i].i,trace:g,pts:p[i].pts}),c[m][x]=!0,d=Math.max(d,(x||"").length))}else h(m,v),d=Math.max(d,(g.name||"").length)}if(!l.length)return[];var y,_,b=l.length;if(s&&a.isGrouped(t))for(_=new Array(b),r=0;r<b;r++)y=o[l[r]],_[r]=a.isReversed(t)?y.reverse():y;else{for(_=[new Array(b)],r=0;r<b;r++)y=o[l[r]][0],_[0][a.isReversed(t)?b-r-1:r]=y;b=1}return t._lgroupsLength=b,t._maxNameLength=d,_}},function(e,t,r){"use strict";var n=r(0),a=r(333),i=r(102);e.exports=function(e,t){a(e,t,function(r,a){return n.coerce(e,t,i,r,a)})}},function(e,t,r){"use strict";var n=r(0),a=r(106),i=r(333);e.exports=function(e,t,r,o){var l=n.extendFlat({},o.hoverlabel);t.hovertemplate&&(l.namelength=-1),i(e,t,function(r,i){return n.coerce(e,t,a,r,i)},l)}},function(e,t,r){"use strict";var n=r(0),a=r(100).isUnifiedHover,i=r(102),o=r(346),l=r(333);e.exports=function(e,t,r){function s(r,a){return n.coerce(e,t,i,r,a)}var c=o(e,t,r);c&&(s("hoverdistance"),s("spikedistance",a(c)?-1:void 0)),"select"===s("dragmode")&&s("selectdirection");var u=t._has("mapbox"),d=t._has("geo"),f=t._basePlotModules.length;"zoom"===t.dragmode&&((u||d)&&1===f||u&&d&&2===f)&&(t.dragmode="pan"),l(e,t,s)}},function(e,t,r){"use strict";var n=r(0),a=r(3);function i(e,t,r,a){a=a||n.identity,Array.isArray(e)&&(t[0][r]=a(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function o(e){return function(t){return n.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!a.traceIs(c,"pie-like")){var u=a.traceIs(c,"2dMap")?i:n.fillArray;u(c.hoverinfo,s,"hi",o(c)),c.hovertemplate&&u(c.hovertemplate,s,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,s,"hbg"),u(c.hoverlabel.bordercolor,s,"hbc"),u(c.hoverlabel.font.size,s,"hts"),u(c.hoverlabel.font.color,s,"htc"),u(c.hoverlabel.font.family,s,"htf"),u(c.hoverlabel.namelength,s,"hnl"),u(c.hoverlabel.align,s,"hta"))}}}},function(e,t,r){"use strict";var n=r(3),a=r(343).hover;e.exports=function(e,t,r){var i=n.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&a(e,t,r,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},function(e,t,r){"use strict";var n=r(350),a=r(0);t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.extractPathCoords=function(e,t){var r=[];return e.match(n.segmentRE).forEach(function(e){var i=t[e.charAt(0)].drawn;if(void 0!==i){var o=e.substr(1).match(n.paramRE);!o||o.length<i||r.push(a.cleanNumber(o[i]))}}),r},t.getDataToPixel=function(e,r,n,a){var i,o=e._fullLayout._size;if(r)if("domain"===a)i=function(e){return r._length*(n?1-e:e)+r._offset};else{var l=t.shapePositionToRange(r);i=function(e){return r._offset+r.r2p(l(e,!0))},"date"===r.type&&(i=t.decodeDate(i))}else i=n?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return i},t.getPixelToData=function(e,r,n,a){var i,o=e._fullLayout._size;if(r)if("domain"===a)i=function(e){var t=(e-r._offset)/r._length;return n?1-t:t};else{var l=t.rangeToShapePosition(r);i=function(e){return l(r.p2r(e-r._offset))}}else i=n?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return i},t.roundPositionForSharpStrokeRendering=function(e,t){var r=1===Math.round(t%2),n=Math.round(e);return r?n+.5:n},t.makeOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.shapes[t]||{},n=e._fullLayout._plots[r.xref+r.yref];return!!n?n._hadPlotinfo=!0:(n={},r.xref&&"paper"!==r.xref&&(n.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&"paper"!==r.yref&&(n.yaxis=e._fullLayout[r.yref+"axis"])),n.xsizemode=r.xsizemode,n.ysizemode=r.ysizemode,n.xanchor=r.xanchor,n.yanchor=r.yanchor,{options:r,plotinfo:n}}},function(e,t,r){"use strict";var n=r(64).dot,a=r(5).BADNUM,i=e.exports={};i.tester=function(e){var t,r=e.slice(),n=r[0][0],i=n,o=r[0][1],l=o;for(r.push(r[0]),t=1;t<r.length;t++)n=Math.min(n,r[t][0]),i=Math.max(i,r[t][0]),o=Math.min(o,r[t][1]),l=Math.max(l,r[t][1]);var s,c=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,s=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,s=function(e){return e[1]===r[0][1]}));var u=!0,d=r[0];for(t=1;t<r.length;t++)if(d[0]!==r[t][0]||d[1]!==r[t][1]){u=!1;break}return{xmin:n,xmax:i,ymin:o,ymax:l,pts:r,contains:c?function(e,t){var r=e[0],c=e[1];return!(r===a||r<n||r>i||c===a||c<o||c>l||t&&s(e))}:function(e,t){var s=e[0],c=e[1];if(s===a||s<n||s>i||c===a||c<o||c>l)return!1;var u,d,f,h,p,v=r.length,g=r[0][0],m=r[0][1],x=0;for(u=1;u<v;u++)if(d=g,f=m,g=r[u][0],m=r[u][1],!(s<(h=Math.min(d,g))||s>Math.max(d,g)||c>Math.max(f,m)))if(c<Math.min(f,m))s!==h&&x++;else{if(c===(p=g===d?c:f+(s-d)*(m-f)/(g-d)))return 1!==u||!t;c<=p&&s!==h&&x++}return x%2==1},isRect:c,degenerate:u}},i.isSegmentBent=function(e,t,r,a){var i,o,l,s=e[t],c=[e[r][0]-s[0],e[r][1]-s[1]],u=n(c,c),d=Math.sqrt(u),f=[-c[1]/d,c[0]/d];for(i=t+1;i<r;i++)if(o=[e[i][0]-s[0],e[i][1]-s[1]],(l=n(o,c))<0||l>u||Math.abs(n(o,f))>a)return!0;return!1},i.filter=function(e,t){var r=[e[0]],n=0,a=0;function o(o){e.push(o);var l=r.length,s=n;r.splice(a+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||i.isSegmentBent(e,s,c+1,t))&&(r.push(e[c]),r.length<l-2&&(n=c,a=r.length-1),s=c)}e.length>1&&o(e.pop());return{addPt:o,raw:e,filtered:r}}},function(e,t,r){"use strict";var n=r(0).dateTick0,a=r(5).ONEWEEK;function i(e,t){return n(t,e%a==0?1:0)}e.exports=function(e,t,r,n,a){if(a||(a={x:!0,y:!0}),a.x){var o=n("xperiod");o&&(n("xperiod0",i(o,t.xcalendar)),n("xperiodalignment"))}if(a.y){var l=n("yperiod");l&&(n("yperiod0",i(l,t.ycalendar)),n("yperiodalignment"))}}},function(e,t,r){"use strict";var n=r(4),a=r(329),i=r(328),o=r(330),l=r(386).makeDragBox,s=r(26).DRAGGERSIZE;t.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot)n.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(e,t){if((r._plots[e].mainplot&&!0)===(r._plots[t].mainplot&&!0)){var n=e.split("y"),a=t.split("y");return n[0]===a[0]?Number(n[1]||1)-Number(a[1]||1):Number(n[0]||1)-Number(a[0]||1)}return r._plots[e].mainplot?1:-1}).forEach(function(t){var n=r._plots[t],o=n.xaxis,c=n.yaxis;if(!n.mainplot){var u=l(e,n,o._offset,c._offset,o._length,c._length,"ns","ew");u.onmousemove=function(r){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===t&&e._fullLayout._plots[t]&&a.hover(e,r,t)},a.hover(e,r,t),e._fullLayout._lasthover=u,e._fullLayout._hoversubplot=t},u.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},e._context.showAxisDragHandles&&(l(e,n,o._offset-s,c._offset-s,s,s,"n","w"),l(e,n,o._offset+o._length,c._offset-s,s,s,"n","e"),l(e,n,o._offset-s,c._offset+c._length,s,s,"s","w"),l(e,n,o._offset+o._length,c._offset+c._length,s,s,"s","e"))}if(e._context.showAxisDragHandles){if(t===o._mainSubplot){var d=o._mainLinePosition;"top"===o.side&&(d-=s),l(e,n,o._offset+.1*o._length,d,.8*o._length,s,"","ew"),l(e,n,o._offset,d,.1*o._length,s,"","w"),l(e,n,o._offset+.9*o._length,d,.1*o._length,s,"","e")}if(t===c._mainSubplot){var f=c._mainLinePosition;"right"!==c.side&&(f-=s),l(e,n,f,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(e,n,f,c._offset+.9*c._length,s,.1*c._length,"s",""),l(e,n,f,c._offset,s,.1*c._length,"n","")}}});var o=r._hoverlayer.node();o.onmousemove=function(t){t.target=e._fullLayout._lasthover,a.hover(e,t,r._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,a.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},t.updateFx(e)}},t.updateFx=function(e){var t=e._fullLayout,r="pan"===t.dragmode?"move":"crosshair";o(t._draggers,r)}},function(e,t,r){"use strict";var n=r(3),a=r(0),i=r(99),o=r(335).readPaths,l=r(354),s=r(103).clearOutlineControllers,c=r(14),u=r(38),d=r(17).arrayEditor,f=r(328),h=r(330),p=r(350),v=r(375);function g(e){var t=e._fullLayout;for(var r in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var n=t._plots[r].shapelayer;n&&n.selectAll("path").remove()}for(var a=0;a<t.shapes.length;a++)t.shapes[a].visible&&y(e,a)}function m(e){return!!e._fullLayout._drawing}function x(e){return!e._context.edits.shapePosition}function y(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=v.makeOptionsAndPlotinfo(e,t),s=r.options,y=r.plotinfo;if(s._input&&!1!==s.visible)if("below"!==s.layer)L(e._fullLayout._shapeUpperLayer);else if("paper"===s.xref||"paper"===s.yref)L(e._fullLayout._shapeLowerLayer);else{if(y._hadPlotinfo)L((y.mainplotinfo||y).shapelayer);else L(e._fullLayout._shapeLowerLayer)}function L(r){var L=b(e,s),M={"data-index":t,"fill-rule":s.fillrule,d:L},A=s.opacity,S=s.fillcolor,z=s.line.width?s.line.color:"rgba(0,0,0,0)",T=s.line.width,C=s.line.dash;T||!0!==s.editable||(T=5,C="solid");var I="Z"!==L[L.length-1],P=x(e)&&s.editable&&e._fullLayout._activeShapeIndex===t;P&&(S=I?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,A=e._fullLayout.activeshape.opacity);var O,R=r.append("path").attr(M).style("opacity",A).call(c.stroke,z).call(c.fill,S).call(u.dashLine,C,T);if(_(R,e,s),(P||e._context.edits.shapePosition)&&(O=d(e.layout,"shapes",s)),P){R.style({cursor:"move"});var D={element:R.node(),plotinfo:y,gd:e,editHelpers:O,isActiveShape:!0},E=o(L,e);l(E,R,D)}else e._context.edits.shapePosition?function(e,t,r,o,l,s){var c,d,g,x,y,k,L,M,A,S,z,T,C,I,P,O,R=10,D=10,E="pixel"===r.xsizemode,H="pixel"===r.ysizemode,F="line"===r.type,Z="path"===r.type,B=s.modifyItem,N=i.getFromId(e,r.xref),V=i.getRefType(r.xref),q=i.getFromId(e,r.yref),G=i.getRefType(r.yref),j=v.getDataToPixel(e,N,!1,V),U=v.getDataToPixel(e,q,!0,G),Y=v.getPixelToData(e,N,!1,V),X=v.getPixelToData(e,q,!0,G),W=F?function(){var e=Math.max(r.line.width,10),n=l.append("g").attr("data-index",o);n.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var a={"fill-opacity":"0"},i=Math.max(e/2,10);return n.append("circle").attr({"data-line-point":"start-point",cx:E?j(r.xanchor)+r.x0:j(r.x0),cy:H?U(r.yanchor)-r.y0:U(r.y0),r:i}).style(a).classed("cursor-grab",!0),n.append("circle").attr({"data-line-point":"end-point",cx:E?j(r.xanchor)+r.x1:j(r.x1),cy:H?U(r.yanchor)-r.y1:U(r.y1),r:i}).style(a).classed("cursor-grab",!0),n}():t,K={element:W.node(),gd:e,prepFn:function(n){if(m(e))return;E&&(y=j(r.xanchor));H&&(k=U(r.yanchor));"path"===r.type?P=r.path:(c=E?r.x0:j(r.x0),d=H?r.y0:U(r.y0),g=E?r.x1:j(r.x1),x=H?r.y1:U(r.y1));c<g?(A=c,C="x0",S=g,I="x1"):(A=g,C="x1",S=c,I="x0");!H&&d<x||H&&d>x?(L=d,z="y0",M=x,T="y1"):(L=x,z="y1",M=d,T="y0");Q(n),ee(l,r),function(e,t,r){var n=t.xref,a=t.yref,o=i.getFromId(r,n),l=i.getFromId(r,a),s="";"paper"===n||o.autorange||(s+=n);"paper"===a||l.autorange||(s+=a);u.setClipUrl(e,s?"clip"+r._fullLayout._uid+s:null,r)}(t,r,e),K.moveFn="move"===O?J:$,K.altKey=n.altKey},doneFn:function(){if(m(e))return;h(t),te(l),_(t,e,r),n.call("_guiRelayout",e,s.getUpdateObj())},clickFn:function(){if(m(e))return;te(l)}};function Q(r){if(m(e))O=null;else if(F)O="path"===r.target.tagName?"move":"start-point"===r.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=K.element.getBoundingClientRect(),a=n.right-n.left,i=n.bottom-n.top,o=r.clientX-n.left,l=r.clientY-n.top,s=!Z&&a>R&&i>D&&!r.shiftKey?f.getCursor(o/a,1-l/i):"move";h(t,s),O=s.split("-")[0]}}function J(n,a){if("path"===r.type){var i=function(e){return e},o=i,s=i;E?B("xanchor",r.xanchor=Y(y+n)):(o=function(e){return Y(j(e)+n)},N&&"date"===N.type&&(o=v.encodeDate(o))),H?B("yanchor",r.yanchor=X(k+a)):(s=function(e){return X(U(e)+a)},q&&"date"===q.type&&(s=v.encodeDate(s))),B("path",r.path=w(P,o,s))}else E?B("xanchor",r.xanchor=Y(y+n)):(B("x0",r.x0=Y(c+n)),B("x1",r.x1=Y(g+n))),H?B("yanchor",r.yanchor=X(k+a)):(B("y0",r.y0=X(d+a)),B("y1",r.y1=X(x+a)));t.attr("d",b(e,r)),ee(l,r)}function $(n,a){if(Z){var i=function(e){return e},o=i,s=i;E?B("xanchor",r.xanchor=Y(y+n)):(o=function(e){return Y(j(e)+n)},N&&"date"===N.type&&(o=v.encodeDate(o))),H?B("yanchor",r.yanchor=X(k+a)):(s=function(e){return X(U(e)+a)},q&&"date"===q.type&&(s=v.encodeDate(s))),B("path",r.path=w(P,o,s))}else if(F){if("resize-over-start-point"===O){var u=c+n,f=H?d-a:d+a;B("x0",r.x0=E?u:Y(u)),B("y0",r.y0=H?f:X(f))}else if("resize-over-end-point"===O){var h=g+n,p=H?x-a:x+a;B("x1",r.x1=E?h:Y(h)),B("y1",r.y1=H?p:X(p))}}else{var m=function(e){return-1!==O.indexOf(e)},_=m("n"),V=m("s"),G=m("w"),W=m("e"),K=_?L+a:L,Q=V?M+a:M,J=G?A+n:A,$=W?S+n:S;H&&(_&&(K=L-a),V&&(Q=M-a)),(!H&&Q-K>D||H&&K-Q>D)&&(B(z,r[z]=H?K:X(K)),B(T,r[T]=H?Q:X(Q))),$-J>R&&(B(C,r[C]=E?J:Y(J)),B(I,r[I]=E?$:Y($)))}t.attr("d",b(e,r)),ee(l,r)}function ee(e,t){(E||H)&&function(){var r="path"!==t.type,n=e.selectAll(".visual-cue").data([0]);n.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var i=j(E?t.xanchor:a.midRange(r?[t.x0,t.x1]:v.extractPathCoords(t.path,p.paramIsX))),o=U(H?t.yanchor:a.midRange(r?[t.y0,t.y1]:v.extractPathCoords(t.path,p.paramIsY)));if(i=v.roundPositionForSharpStrokeRendering(i,1),o=v.roundPositionForSharpStrokeRendering(o,1),E&&H){var l="M"+(i-1-1)+","+(o-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";n.attr("d",l)}else if(E){var s="M"+(i-1-1)+","+(o-9-1)+"v18 h2 v-18 Z";n.attr("d",s)}else{var c="M"+(i-9-1)+","+(o-1-1)+"h18 v2 h-18 Z";n.attr("d",c)}}()}function te(e){e.selectAll(".visual-cue").remove()}f.init(K),W.node().onmousemove=Q}(e,R,s,t,r,O):!0===s.editable&&R.style("pointer-events",I||c.opacity(S)*A<=.5?"stroke":"all");R.node().addEventListener("click",function(){return function(e,t){if(!x(e))return;var r=+t.node().getAttribute("data-index");if(r>=0){if(r===e._fullLayout._activeShapeIndex)return void k(e);e._fullLayout._activeShapeIndex=r,e._fullLayout._deactivateShape=k,g(e)}}(e,R)})}}function _(e,t,r){var n=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(e,n?"clip"+t._fullLayout._uid+n:null,t)}function b(e,t){var r,n,o,l,s,c,u,d,f=t.type,h=i.getRefType(t.xref),g=i.getRefType(t.yref),m=i.getFromId(e,t.xref),x=i.getFromId(e,t.yref),y=e._fullLayout._size;if(m?"domain"===h?n=function(e){return m._offset+m._length*e}:(r=v.shapePositionToRange(m),n=function(e){return m._offset+m.r2p(r(e,!0))}):n=function(e){return y.l+y.w*e},x?"domain"===g?l=function(e){return x._offset+x._length*(1-e)}:(o=v.shapePositionToRange(x),l=function(e){return x._offset+x.r2p(o(e,!0))}):l=function(e){return y.t+y.h*(1-e)},"path"===f)return m&&"date"===m.type&&(n=v.decodeDate(n)),x&&"date"===x.type&&(l=v.decodeDate(l)),function(e,t,r){var n=e.path,i=e.xsizemode,o=e.ysizemode,l=e.xanchor,s=e.yanchor;return n.replace(p.segmentRE,function(e){var n=0,c=e.charAt(0),u=p.paramIsX[c],d=p.paramIsY[c],f=p.numParams[c],h=e.substr(1).replace(p.paramRE,function(e){return u[n]?e="pixel"===i?t(l)+Number(e):t(e):d[n]&&(e="pixel"===o?r(s)-Number(e):r(e)),++n>f&&(e="X"),e});return n>f&&(h=h.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+e)),c+h})}(t,n,l);if("pixel"===t.xsizemode){var _=n(t.xanchor);s=_+t.x0,c=_+t.x1}else s=n(t.x0),c=n(t.x1);if("pixel"===t.ysizemode){var b=l(t.yanchor);u=b-t.y0,d=b-t.y1}else u=l(t.y0),d=l(t.y1);if("line"===f)return"M"+s+","+u+"L"+c+","+d;if("rect"===f)return"M"+s+","+u+"H"+c+"V"+d+"H"+s+"Z";var w=(s+c)/2,k=(u+d)/2,L=Math.abs(w-s),M=Math.abs(k-u),A="A"+L+","+M,S=w+L+","+k;return"M"+S+A+" 0 1,1 "+(w+","+(k-M))+A+" 0 0,1 "+S+"Z"}function w(e,t,r){return e.replace(p.segmentRE,function(e){var n=0,a=e.charAt(0),i=p.paramIsX[a],o=p.paramIsY[a],l=p.numParams[a];return a+e.substr(1).replace(p.paramRE,function(e){return n>=l?e:(i[n]?e=t(e):o[n]&&(e=r(e)),n++,e)})})}function k(e){x(e)&&(e._fullLayout._activeShapeIndex>=0&&(s(e),delete e._fullLayout._activeShapeIndex,g(e)))}e.exports={draw:g,drawOne:y,eraseActiveShape:function(e){if(!x(e))return;s(e);var t=e._fullLayout._activeShapeIndex,r=(e.layout||{}).shapes||[];if(t<r.length){for(var a=[],i=0;i<r.length;i++)i!==t&&a.push(r[i]);delete e._fullLayout._activeShapeIndex,n.call("_guiRelayout",e,{shapes:a})}}}},function(e,t,r){"use strict";var n=r(1),a=r(0),i=a.dateTime2ms,o=a.incrementMonth,l=r(5).ONEAVGMONTH;e.exports=function(e,t,r,a){if("date"!==t.type)return a;var s=e[r+"periodalignment"];if(!s)return a;var c,u=e[r+"period"];if(n(u)){if((u=+u)<=0)return a}else if("string"==typeof u&&"M"===u.charAt(0)){var d=+u.substring(1);if(!(d>0&&Math.round(d)===d))return a;c=d}for(var f=t.calendar,h="start"===s,p="end"===s,v=e[r+"period0"],g=i(v,f)||0,m=[],x=a.length,y=0;y<x;y++){var _,b,w,k=a[y];if(c){for(_=Math.round((k-g)/(c*l)),w=o(g,c*_,f);w>k;)w=o(w,-c,f);for(;w<=k;)w=o(w,c,f);b=o(w,-c,f)}else{for(w=g+(_=Math.round((k-g)/u))*u;w>k;)w-=u;for(;w<=k;)w+=u;b=w-u}m[y]=h?b:p?w:(b+w)/2}return m}},function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(0),o=r(57),l=r(38),s=r(119).getModuleCalcData,c=r(27),u=r(26),d=r(59),f=i.ensureSingle;function h(e,t,r){return i.ensureSingle(e,t,r,function(e){e.datum(r)})}function p(e,t,r,i,o){for(var c,d,f,h=u.traceLayerClasses,p=e._fullLayout,v=p._modules,g=[],m=[],x=0;x<v.length;x++){var y=(c=v[x]).name,_=a.modules[y].categories;if(_.svg){var b=c.layerName||y+"layer",w=c.plot;f=(d=s(r,w))[0],r=d[1],f.length&&g.push({i:h.indexOf(b),className:b,plotMethod:w,cdModule:f}),_.zoomScale&&m.push("."+b)}}g.sort(function(e,t){return e.i-t.i});var k=t.plot.selectAll("g.mlayer").data(g,function(e){return e.className});if(k.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),k.exit().remove(),k.order(),k.each(function(r){var a=n.select(this),s=r.className;r.plotMethod(e,t,r.cdModule,a,i,o),-1===u.clipOnAxisFalseQuery.indexOf("."+s)&&l.setClipUrl(a,t.layerClipId,e)}),p._has("scattergl")&&(c=a.getModule("scattergl"),f=s(r,c)[0],c.plot(e,t,f)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(u.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var L=t.plot.selectAll(m.join(",")).selectAll(".trace");t.zoomScalePts=L.selectAll("path.point"),t.zoomScaleTxt=L.selectAll(".textpoint")}}function v(e,t){var r=t.plotgroup,n=t.id,a=u.layerValue2layerClass[t.xaxis.layer],i=u.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,s=l.plotgroup,d=n+"-x",p=n+"-y";t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,f(l.overlinesBelow,"path",d),f(l.overlinesBelow,"path",p),f(l.overaxesBelow,"g",d),f(l.overaxesBelow,"g",p),t.plot=f(l.overplot,"g",n),f(l.overlinesAbove,"path",d),f(l.overlinesAbove,"path",p),f(l.overaxesAbove,"g",d),f(l.overaxesAbove,"g",p),t.xlines=s.select(".overlines-"+a).select("."+d),t.ylines=s.select(".overlines-"+i).select("."+p),t.xaxislayer=s.select(".overaxes-"+a).select("."+d),t.yaxislayer=s.select(".overaxes-"+i).select("."+p)}else if(o)t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.xaxislayer=f(r,"g","xaxislayer-above"),t.yaxislayer=f(r,"g","yaxislayer-above");else{var v=f(r,"g","layer-subplot");t.shapelayer=f(v,"g","shapelayer"),t.imagelayer=f(v,"g","imagelayer"),t.gridlayer=f(r,"g","gridlayer"),t.zerolinelayer=f(r,"g","zerolinelayer"),f(r,"path","xlines-below"),f(r,"path","ylines-below"),t.overlinesBelow=f(r,"g","overlines-below"),f(r,"g","xaxislayer-below"),f(r,"g","yaxislayer-below"),t.overaxesBelow=f(r,"g","overaxes-below"),t.plot=f(r,"g","plot"),t.overplot=f(r,"g","overplot"),t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.overlinesAbove=f(r,"g","overlines-above"),f(r,"g","xaxislayer-above"),f(r,"g","yaxislayer-above"),t.overaxesAbove=f(r,"g","overaxes-above"),t.xlines=r.select(".xlines-"+a),t.ylines=r.select(".ylines-"+i),t.xaxislayer=r.select(".xaxislayer-"+a),t.yaxislayer=r.select(".yaxislayer-"+i)}o||(h(t.gridlayer,"g",t.xaxis._id),h(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(c.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function g(e,t){if(e){var r={};for(var a in e.each(function(e){var a=e[0];n.select(this).remove(),m(a,t),r[a]=!0}),t._plots)for(var i=t._plots[a].overlays||[],o=0;o<i.length;o++){var l=i[o];r[l.id]&&l.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=u.idRegex,t.attrRegex=u.attrRegex,t.attributes=r(401),t.layoutAttributes=r(18),t.supplyLayoutDefaults=r(402),t.transitionAxes=r(406),t.finalizeSubplots=function(e,t){var r,n,a,o=t._subplots,l=o.xaxis,s=o.yaxis,d=o.cartesian,f=d.concat(o.gl2d||[]),h={},p={};for(r=0;r<f.length;r++){var v=f[r].split("y");h[v[0]]=1,p["y"+v[1]]=1}for(r=0;r<l.length;r++)h[n=l[r]]||(a=(e[c.id2name(n)]||{}).anchor,u.idRegex.y.test(a)||(a="y"),d.push(n+a),f.push(n+a),p[a]||(p[a]=1,i.pushUnique(s,a)));for(r=0;r<s.length;r++)p[a=s[r]]||(n=(e[c.id2name(a)]||{}).anchor,u.idRegex.x.test(n)||(n="x"),d.push(n+a),f.push(n+a),h[n]||(h[n]=1,i.pushUnique(l,n)));if(!f.length){for(var g in n="",a="",e){if(u.attrRegex.test(g))"x"===g.charAt(0)?(!n||+g.substr(5)<+n.substr(5))&&(n=g):(!a||+g.substr(5)<+a.substr(5))&&(a=g)}n=n?c.name2id(n):"x",a=a?c.name2id(a):"y",l.push(n),s.push(a),d.push(n+a)}},t.plot=function(e,t,r,n){var a,i=e._fullLayout,o=i._subplots.cartesian,l=e.calcdata;if(!Array.isArray(t))for(t=[],a=0;a<l.length;a++)t.push(a);for(a=0;a<o.length;a++){for(var s,c=o[a],u=i._plots[c],d=[],f=0;f<l.length;f++){var h=l[f],v=h[0].trace;v.xaxis+v.yaxis===c&&((-1!==t.indexOf(v.index)||v.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===d.indexOf(s)&&d.push(s),d.push(h)),s=h)}p(e,u,d,r,n)}},t.clean=function(e,t,r,n){var a,i,o,l=n._plots||{},s=t._plots||{},u=n._subplots||{};if(n._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(o in l)(a=l[o]).plotgroup&&a.plotgroup.remove();var d=n._has&&n._has("gl"),f=t._has&&t._has("gl");if(d&&!f)for(o in l)(a=l[o])._scene&&a._scene.destroy();if(u.xaxis&&u.yaxis){var h=c.listIds({_fullLayout:n});for(i=0;i<h.length;i++){var p=h[i];t[c.id2name(p)]||n._infolayer.selectAll(".g-"+p+"title").remove()}}var v=n._has&&n._has("cartesian"),x=t._has&&t._has("cartesian");if(v&&!x)g(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(u.cartesian)for(i=0;i<u.cartesian.length;i++){var y=u.cartesian[i];if(!s[y]){var _="."+y+",."+y+"-x,."+y+"-y";n._cartesianlayer.selectAll(_).remove(),m(y,n)}}},t.drawFramework=function(e){var t=e._fullLayout,r=function(e){var t,r,n,a,i,o,l=e._fullLayout,s=l._subplots.cartesian,c=s.length,u=[],d=[];for(t=0;t<c;t++){n=s[t],a=l._plots[n],i=a.xaxis,o=a.yaxis;var f=i._mainAxis,h=o._mainAxis,p=f._id+h._id,v=l._plots[p];a.overlays=[],p!==n&&v?(a.mainplot=p,a.mainplotinfo=v,d.push(n)):(a.mainplot=void 0,a.mainplotinfo=void 0,u.push(n))}for(t=0;t<d.length;t++)n=d[t],(a=l._plots[n]).mainplotinfo.overlays.push(a);var g=u.concat(d),m=new Array(c);for(t=0;t<c;t++){n=g[t],a=l._plots[n],i=a.xaxis,o=a.yaxis;var x=[n,i.layer,o.layer,i.overlaying||"",o.overlaying||""];for(r=0;r<a.overlays.length;r++)x.push(a.overlays[r].id);m[t]=x}return m}(e),a=t._cartesianlayer.selectAll(".subplot").data(r,String);a.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),a.order(),a.exit().call(g,t),a.each(function(r){var a=r[0],i=t._plots[a];i.plotgroup=n.select(this),v(e,i),i.draglayer=f(t._draggers,"g",a)})},t.rangePlot=function(e,t,r){v(e,t),p(e,t,r),o.style(e)},t.toSVG=function(e){var t=e._fullLayout._glimages,r=n.select(e).selectAll(".svg-container");r.filter(function(e,t){return t===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:d.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},t.updateFx=r(378).updateFx},function(e,t,r){"use strict";var n=r(1),a=r(3),i=r(0),o=r(105),l=r(18),s=r(114),c=r(115),u=r(116),d=r(404),f=r(405),h=r(109),p=r(26).WEEKDAY_PATTERN,v=r(26).HOUR_PATTERN;function g(e,t,r){function a(r,n){return i.coerce(e,t,l.rangebreaks,r,n)}if(a("enabled")){var o=a("bounds");if(o&&o.length>=2){var s,c,u="";if(2===o.length)for(s=0;s<2;s++)if(c=x(o[s])){u=p;break}var d=a("pattern",u);if(d===p)for(s=0;s<2;s++)(c=x(o[s]))&&(t.bounds[s]=o[s]=c-1);if(d)for(s=0;s<2;s++)switch(c=o[s],d){case p:if(!n(c))return void(t.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(t.enabled=!1);t.bounds[s]=o[s]=c;break;case v:if(!n(c))return void(t.enabled=!1);if((c=+c)<0||c>24)return void(t.enabled=!1);t.bounds[s]=o[s]=c}if(!1===r.autorange){var f=r.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1])return void(t.enabled=!1)}else if(o[0]>f[0]&&o[1]<f[1])return void(t.enabled=!1)}}else{var h=a("values");if(!h||!h.length)return void(t.enabled=!1);a("dvalue")}}}e.exports=function(e,t,r,n,v){var m,x=n.letter,y=n.font||{},_=n.splomStash||{},b=r("visible",!n.visibleDflt),w=t._template||{},k=t.type||w.type||"-";"date"===k&&(a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",n.calendar),n.noTicklabelmode||(m=r("ticklabelmode")));n.noTicklabelposition&&"multicategory"!==k||i.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===m?["outside","inside"]:"x"===x?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),h(t,v);var L=!t.isValidRange(e.range);L&&n.reverseDflt&&(L="reversed"),!r("autorange",L)||"linear"!==k&&"-"!==k||r("rangemode"),r("range"),t.cleanRange(),d(e,t,r,n),"category"===k||n.noHover||r("hoverformat");var M=r("color"),A=M!==l.color.dflt?M:y.color,S=_.label||v._dfltTitle[x];if(u(e,t,r,k,n,{pass:1}),!b)return t;r("title.text",S),i.coerceFont(r,"title.font",{family:y.family,size:Math.round(1.2*y.size),color:A}),s(e,t,r,k),u(e,t,r,k,n,{pass:2}),c(e,t,r,n),f(e,t,r,{dfltColor:M,bgColor:n.bgColor,showGrid:n.showGrid,attributes:l}),(t.showline||t.ticks)&&r("mirror"),n.automargin&&r("automargin");var z,T="multicategory"===k;n.noTickson||"category"!==k&&!T||!t.ticks&&!t.showgrid||(T&&(z="boundaries"),"boundaries"===r("tickson",z)&&delete t.ticklabelposition);T&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));if("date"===k)if(o(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),t.rangebreaks.length){for(var C=0;C<t.rangebreaks.length;C++)if(t.rangebreaks[C].pattern===p){t._hasDayOfWeekBreaks=!0;break}if(h(t,v),v._has("scattergl")||v._has("splom"))for(var I=0;I<n.data.length;I++){var P=n.data[I];"scattergl"!==P.type&&"splom"!==P.type||(P.visible=!1,i.warn(P.type+" traces do not work on axes with rangebreaks. Setting trace "+P.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function x(e){if("string"==typeof e)return m[e.substr(0,3).toLowerCase()]}},function(e,t,r){"use strict";var n=r(1),a=r(0);e.exports=function(e,t,r,i){var o,l,s,c,u=i.counterAxes||[],d=i.overlayableAxes||[],f=i.letter,h=i.grid;h&&(l=h._domains[f][h._axisMap[t._id]],o=h._anchors[t._id],l&&(s=h[f+"side"].split(" ")[0],c=h.domain[f]["right"===s||"top"===s?1:0])),l=l||[0,1],o=o||(n(e.position)?"free":u[0]||"free"),s=s||("x"===f?"bottom":"left"),c=c||0,"free"===a.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:o}},"anchor")&&r("position",c),a.coerce(e,t,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:s}},"side");var p=!1;if(d.length&&(p=a.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!p){var v=r("domain",l);v[0]>v[1]-1/4096&&(t.domain=l),a.noneOrAll(e.domain,t.domain,l)}return r("layer"),t}},,,function(e,t,r){"use strict";var n=r(4),a=r(19),i=r(345),o=r(3),l=r(0),s=l.strTranslate,c=r(39),u=r(14),d=r(38),f=r(329),h=r(99),p=r(330),v=r(328),g=r(334),m=g.selectingOrDrawing,x=g.freeMode,y=r(28).FROM_TL,_=r(338),b=r(348).redrawReglTraces,w=r(57),k=r(27).getFromId,L=r(336).prepSelect,M=r(336).clearSelect,A=r(336).selectOnClick,S=r(347),z=r(26),T=z.MINDRAG,C=z.MINZOOM,I=!0;function P(e,t,r,n){var a=l.ensureSingle(e.draglayer,t,r,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(p,n),a.node()}function O(e,t,r,a,i,o,l){var s=P(e,"rect",t,r);return n.select(s).call(d.setRect,a,i,o,l),s}function R(e,t){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return t;return""}function D(e,t,r,n,a){for(var i=0;i<e.length;i++){var o=e[i];if(!o.fixedrange)if(o.rangebreaks){var l="y"===o._id.charAt(0),s=l?1-t:t,c=l?1-r:r;n[o._name+".range[0]"]=o.l2r(o.p2l(s*o._length)),n[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],d=o._rl[1]-u;n[o._name+".range[0]"]=o.l2r(u+d*t),n[o._name+".range[1]"]=o.l2r(u+d*r)}}if(a&&a.length){var f=(t+(1-r))/2;D(a,f,1-f,n,[])}}function E(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n.fixedrange)if(n.rangebreaks){var a=n._length,i=(n.p2l(0+t)-n.p2l(0)+(n.p2l(a+t)-n.p2l(a)))/2;n.range=[n.l2r(n._rl[0]-i),n.l2r(n._rl[1]-i)]}else n.range=[n.l2r(n._rl[0]-t/n._m),n.l2r(n._rl[1]-t/n._m)]}}function H(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function F(e,t,r,n,a){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(r,n)).attr("d",a+"Z")}function Z(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(t,r)).attr("d","M0,0Z")}function B(e,t,r,n,a,i){e.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),N(e,t,a,i)}function N(e,t,r,n){r||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function V(e){n.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function q(e){I&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),I=!1)}function G(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,C)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function j(e,t,r,n,a){for(var i,o,s,c,u=!1,d={},f={},h=(a||{}).xaHash,p=(a||{}).yaHash,v=0;v<t.length;v++){var g=t[v];for(i in r)if(g[i]){for(s in g)a&&(h[s]||p[s])||("x"===s.charAt(0)?r:n)[s]||(d[s]=i);for(o in n)a&&(h[o]||p[o])||!g[o]||(u=!0)}for(o in n)if(g[o])for(c in g)a&&(h[c]||p[c])||("x"===c.charAt(0)?r:n)[c]||(f[c]=o)}u&&(l.extendFlat(d,f),f={});var m={},x=[];for(s in d){var y=k(e,s);x.push(y),m[y._id]=y}var _={},b=[];for(c in f){var w=k(e,c);b.push(w),_[w._id]=w}return{xaHash:m,yaHash:_,xaxes:x,yaxes:b,xLinks:d,yLinks:f,isSubplotConstrained:u}}function U(e,t){if(i){var r=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=t,e.addEventListener(r,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function Y(e){var t=[];for(var r in e)t.push(e[r]);return t}e.exports={makeDragBox:function(e,t,r,i,s,u,p,g){var I,P,N,X,W,K,Q,J,$,ee,te,re,ne,ae,ie,oe,le,se,ce,ue,de,fe,he,pe=e._fullLayout._zoomlayer,ve=p+g==="nsew",ge=1===(p+g).length;function me(){if(I=t.xaxis,P=t.yaxis,$=I._length,ee=P._length,Q=I._offset,J=P._offset,(N={})[I._id]=I,(X={})[P._id]=P,p&&g)for(var r=t.overlays,n=0;n<r.length;n++){var a=r[n].xaxis;N[a._id]=a;var i=r[n].yaxis;X[i._id]=i}W=Y(N),K=Y(X),ne=R(W,g),ae=R(K,p),ie=!ae&&!ne,re=j(e,e._fullLayout._axisMatchGroups,N,X);var o=(te=j(e,e._fullLayout._axisConstraintGroups,N,X,re)).isSubplotConstrained||re.isSubplotConstrained;oe=g||o,le=p||o;var l=e._fullLayout;se=l._has("scattergl"),ce=l._has("splom"),ue=l._has("svg")}me();var xe=function(e,t,r){return e?"nsew"===e?r?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(ae+ne,e._fullLayout.dragmode,ve),ye=O(t,p+g+"drag",xe,r,i,s,u);if(ie&&!ve)return ye.onmousedown=null,ye.style.pointerEvents="none",ye;var _e,be,we,ke,Le,Me,Ae,Se,ze,Te,Ce={element:ye,gd:e,plotinfo:t};function Ie(){Ce.plotinfo.selection=!1,M(e)}function Pe(e,r){var a=Ce.gd;if(a._fullLayout._activeShapeIndex>=0)a._fullLayout._deactivateShape(a);else{var i=a._fullLayout.clickmode;if(V(a),2!==e||ge||qe(),ve)i.indexOf("select")>-1&&A(r,a,W,K,t.id,Ce),i.indexOf("event")>-1&&f.click(a,r,t.id);else if(1===e&&ge){var l=p?P:I,s="s"===p||"w"===g?0:1,u=l._name+".range["+s+"]",d=function(e,t){var r,a=e.range[t],i=Math.abs(a-e.range[1-t]);return"date"===e.type?a:"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,n.format("."+r+"g")(Math.pow(10,a))):(r=Math.floor(Math.log(Math.abs(a))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,n.format("."+String(r)+"g")(a))}(l,s),h="left",v="middle";if(l.fixedrange)return;p?(v="n"===p?"top":"bottom","right"===l.side&&(h="right")):"e"===g&&(h="right"),a._context.showAxisRangeEntryBoxes&&n.select(ye).call(c.makeEditable,{gd:a,immediate:!0,background:a._fullLayout.paper_bgcolor,text:String(d),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:h,verticalAlign:v}).on("edit",function(e){var t=l.d2r(e);void 0!==t&&o.call("_guiRelayout",a,u,t)})}}}function Oe(t,r){if(e._transitioningWithDuration)return!1;var n=Math.max(0,Math.min($,fe*t+_e)),a=Math.max(0,Math.min(ee,he*r+be)),i=Math.abs(n-_e),o=Math.abs(a-be);function l(){Ae="",we.r=we.l,we.t=we.b,ze.attr("d","M0,0Z")}if(we.l=Math.min(_e,n),we.r=Math.max(_e,n),we.t=Math.min(be,a),we.b=Math.max(be,a),te.isSubplotConstrained)i>C||o>C?(Ae="xy",i/$>o/ee?(o=i*ee/$,be>a?we.t=be-o:we.b=be+o):(i=o*$/ee,_e>n?we.l=_e-i:we.r=_e+i),ze.attr("d",G(we))):l();else if(re.isSubplotConstrained)if(i>C||o>C){Ae="xy";var s=Math.min(we.l/$,(ee-we.b)/ee),c=Math.max(we.r/$,(ee-we.t)/ee);we.l=s*$,we.r=c*$,we.b=(1-s)*ee,we.t=(1-c)*ee,ze.attr("d",G(we))}else l();else!ae||o<Math.min(Math.max(.6*i,T),C)?i<T||!ne?l():(we.t=0,we.b=ee,Ae="x",ze.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-C-.5)+"h-3v"+(2*C+1)+"h3ZM"+(e.r+.5)+","+(t-C-.5)+"h3v"+(2*C+1)+"h-3Z"}(we,be))):!ne||i<Math.min(.6*o,C)?(we.l=0,we.r=$,Ae="y",ze.attr("d",function(e,t){return"M"+(t-C-.5)+","+(e.t-.5)+"v-3h"+(2*C+1)+"v3ZM"+(t-C-.5)+","+(e.b+.5)+"v3h"+(2*C+1)+"v-3Z"}(we,_e))):(Ae="xy",ze.attr("d",G(we)));we.w=we.r-we.l,we.h=we.b-we.t,Ae&&(Te=!0),e._dragged=Te,B(Se,ze,we,Le,Me,ke),Re(),e.emit("plotly_relayouting",de),Me=!0}function Re(){de={},"xy"!==Ae&&"x"!==Ae||(D(W,we.l/$,we.r/$,de,te.xaxes),Ne("x",de)),"xy"!==Ae&&"y"!==Ae||(D(K,(ee-we.b)/ee,(ee-we.t)/ee,de,te.yaxes),Ne("y",de))}function De(){Re(),V(e),Ge(),q(e)}Ce.prepFn=function(t,r,n){var i=Ce.dragmode,o=e._fullLayout.dragmode;o!==i&&(Ce.dragmode=o),me(),fe=e._fullLayout._invScaleX,he=e._fullLayout._invScaleY,ie||(ve?t.shiftKey?"pan"===o?o="zoom":m(o)||(o="pan"):t.ctrlKey&&(o="pan"):o="pan"),x(o)?Ce.minDrag=1:Ce.minDrag=void 0,m(o)?(Ce.xaxes=W,Ce.yaxes=K,L(t,r,n,Ce,o)):(Ce.clickFn=Pe,m(i)&&Ie(),ie||("zoom"===o?(Ce.moveFn=Oe,Ce.doneFn=De,Ce.minDrag=1,function(t,r,n){var i=ye.getBoundingClientRect();_e=r-i.left,be=n-i.top,e._fullLayout._calcInverseTransform(e);var o=l.apply3DTransform(e._fullLayout._invTransform)(_e,be);_e=o[0],be=o[1],we={l:_e,r:_e,w:0,t:be,b:be,h:0},ke=e._hmpixcount?e._hmlumcount/e._hmpixcount:a(e._fullLayout.plot_bgcolor).getLuminance(),Me=!1,Ae="xy",Te=!1,Se=F(pe,ke,Q,J,Le="M0,0H"+$+"V"+ee+"H0V0"),ze=Z(pe,Q,J)}(0,r,n)):"pan"===o&&(Ce.moveFn=Be,Ce.doneFn=Ge))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===ye){var r=e._fullLayout.dragmode;m(r)||(me(),je([0,0,$,ee]),Ce.moveFn(t.dx,t.dy))}}},v.init(Ce);var Ee=[0,0,$,ee],He=null,Fe=z.REDRAWDELAY,Ze=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function Be(t,r){if(t*=fe,r*=he,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===ne||"ns"===ae){var n=ne?-t:0,a=ae?-r:0;if(re.isSubplotConstrained){if(ne&&ae){var i=(t/$-r/ee)/2;n=-(t=i*$),a=-(r=-i*ee)}ae?n=-a*$/ee:a=-n*ee/$}return ne&&(E(W,t),Ne("x")),ae&&(E(K,r),Ne("y")),je([n,a,$,ee]),Ve(),void e.emit("plotly_relayouting",de)}var o,l,s="w"===ne==("n"===ae)?1:-1;if(ne&&ae&&(te.isSubplotConstrained||re.isSubplotConstrained)){var c=(t/$+s*r/ee)/2;t=c*$,r=s*c*ee}if("w"===ne?t=h(W,0,t):"e"===ne?t=h(W,1,-t):ne||(t=0),"n"===ae?r=h(K,1,r):"s"===ae?r=h(K,0,-r):ae||(r=0),o="w"===ne?t:0,l="n"===ae?r:0,te.isSubplotConstrained&&!re.isSubplotConstrained||re.isSubplotConstrained&&ne&&ae&&s>0){var u;if(re.isSubplotConstrained||!ne&&1===ae.length){for(u=0;u<W.length;u++)W[u].range=W[u]._r.slice(),S(W[u],1-r/ee);o=(t=r*$/ee)/2}if(re.isSubplotConstrained||!ae&&1===ne.length){for(u=0;u<K.length;u++)K[u].range=K[u]._r.slice(),S(K[u],1-t/$);l=(r=t*ee/$)/2}}re.isSubplotConstrained&&ae||Ne("x"),re.isSubplotConstrained&&ne||Ne("y");var d=$-t,f=ee-r;!re.isSubplotConstrained||ne&&ae||(ne?(l=o?0:t*ee/$,f=d*ee/$):(o=l?0:r*$/ee,d=f*$/ee)),je([o,l,d,f]),Ve(),e.emit("plotly_relayouting",de)}function h(e,t,r){for(var n,a,i=1-t,o=0;o<e.length;o++){var l=e[o];if(!l.fixedrange){n=l,a=l._rl[i]+(l._rl[t]-l._rl[i])/H(r/l._length);var s=l.l2r(a);!1!==s&&void 0!==s&&(l.range[t]=s)}}return n._length*(n._rl[t]-a)/(n._rl[t]-n._rl[i])}}function Ne(e,t){for(var r=re.isSubplotConstrained?{x:K,y:W}[e]:re[e+"axes"],n=re.isSubplotConstrained?{x:W,y:K}[e]:[],a=0;a<r.length;a++){var i=r[a],o=i._id,l=re.xLinks[o]||re.yLinks[o],s=n[0]||N[l]||X[l];s&&(t?(t[i._name+".range[0]"]=t[s._name+".range[0]"],t[i._name+".range[1]"]=t[s._name+".range[1]"]):i.range=s.range.slice())}}function Ve(){var t,r=[];function n(e){for(t=0;t<e.length;t++)e[t].fixedrange||r.push(e[t]._id)}for(oe&&(n(W),n(te.xaxes),n(re.xaxes)),le&&(n(K),n(te.yaxes),n(re.yaxes)),de={},t=0;t<r.length;t++){var a=r[t],i=k(e,a);h.drawOne(e,i,{skipTitle:!0}),de[i._name+".range[0]"]=i.range[0],de[i._name+".range[1]"]=i.range[1]}h.redrawComponents(e,r)}function qe(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,r=[];ne&&(r=r.concat(W)),ae&&(r=r.concat(K)),re.xaxes&&(r=r.concat(re.xaxes)),re.yaxes&&(r=r.concat(re.yaxes));var n,a,i,l={};if("reset+autosize"===t)for(t="autosize",a=0;a<r.length;a++)if((n=r[a])._rangeInitial&&(n.range[0]!==n._rangeInitial[0]||n.range[1]!==n._rangeInitial[1])||!n._rangeInitial&&!n.autorange){t="reset";break}if("autosize"===t)for(a=0;a<r.length;a++)(n=r[a]).fixedrange||(l[n._name+".autorange"]=!0);else if("reset"===t)for((ne||te.isSubplotConstrained)&&(r=r.concat(te.xaxes)),ae&&!te.isSubplotConstrained&&(r=r.concat(te.yaxes)),te.isSubplotConstrained&&(ne?ae||(r=r.concat(K)):r=r.concat(W)),a=0;a<r.length;a++)(n=r[a]).fixedrange||(n._rangeInitial?(i=n._rangeInitial,l[n._name+".range[0]"]=i[0],l[n._name+".range[1]"]=i[1]):l[n._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),o.call("_guiRelayout",e,l)}}function Ge(){je([0,0,$,ee]),l.syncOrAsync([w.previousPromises,function(){e._fullLayout._replotting=!1,o.call("_guiRelayout",e,de)}],e)}function je(t){var r,n,a,i,s=e._fullLayout,c=s._plots,u=s._subplots.cartesian;if(ce&&o.subplotsRegistry.splom.drag(e),se)for(r=0;r<u.length;r++)if(a=(n=c[u[r]]).xaxis,i=n.yaxis,n._scene){var f=l.simpleMap(a.range,a.r2l),h=l.simpleMap(i.range,i.r2l);n._scene.update({range:[f[0],h[0],f[1],h[1]]})}if((ce||se)&&(_(e),b(e)),ue){var v=t[2]/I._length,m=t[3]/P._length;for(r=0;r<u.length;r++){a=(n=c[u[r]]).xaxis,i=n.yaxis;var x,y,w,k,L=(oe||re.isSubplotConstrained)&&!a.fixedrange&&N[a._id],M=(le||re.isSubplotConstrained)&&!i.fixedrange&&X[i._id];if(L?(x=v,w=g||re.isSubplotConstrained?t[0]:Xe(a,x)):re.xaHash[a._id]?(x=v,w=t[0]*a._length/I._length):re.yaHash[a._id]?(x=m,w="ns"===ae?-t[1]*a._length/P._length:Xe(a,x,{n:"top",s:"bottom"}[ae])):w=Ye(a,x=Ue(a,v,m)),M?(y=m,k=p||re.isSubplotConstrained?t[1]:Xe(i,y)):re.yaHash[i._id]?(y=m,k=t[1]*i._length/P._length):re.xaHash[i._id]?(y=v,k="ew"===ne?-t[0]*i._length/I._length:Xe(i,y,{e:"right",w:"left"}[ne])):k=Ye(i,y=Ue(i,v,m)),x||y){x||(x=1),y||(y=1);var A=a._offset-w/x,S=i._offset-k/y;n.clipRect.call(d.setTranslate,w,k).call(d.setScale,x,y),n.plot.call(d.setTranslate,A,S).call(d.setScale,1/x,1/y),x===n.xScaleFactor&&y===n.yScaleFactor||(d.setPointGroupScale(n.zoomScalePts,x,y),d.setTextPointsScale(n.zoomScaleTxt,x,y)),d.hideOutsideRangePoints(n.clipOnAxisFalseTraces,n),n.xScaleFactor=x,n.yScaleFactor=y}}}}function Ue(e,t,r){return e.fixedrange?0:oe&&te.xaHash[e._id]?t:le&&(te.isSubplotConstrained?te.xaHash:te.yaHash)[e._id]?r:0}function Ye(e,t){return t?(e.range=e._r.slice(),S(e,t),Xe(e,t)):0}function Xe(e,t,r){return e._length*(1-t)*y[r||e.constraintoward||"middle"]}return p.length*g.length!=1&&U(ye,function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Ie(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();me(),clearTimeout(He);var r=-t.deltaY;if(isFinite(r)||(r=t.wheelDelta/10),isFinite(r)){var n,a=Math.exp(-Math.min(Math.max(r,-20),20)/200),i=Ze.draglayer.select(".nsewdrag").node().getBoundingClientRect(),o=(t.clientX-i.left)/i.width,s=(i.bottom-t.clientY)/i.height;if(oe){for(g||(o=.5),n=0;n<W.length;n++)c(W[n],o,a);Ne("x"),Ee[2]*=a,Ee[0]+=Ee[2]*o*(1/a-1)}if(le){for(p||(s=.5),n=0;n<K.length;n++)c(K[n],s,a);Ne("y"),Ee[3]*=a,Ee[1]+=Ee[3]*(1-s)*(1/a-1)}je(Ee),Ve(),e.emit("plotly_relayouting",de),He=setTimeout(function(){Ee=[0,0,$,ee],Ge()},Fe),t.preventDefault()}else l.log("Did not find wheel motion attributes: ",t)}function c(e,t,r){if(!e.fixedrange){var n=l.simpleMap(e.range,e.r2l),a=n[0]+(n[1]-n[0])*t;e.range=n.map(function(t){return e.l2r(a+(t-a)*r)})}}}),ye},makeDragger:P,makeRectDragger:O,makeZoombox:F,makeCorners:Z,updateZoombox:B,xyCorners:G,transitionZoombox:N,removeZoombox:V,showDoubleClickNotifier:q,attachWheelEventHandler:U}},function(e,t,r){"use strict";t.manage=r(388)},function(e,t,r){"use strict";var n=r(27),a=r(101),i=r(3),o=r(100).isUnifiedHover,l=r(389),s=r(390);e.exports=function(e){var t=e._fullLayout,r=e._context,u=t._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,f=r.modeBarButtons;d=Array.isArray(f)&&f.length?function(e){for(var t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.length;n++){var a=r[n];if("string"==typeof a){if(void 0===s[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][n]=s[a]}}return e}(f):!r.displayModeBar&&r.watermark?[]:function(e){var t=e._fullLayout,r=e._fullData,l=e._context,u=l.modeBarButtonsToRemove,d=l.modeBarButtonsToAdd,f=t._has("cartesian"),h=t._has("gl3d"),p=t._has("geo"),v=t._has("pie"),g=t._has("funnelarea"),m=t._has("gl2d"),x=t._has("ternary"),y=t._has("mapbox"),_=t._has("polar"),b=t._has("sankey"),w=function(e){for(var t=n.list({_fullLayout:e},null,!0),r=0;r<t.length;r++)if(!t[r].fixedrange)return!1;return!0}(t),k=o(t.hovermode),L=[];function M(e){if(e.length){for(var t=[],r=0;r<e.length;r++){var n=e[r];-1===u.indexOf(n)&&t.push(s[n])}L.push(t)}}var A=["toImage"];l.showEditInChartStudio?A.push("editInChartStudio"):l.showSendToCloud&&A.push("sendDataToCloud");M(A);var S=[],z=[],T=[],C=[];(f||m||v||g||x)+p+h+y+_>1?(z=["toggleHover"],T=["resetViews"]):p?(S=["zoomInGeo","zoomOutGeo"],z=["hoverClosestGeo"],T=["resetGeo"]):h?(z=["hoverClosest3d"],T=["resetCameraDefault3d","resetCameraLastSave3d"]):y?(S=["zoomInMapbox","zoomOutMapbox"],z=["toggleHover"],T=["resetViewMapbox"]):m?z=["hoverClosestGl2d"]:v?z=["hoverClosestPie"]:b?(z=["hoverClosestCartesian","hoverCompareCartesian"],T=["resetViewSankey"]):z=["toggleHover"];f&&(z=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);((function(e){for(var t=0;t<e.length;t++)if(!i.traceIs(e[t],"noHover"))return!1;return!0})(r)||k)&&(z=[]);!f&&!m||w||(S=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==T[0]&&(T=["resetScale2d"]));h?C=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||m)&&!w||x?C=["zoom2d","pan2d"]:y||p?C=["pan2d"]:_&&(C=["zoom2d"]);(function(e){for(var t=!1,r=0;r<e.length&&!t;r++){var n=e[r];n._module&&n._module.selectPoints&&(i.traceIs(n,"scatter-like")?(a.hasMarkers(n)||a.hasText(n))&&(t=!0):i.traceIs(n,"box-violin")&&"all"!==n.boxpoints&&"all"!==n.points||(t=!0))}return t})(r)&&C.push("select2d","lasso2d");if(Array.isArray(d)){for(var I=[],P=0;P<d.length;P++){var O=d[P];"string"==typeof O?-1!==c.indexOf(O)&&(t._has("mapbox")||t._has("cartesian"))&&C.push(O):I.push(O)}d=I}return M(C),M(S.concat(T)),M(z),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t);return e}(L,d)}(e),u?u.update(e,d):t._modeBar=l(e,d)}else u&&(u.destroy(),delete t._modeBar)};var c=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},function(e,t,r){"use strict";var n=r(4),a=r(1),i=r(0),o=r(349),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===n.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var o=n.modebar,l="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(a),i.addRelatedStyleRule(a,l+"#"+a+" .modebar-group","background-color: "+o.bgcolor),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn .icon path","fill: "+o.color),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn:hover .icon path","fill: "+o.activecolor),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn.active .icon path","fill: "+o.activecolor);var s=!this.hasButtons(t),c=this.hasLogo!==r.displaylogo,u=this.locale!==r.locale;if(this.locale=r.locale,(s||c||u)&&(this.removeAllButtons(),this.updateButtons(t),r.watermark||r.displaylogo)){var d=this.getLogo();r.watermark&&(d.className=d.className+" watermark"),"v"===n.modebar.orientation?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var r=t.createGroup();e.forEach(function(e){var n=e.name;if(!n)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(n))throw new Error("button name '"+n+"' is taken");t.buttonsNames.push(n);var a=t.createButton(e);t.buttonElements.push(a),r.appendChild(a)}),t.element.appendChild(r)})},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var a=e.title;void 0===a?a=e.name:"function"==typeof a&&(a=a(this.graphInfo)),(a||0===a)&&r.setAttribute("data-title",a),void 0!==e.attr&&r.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),r.setAttribute("data-val",i)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(r){e.click(t.graphInfo,r),t.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&n.select(r).classed("active",!0);var l=e.icon;return"function"==typeof l?r.appendChild(l()):r.appendChild(this.createIcon(l||o.question)),r.setAttribute("data-gravity",e.gravity||"n"),r},c.createIcon=function(e){var t,r=a(e.height)?Number(e.height):e.ascent-e.descent,n="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(n,"svg")).setAttribute("viewBox",[0,0,e.width,r].join(" ")),t.setAttribute("class","icon");var i=document.createElementNS(n,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(i)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var a=e.getAttribute("data-val")||!0,o=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=n.select(e);if(l)o===r&&s.classed("active",!s.classed("active"));else{var c=null===o?o:i.nestedProperty(t,o).get();s.classed("active",c===a)}})},c.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var n=0;n<e[r].length;n++)if(e[r][n].name!==t[r][n].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var r=e._fullLayout,a=new s({graphInfo:e,container:r._modebardiv.node(),buttons:t});return r._privateplot&&n.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},function(e,t,r){"use strict";var n=r(3),a=r(57),i=r(27),o=r(349),l=r(379).eraseActiveShape,s=r(0),c=s._,u=e.exports={};function d(e,t){var r,a,o=t.currentTarget,l=o.getAttribute("data-attr"),s=o.getAttribute("data-val")||!0,c=e._fullLayout,u={},d=i.list(e,null,!0),f=c._cartesianSpikesEnabled;if("zoom"===l){var h,p="in"===s?.5:2,v=(1+p)/2,g=(1-p)/2;for(a=0;a<d.length;a++)if(!(r=d[a]).fixedrange)if(h=r._name,"auto"===s)u[h+".autorange"]=!0;else if("reset"===s){if(void 0===r._rangeInitial)u[h+".autorange"]=!0;else{var m=r._rangeInitial.slice();u[h+".range[0]"]=m[0],u[h+".range[1]"]=m[1]}void 0!==r._showSpikeInitial&&(u[h+".showspikes"]=r._showSpikeInitial,"on"!==f||r._showSpikeInitial||(f="off"))}else{var x=[r.r2l(r.range[0]),r.r2l(r.range[1])],y=[v*x[0]+g*x[1],v*x[1]+g*x[0]];u[h+".range[0]"]=r.l2r(y[0]),u[h+".range[1]"]=r.l2r(y[1])}}else"hovermode"!==l||"x"!==s&&"y"!==s||(s=c._isHoriz?"y":"x",o.setAttribute("data-val",s)),u[l]=s;c._cartesianSpikesEnabled=f,n.call("_guiRelayout",e,u)}function f(e,t){for(var r=t.currentTarget,a=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],l={},s=a.split("."),c=0;c<o.length;c++)l[o[c]+"."+s[1]]=i;var u="pan"===i?i:"zoom";l.dragmode=u,n.call("_guiRelayout",e,l)}function h(e,t){for(var r=t.currentTarget.getAttribute("data-attr"),a="resetLastSave"===r,i="resetDefault"===r,o=e._fullLayout,l=o._subplots.gl3d||[],s={},c=0;c<l.length;c++){var u,d=l[c],f=d+".camera",h=d+".aspectratio",p=d+".aspectmode",v=o[d]._scene;a?(s[f+".up"]=v.viewInitial.up,s[f+".eye"]=v.viewInitial.eye,s[f+".center"]=v.viewInitial.center,u=!0):i&&(s[f+".up"]=null,s[f+".eye"]=null,s[f+".center"]=null,u=!0),u&&(s[h+".x"]=v.viewInitial.aspectratio.x,s[h+".y"]=v.viewInitial.aspectratio.y,s[h+".z"]=v.viewInitial.aspectratio.z,s[p]=v.viewInitial.aspectmode)}n.call("_guiRelayout",e,s)}function p(e,t){var r=t.currentTarget,n=r._previousVal,a=e._fullLayout,i=a._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],l={},s={};if(n)s=n,r._previousVal=null;else{for(var c=0;c<i.length;c++){var u=i[c],d=a[u],f=u+".hovermode";l[f]=d.hovermode,s[f]=!1;for(var h=0;h<3;h++){var p=o[h],v=u+"."+p+".showspikes";s[v]=!1,l[v]=d[p].showspikes}}r._previousVal=l}return s}function v(e,t){for(var r=t.currentTarget,a=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout,l=o._subplots.geo||[],s=0;s<l.length;s++){var c=l[s],u=o[c];if("zoom"===a){var d=u.projection.scale,f="in"===i?2*d:.5*d;n.call("_guiRelayout",e,c+".projection.scale",f)}}"reset"===a&&y(e,"geo")}function g(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function m(e){var t=g(e);n.call("_guiRelayout",e,"hovermode",t)}function x(e,t){for(var r=t.currentTarget.getAttribute("data-val"),a=e._fullLayout,i=a._subplots.mapbox||[],o={},l=0;l<i.length;l++){var s=i[l],c=a[s].zoom,u="in"===r?1.05*c:c/1.05;o[s+".zoom"]=u}n.call("_guiRelayout",e,o)}function y(e,t){for(var r=e._fullLayout,a=r._subplots[t]||[],i={},o=0;o<a.length;o++)for(var l=a[o],s=r[l]._subplot.viewInitial,c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];i[l+"."+d]=s[d]}n.call("_guiRelayout",e,i)}u.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return c(e,"png"===t?"Download plot as a png":"Download plot")},icon:o.camera,click:function(e){var t=e._context.toImageButtonOptions,r={format:t.format||"png"};s.notifier(c(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&s.isIE()&&(s.notifier(c(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(e){e in t&&(r[e]=t[e])}),n.call("downloadImage",e,r).then(function(t){s.notifier(c(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){s.notifier(c(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.disk,click:function(e){a.sendDataToCloud(e)}},u.editInChartStudio={name:"editInChartStudio",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.pencil,click:function(e){a.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return c(e,"Zoom")},attr:"dragmode",val:"zoom",icon:o.zoombox,click:d},u.pan2d={name:"pan2d",title:function(e){return c(e,"Pan")},attr:"dragmode",val:"pan",icon:o.pan,click:d},u.select2d={name:"select2d",title:function(e){return c(e,"Box Select")},attr:"dragmode",val:"select",icon:o.selectbox,click:d},u.lasso2d={name:"lasso2d",title:function(e){return c(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:o.lasso,click:d},u.drawclosedpath={name:"drawclosedpath",title:function(e){return c(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:o.drawclosedpath,click:d},u.drawopenpath={name:"drawopenpath",title:function(e){return c(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:o.drawopenpath,click:d},u.drawline={name:"drawline",title:function(e){return c(e,"Draw line")},attr:"dragmode",val:"drawline",icon:o.drawline,click:d},u.drawrect={name:"drawrect",title:function(e){return c(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:o.drawrect,click:d},u.drawcircle={name:"drawcircle",title:function(e){return c(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:o.drawcircle,click:d},u.eraseshape={name:"eraseshape",title:function(e){return c(e,"Erase active shape")},icon:o.eraseshape,click:l},u.zoomIn2d={name:"zoomIn2d",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:d},u.zoomOut2d={name:"zoomOut2d",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:d},u.autoScale2d={name:"autoScale2d",title:function(e){return c(e,"Autoscale")},attr:"zoom",val:"auto",icon:o.autoscale,click:d},u.resetScale2d={name:"resetScale2d",title:function(e){return c(e,"Reset axes")},attr:"zoom",val:"reset",icon:o.home,click:d},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return c(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:d},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return c(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:o.tooltip_compare,gravity:"ne",click:d},u.zoom3d={name:"zoom3d",title:function(e){return c(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:o.zoombox,click:f},u.pan3d={name:"pan3d",title:function(e){return c(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:o.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(e){return c(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:o["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(e){return c(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:o["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return c(e,"Reset camera to default")},attr:"resetDefault",icon:o.home,click:h},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return c(e,"Reset camera to last save")},attr:"resetLastSave",icon:o.movie,click:h},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var r=p(e,t);n.call("_guiRelayout",e,r)}},u.zoomInGeo={name:"zoomInGeo",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:v},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:v},u.resetGeo={name:"resetGeo",title:function(e){return c(e,"Reset")},attr:"reset",val:null,icon:o.autoscale,click:v},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:m},u.resetViewSankey={name:"resetSankeyGroup",title:function(e){return c(e,"Reset view")},icon:o.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<e._fullData.length;r++){var a=e._fullData[r]._viewInitial;t["node.groups"].push(a.node.groups.slice()),t["node.x"].push(a.node.x.slice()),t["node.y"].push(a.node.y.slice())}n.call("restyle",e,t)}},u.toggleHover={name:"toggleHover",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var r=p(e,t);r.hovermode=g(e),n.call("_guiRelayout",e,r)}},u.resetViews={name:"resetViews",title:function(e){return c(e,"Reset views")},icon:o.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),d(e,t),r.setAttribute("data-attr","resetLastSave"),h(e,t),y(e,"geo"),y(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return c(e,"Toggle Spike Lines")},icon:o.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,r=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===r?"off":"on",n.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,r=i.list(e,null,!0),n={},a=0;a<r.length;a++){var o=r[a];n[o._name+".showspikes"]=!!t||o._showSpikeInitial}return n}(e))}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return c(e,"Reset view")},attr:"reset",icon:o.home,click:function(e){y(e,"mapbox")}},u.zoomInMapbox={name:"zoomInMapbox",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:x},u.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:x}},function(e,t){e.exports=function(e){var t=[];return e.replace(n,function(e,n,i){var o=n.toLowerCase();for(i=function(e){var t=e.match(a);return t?t.map(Number):[]}(i),"m"==o&&i.length>2&&(t.push([n].concat(i.splice(0,2))),o="l",n="m"==n?"l":"L");;){if(i.length==r[o])return i.unshift(n),t.push(i);if(i.length<r[o])throw new Error("malformed path data");t.push([n].concat(i.splice(0,r[o])))}}),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(e,t,r){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var n,a=r(393),i=r(394),o=r(395),l=r(397),s=r(398),c=r(399),u=!1,d=i();function f(e,t,r){var a=n.segments(e),i=n.segments(t),o=r(n.combine(a,i));return n.polygon(o)}n={buildLog:function(e){return!0===e?u=a():!1===e&&(u=!1),!1!==u&&u.list},epsilon:function(e){return d.epsilon(e)},segments:function(e){var t=o(!0,d,u);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:o(!1,d,u).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,u),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,u),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,u),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,u),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,u),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,d,u),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(n,e)},polygonToGeoJSON:function(e){return c.fromPolygon(n,d,e)},union:function(e,t){return f(e,t,n.selectUnion)},intersect:function(e,t){return f(e,t,n.selectIntersect)},difference:function(e,t){return f(e,t,n.selectDifference)},differenceRev:function(e,t){return f(e,t,n.selectDifferenceRev)},xor:function(e,t){return f(e,t,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),e.exports=n},function(e,t){e.exports=function(){var e,t=0,r=!1;function n(t,r){return e.list.push({type:t,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return n("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return n("div_seg",{seg:e,pt:t}),n("chop",{seg:e,pt:t})},statusRemove:function(e){return n("pop_seg",{seg:e})},segmentUpdate:function(e){return n("seg_update",{seg:e})},segmentNew:function(e,t){return n("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return n("rem_seg",{seg:e})},tempStatus:function(e,t,r){return n("temp_status",{seg:e,above:t,below:r})},rewind:function(e){return n("rewind",{seg:e})},status:function(e,t,r){return n("status",{seg:e,above:t,below:r})},vert:function(t){return t===r?e:(r=t,n("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),n("log",{txt:e})},reset:function(){return n("reset")},selected:function(e){return n("selected",{segs:e})},chainStart:function(e){return n("chain_start",{seg:e})},chainRemoveHead:function(e,t){return n("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return n("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return n("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return n("chain_match",{index:e})},chainClose:function(e){return n("chain_close",{index:e})},chainAddHead:function(e,t){return n("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return n("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return n("chain_con",{index1:e,index2:t})},chainReverse:function(e){return n("chain_rev",{index:e})},chainJoin:function(e,t){return n("chain_join",{index1:e,index2:t})},done:function(){return n("done")}}}},function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,r,n){var a=r[0],i=r[1],o=n[0],l=n[1],s=t[0];return(o-a)*(t[1]-i)-(l-i)*(s-a)>=-e},pointBetween:function(t,r,n){var a=t[1]-r[1],i=n[0]-r[0],o=t[0]-r[0],l=n[1]-r[1],s=o*i+a*l;return!(s<e||s-(i*i+l*l)>-e)},pointsSameX:function(t,r){return Math.abs(t[0]-r[0])<e},pointsSameY:function(t,r){return Math.abs(t[1]-r[1])<e},pointsSame:function(e,r){return t.pointsSameX(e,r)&&t.pointsSameY(e,r)},pointsCompare:function(e,r){return t.pointsSameX(e,r)?t.pointsSameY(e,r)?0:e[1]<r[1]?-1:1:e[0]<r[0]?-1:1},pointsCollinear:function(t,r,n){var a=t[0]-r[0],i=t[1]-r[1],o=r[0]-n[0],l=r[1]-n[1];return Math.abs(a*l-o*i)<e},linesIntersect:function(t,r,n,a){var i=r[0]-t[0],o=r[1]-t[1],l=a[0]-n[0],s=a[1]-n[1],c=i*s-o*l;if(Math.abs(c)<e)return!1;var u=t[0]-n[0],d=t[1]-n[1],f=(l*d-s*u)/c,h=(i*d-o*u)/c,p={alongA:0,alongB:0,pt:[t[0]+f*i,t[1]+f*o]};return p.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,r){for(var n=t[0],a=t[1],i=r[r.length-1][0],o=r[r.length-1][1],l=!1,s=0;s<r.length;s++){var c=r[s][0],u=r[s][1];u-a>e!=o-a>e&&(i-c)*(a-u)/(o-u)+c-n>e&&(l=!l),i=c,o=u}return l}};return t}},function(e,t,r){var n=r(396);e.exports=function(e,t,r){function a(e,t,n){return{id:r?r.segmentId():-1,start:e,end:t,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var i=n.create();function o(e,r){i.insertBefore(e,function(n){return function(e,r,n,a,i,o){var l=t.pointsCompare(r,i);return 0!==l?l:t.pointsSame(n,o)?0:e!==a?e?1:-1:t.pointAboveOrOnLine(n,a?i:o,a?o:i)?1:-1}(e.isStart,e.pt,r,n.isStart,n.pt,n.other.pt)<0})}function l(e,t){var r=function(e,t){var r=n.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return o(r,e.end),r}(e,t);return function(e,t,r){var a=n.node({isStart:!1,pt:t.end,seg:t,primary:r,other:e,status:null});e.other=a,o(a,e.pt)}(r,e,t),r}function s(e,t){var n=a(t,e.seg.end,e.seg);return function(e,t){r&&r.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,o(e.other,e.pt)}(e,t),l(n,e.primary)}function c(a,o){var l=n.create();function c(e){return l.findTransition(function(r){var n,a,i,o,l,s;return n=e,a=r.ev,i=n.seg.start,o=n.seg.end,l=a.seg.start,s=a.seg.end,(t.pointsCollinear(i,l,s)?t.pointsCollinear(o,l,s)?1:t.pointAboveOrOnLine(o,l,s)?1:-1:t.pointAboveOrOnLine(i,l,s)?1:-1)>0})}function u(e,n){var a=e.seg,i=n.seg,o=a.start,l=a.end,c=i.start,u=i.end;r&&r.checkIntersection(a,i);var d=t.linesIntersect(o,l,c,u);if(!1===d){if(!t.pointsCollinear(o,l,c))return!1;if(t.pointsSame(o,u)||t.pointsSame(l,c))return!1;var f=t.pointsSame(o,c),h=t.pointsSame(l,u);if(f&&h)return n;var p=!f&&t.pointBetween(o,c,u),v=!h&&t.pointBetween(l,c,u);if(f)return v?s(n,l):s(e,u),n;p&&(h||(v?s(n,l):s(e,u)),s(n,o))}else 0===d.alongA&&(-1===d.alongB?s(e,c):0===d.alongB?s(e,d.pt):1===d.alongB&&s(e,u)),0===d.alongB&&(-1===d.alongA?s(n,o):0===d.alongA?s(n,d.pt):1===d.alongA&&s(n,l));return!1}for(var d=[];!i.isEmpty();){var f=i.getHead();if(r&&r.vert(f.pt[0]),f.isStart){r&&r.segmentNew(f.seg,f.primary);var h=c(f),p=h.before?h.before.ev:null,v=h.after?h.after.ev:null;function g(){if(p){var e=u(f,p);if(e)return e}return!!v&&u(f,v)}r&&r.tempStatus(f.seg,!!p&&p.seg,!!v&&v.seg);var m,x,y=g();if(y)e?(x=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(y.seg.myFill.above=!y.seg.myFill.above):y.seg.otherFill=f.seg.myFill,r&&r.segmentUpdate(y.seg),f.other.remove(),f.remove();if(i.getHead()!==f){r&&r.rewind(f.seg);continue}e?(x=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=v?v.seg.myFill.above:a,f.seg.myFill.above=x?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(m=v?f.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:f.primary?o:a,f.seg.otherFill={above:m,below:m}),r&&r.status(f.seg,!!p&&p.seg,!!v&&v.seg),f.other.status=h.insert(n.node({ev:f}))}else{var _=f.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&u(_.prev.ev,_.next.ev),r&&r.statusRemove(_.ev.seg),_.remove(),!f.primary){var b=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=b}d.push(f.seg)}i.getHead().remove()}return r&&r.done(),d}return e?{addRegion:function(e){for(var n,a,i,o=e[e.length-1],s=0;s<e.length;s++){n=o,o=e[s];var c=t.pointsCompare(n,o);0!==c&&l((a=c<0?n:o,i=c<0?o:n,{id:r?r.segmentId():-1,start:a,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,r,n){return e.forEach(function(e){l(a(e.start,e.end,e),!0)}),r.forEach(function(e){l(a(e.start,e.end,e),!1)}),c(t,n)}}}},function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,r){for(var n=e.root,a=e.root.next;null!==a;){if(r(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);n=a,a=a.next}n.next=t,t.prev=n,t.next=null},findTransition:function(t){for(var r=e.root,n=e.root.next;null!==n&&!t(n);)r=n,n=n.next;return{before:r===e.root?null:r,after:n,insert:function(e){return e.prev=r,e.next=n,r.next=e,null!==n&&(n.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},function(e,t){e.exports=function(e,t,r){var n=[],a=[];return e.forEach(function(e){var i=e.start,o=e.end;if(t.pointsSame(i,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,u=0;u<n.length;u++){var d=(g=n[u])[0],f=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(d,i)){if(L(u,!0,!0))break}else if(t.pointsSame(d,o)){if(L(u,!0,!1))break}else if(t.pointsSame(f,i)){if(L(u,!1,!0))break}else if(t.pointsSame(f,o)&&L(u,!1,!1))break}if(c===l)return n.push([i,o]),void(r&&r.chainNew(i,o));if(c===s){r&&r.chainMatch(l.index);var h=l.index,p=l.matches_pt1?o:i,v=l.matches_head,g=n[h],m=v?g[0]:g[g.length-1],x=v?g[1]:g[g.length-2],y=v?g[g.length-1]:g[0],_=v?g[g.length-2]:g[1];return t.pointsCollinear(x,m,p)&&(v?(r&&r.chainRemoveHead(l.index,p),g.shift()):(r&&r.chainRemoveTail(l.index,p),g.pop()),m=x),t.pointsSame(y,p)?(n.splice(h,1),t.pointsCollinear(_,y,m)&&(v?(r&&r.chainRemoveTail(l.index,m),g.pop()):(r&&r.chainRemoveHead(l.index,m),g.shift())),r&&r.chainClose(l.index),void a.push(g)):void(v?(r&&r.chainAddHead(l.index,p),g.unshift(p)):(r&&r.chainAddTail(l.index,p),g.push(p)))}var b=l.index,w=s.index;r&&r.chainConnect(b,w);var k=n[b].length<n[w].length;l.matches_head?s.matches_head?k?(M(b),A(b,w)):(M(w),A(w,b)):A(w,b):s.matches_head?A(b,w):k?(M(b),A(w,b)):(M(w),A(b,w))}function L(e,t,r){return c.index=e,c.matches_head=t,c.matches_pt1=r,c===l?(c=s,!1):(c=null,!0)}function M(e){r&&r.chainReverse(e),n[e].reverse()}function A(e,a){var i=n[e],o=n[a],l=i[i.length-1],s=i[i.length-2],c=o[0],u=o[1];t.pointsCollinear(s,l,c)&&(r&&r.chainRemoveTail(e,l),i.pop(),l=s),t.pointsCollinear(l,c,u)&&(r&&r.chainRemoveHead(a,c),o.shift()),r&&r.chainJoin(e,a),n[e]=i.concat(o),n.splice(a,1)}}),a}},function(e,t){function r(e,t,r){var n=[];return e.forEach(function(e){var a=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[a]&&n.push({id:r?r.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[a],below:2===t[a]},otherFill:null})}),r&&r.selected(n),n}var n={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=n},function(e,t){var r={toPolygon:function(e,t){function r(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function r(t){var r=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[r]})}for(var n=r(t[0]),a=1;a<t.length;a++)n=e.selectDifference(e.combine(n,r(t[a])));return n}if("Polygon"===t.type)return e.polygon(r(t.coordinates));if("MultiPolygon"===t.type){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<t.coordinates.length;a++)n=e.selectUnion(e.combine(n,r(t.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,r){function n(e,r){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r)}function a(e){return{region:e,children:[]}}r=e.polygon(e.segments(r));var i=a(null);function o(e,t){for(var r=0;r<e.children.length;r++){if(n(t,(l=e.children[r]).region))return void o(l,t)}var i=a(t);for(r=0;r<e.children.length;r++){var l;n((l=e.children[r]).region,t)&&(i.children.push(l),e.children.splice(r,1),r--)}e.children.push(i)}for(var l=0;l<r.regions.length;l++){var s=r.regions[l];s.length<3||o(i,s)}function c(e,t){for(var r=0,n=e[e.length-1][0],a=e[e.length-1][1],i=[],o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];i.push([l,s]),r+=s*n-l*a,n=l,a=s}return r<0!==t&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var u=[];function d(e){var t=[c(e.region,!1)];u.push(t);for(var r=0;r<e.children.length;r++)t.push(f(e.children[r]))}function f(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return c(e.region,!0)}for(l=0;l<i.children.length;l++)d(i.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=r},function(e,t,r){"use strict";var n=r(0),a=r(3);e.exports=function(e,t,r,i){var o,l=i("x"),s=i("y");if(a.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],r),l){var c=n.minRowLength(l);s?o=Math.min(c,n.minRowLength(s)):(o=c,i("y0"),i("dy"))}else{if(!s)return 0;o=n.minRowLength(s),i("x0"),i("dx")}return t._length=o,o}},function(e,t,r){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},function(e,t,r){"use strict";var n=r(0),a=r(14),i=r(100).isUnifiedHover,o=r(346),l=r(17),s=r(41),c=r(18),u=r(403),d=r(382),f=r(341),h=r(383),p=r(27),v=p.id2name,g=p.name2id,m=r(26).AX_ID_PATTERN,x=r(3),y=x.traceIs,_=x.getComponentMethod;function b(e,t,r){Array.isArray(e[t])?e[t].push(r):e[t]=[r]}e.exports=function(e,t,r){var x,w,k=t.autotypenumbers,L={},M={},A={},S={},z={},T={},C={},I={},P={},O={};for(x=0;x<r.length;x++){var R=r[x];if(y(R,"cartesian")||y(R,"gl2d")){var D,E;if(R.xaxis)D=v(R.xaxis),b(L,D,R);else if(R.xaxes)for(w=0;w<R.xaxes.length;w++)b(L,v(R.xaxes[w]),R);if(R.yaxis)E=v(R.yaxis),b(L,E,R);else if(R.yaxes)for(w=0;w<R.yaxes.length;w++)b(L,v(R.yaxes[w]),R);if("funnel"===R.type?"h"===R.orientation?(D&&(M[D]=!0),E&&(C[E]=!0)):E&&(A[E]=!0):"image"===R.type?(E&&(I[E]=!0),D&&(I[D]=!0)):(E&&(z[E]=!0,T[E]=!0),y(R,"carpet")&&("carpet"!==R.type||R._cheater)||D&&(S[D]=!0)),"carpet"===R.type&&R._cheater&&D&&(M[D]=!0),y(R,"2dMap")&&(P[D]=!0,P[E]=!0),y(R,"oriented"))O["h"===R.orientation?E:D]=!0}}var H=t._subplots,F=H.xaxis,Z=H.yaxis,B=n.simpleMap(F,v),N=n.simpleMap(Z,v),V=B.concat(N),q=a.background;F.length&&Z.length&&(q=n.coerce(e,t,s,"plot_bgcolor"));var G,j,U,Y,X,W=a.combine(q,t.paper_bgcolor);function K(){var e=L[G]||[];X._traceIndices=e.map(function(e){return e._expandedIndex}),X._annIndices=[],X._shapeIndices=[],X._imgIndices=[],X._subplotsWith=[],X._counterAxes=[],X._name=X._attr=G,X._id=j}function Q(e,t){return n.coerce(Y,X,c,e,t)}function J(e,t){return n.coerce2(Y,X,c,e,t)}function $(e){return"x"===e?Z:F}function ee(t,r){for(var n="x"===t?B:N,a=[],i=0;i<n.length;i++){var o=n[i];o===r||(e[o]||{}).overlaying||a.push(g(o))}return a}var te={x:$("x"),y:$("y")},re=te.x.concat(te.y),ne={},ae=[];function ie(){var e=Y.matches;m.test(e)&&-1===re.indexOf(e)&&(ne[e]=Y.type,ae=Object.keys(ne))}var oe=o(e,t,r),le=i(oe);for(x=0;x<V.length;x++){G=V[x],j=g(G),U=G.charAt(0),n.isPlainObject(e[G])||(e[G]={}),Y=e[G],X=l.newContainer(t,G,U+"axis"),K();var se="x"===U&&!S[G]&&M[G]||"y"===U&&!z[G]&&A[G],ce="y"===U&&(!T[G]&&C[G]||I[G]),ue={letter:U,font:t.font,outerTicks:P[G],showGrid:!O[G],data:L[G]||[],bgColor:W,calendar:t.calendar,automargin:!0,visibleDflt:se,reverseDflt:ce,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[U]||{})[j]};Q("uirevision",t.uirevision),u(Y,X,Q,ue),d(Y,X,Q,ue,t);var de=le&&U===oe.charAt(0),fe=J("spikecolor",le?X.color:void 0),he=J("spikethickness",le?1.5:void 0),pe=J("spikedash",le?"dot":void 0),ve=J("spikemode",le?"across":void 0),ge=J("spikesnap",le?"hovered data":void 0);Q("showspikes",!!(de||fe||he||pe||ve||ge))||(delete X.spikecolor,delete X.spikethickness,delete X.spikedash,delete X.spikemode,delete X.spikesnap),h(Y,X,Q,{letter:U,counterAxes:te[U],overlayableAxes:ee(U,G),grid:t.grid}),Q("title.standoff"),ie(),X._input=Y}for(x=0;x<ae.length;){j=ae[x++],U=(G=v(j)).charAt(0),n.isPlainObject(e[G])||(e[G]={}),Y=e[G],X=l.newContainer(t,G,U+"axis"),K();var me={letter:U,font:t.font,outerTicks:P[G],showGrid:!O[G],data:[],bgColor:W,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[U]||{})[j]};Q("uirevision",t.uirevision),X.type=ne[j]||"linear",d(Y,X,Q,me,t),h(Y,X,Q,{letter:U,counterAxes:te[U],overlayableAxes:ee(U,G),grid:t.grid}),Q("fixedrange"),ie(),X._input=Y}var xe=_("rangeslider","handleDefaults"),ye=_("rangeselector","handleDefaults");for(x=0;x<B.length;x++)G=B[x],Y=e[G],X=t[G],xe(e,t,G),"date"===X.type&&ye(Y,X,t,N,X.calendar),Q("fixedrange");for(x=0;x<N.length;x++){G=N[x],Y=e[G],X=t[G];var _e=t[v(X.anchor)];Q("fixedrange",_("rangeslider","isVisible")(_e))}f.handleDefaults(e,t,{axIds:re.concat(ae).sort(p.idSort),axHasImage:I})}},function(e,t,r){"use strict";var n=r(3).traceIs,a=r(120);function i(e){return{v:"x",h:"y"}[e.orientation||"v"]}function o(e,t){var r=i(e),a=n(e,"box-violin"),o=n(e._fullInput||{},"candlestick");return a&&!o&&t===r&&void 0===e[r]&&void 0===e[r+"0"]}e.exports=function(e,t,r,l){r("autotypenumbers",l.autotypenumbersDflt),"-"===r("type",(l.splomStash||{}).type)&&(!function(e,t){if("-"!==e.type)return;var r,l=e._id,s=l.charAt(0);-1!==l.indexOf("scene")&&(l=s);var c=function(e,t,r){for(var n=0;n<e.length;n++){var a=e[n];if("splom"===a.type&&a._length>0&&(a["_"+r+"axes"]||{})[t])return a;if((a[r+"axis"]||r)===t){if(o(a,r))return a;if((a[r]||[]).length||a[r+"0"])return a}}}(t,l,s);if(!c)return;if("histogram"===c.type&&s==={v:"y",h:"x"}[c.orientation||"v"])return void(e.type="linear");var u=s+"calendar",d=c[u],f={noMultiCategory:!n(c,"cartesian")||n(c,"noMultiCategory")};"box"===c.type&&c._hasPreCompStats&&s==={h:"x",v:"y"}[c.orientation||"v"]&&(f.noMultiCategory=!0);if(f.autotypenumbers=e.autotypenumbers,o(c,s)){var h=i(c),p=[];for(r=0;r<t.length;r++){var v=t[r];n(v,"box-violin")&&(v[s+"axis"]||s)===l&&(void 0!==v[h]?p.push(v[h][0]):void 0!==v.name?p.push(v.name):p.push("text"),v[u]!==d&&(d=void 0))}e.type=a(p,d,f)}else if("splom"===c.type){var g=c.dimensions,m=g[c._axesDim[l]];m.visible&&(e.type=a(m.values,d,f))}else e.type=a(c[s]||[c[s+"0"]],d,f)}(t,l.data),"-"===t.type?t.type="linear":e.type=t.type)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){if("category"===t.type){var a,i=e.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(a="array");var l,s=r("categoryorder",a);"array"===s&&(l=r("categoryarray")),o||"array"!==s||(s=t.categoryorder="trace"),"trace"===s?t._initialCategories=[]:"array"===s?t._initialCategories=l.slice():(l=function(e,t){var r,n,a,i=t.dataAttr||e._id.charAt(0),o={};if(t.axData)r=t.axData;else for(r=[],n=0;n<t.data.length;n++){var l=t.data[n];l[i+"axis"]===e._id&&r.push(l)}for(n=0;n<r.length;n++){var s=r[n][i];for(a=0;a<s.length;a++){var c=s[a];null!==c&&void 0!==c&&(o[c]=1)}}return Object.keys(o)}(t,n).sort(),"category ascending"===s?t._initialCategories=l:"category descending"===s&&(t._initialCategories=l.reverse()))}}},function(e,t,r){"use strict";var n=r(19).mix,a=r(40).lightFraction,i=r(0);e.exports=function(e,t,r,o){var l=(o=o||{}).dfltColor;function s(r,n){return i.coerce2(e,t,o.attributes,r,n)}var c=s("linecolor",l),u=s("linewidth");r("showline",o.showLine||!!c||!!u)||(delete t.linecolor,delete t.linewidth);var d=s("gridcolor",n(l,o.bgColor,o.blend||a).toRgbString()),f=s("gridwidth");if(r("showgrid",o.showGrid||!!d||!!f)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var h=s("zerolinecolor",l),p=s("zerolinewidth");r("zeroline",o.showGrid||!!h||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(0),o=r(38),l=r(99);e.exports=function(e,t,r,s){var c=e._fullLayout;if(0!==t.length){var u,d,f,h;s&&(u=s());var p=n.ease(r.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(h),h=null,function(){for(var r={},n=0;n<t.length;n++){var i=t[n],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr0&&(r[o._name+".range"]=i.xr0.slice()),i.yr0&&(r[l._name+".range"]=i.yr0.slice())}return a.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)})}()}),d=Date.now(),h=window.requestAnimationFrame(function n(){f=Date.now();for(var i=Math.min(1,(f-d)/r.duration),o=p(i),l=0;l<t.length;l++)g(t[l],o);f-d>r.duration?(function(){for(var r={},n=0;n<t.length;n++){var i=t[n],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr1&&(r[o._name+".range"]=i.xr1.slice()),i.yr1&&(r[l._name+".range"]=i.yr1.slice())}u&&u(),a.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)})}(),h=window.cancelAnimationFrame(n)):h=window.requestAnimationFrame(n)}),Promise.resolve()}function v(e){var t=e.xaxis,r=e.yaxis;c._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,r._offset).call(o.setScale,1,1);var n=e.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(o.setPointGroupScale,1,1),n.selectAll(".textpoint").call(o.setTextPointsScale,1,1),n.call(o.hideOutsideRangePoints,e)}function g(t,r){var n=t.plotinfo,a=n.xaxis,s=n.yaxis,c=a._length,u=s._length,d=!!t.xr1,f=!!t.yr1,h=[];if(d){var p=i.simpleMap(t.xr0,a.r2l),v=i.simpleMap(t.xr1,a.r2l),g=p[1]-p[0],m=v[1]-v[0];h[0]=(p[0]*(1-r)+r*v[0]-p[0])/(p[1]-p[0])*c,h[2]=c*(1-r+r*m/g),a.range[0]=a.l2r(p[0]*(1-r)+r*v[0]),a.range[1]=a.l2r(p[1]*(1-r)+r*v[1])}else h[0]=0,h[2]=c;if(f){var x=i.simpleMap(t.yr0,s.r2l),y=i.simpleMap(t.yr1,s.r2l),_=x[1]-x[0],b=y[1]-y[0];h[1]=(x[1]*(1-r)+r*y[1]-x[1])/(x[0]-x[1])*u,h[3]=u*(1-r+r*b/_),s.range[0]=a.l2r(x[0]*(1-r)+r*y[0]),s.range[1]=s.l2r(x[1]*(1-r)+r*y[1])}else h[1]=0,h[3]=u;l.drawOne(e,a,{skipTitle:!0}),l.drawOne(e,s,{skipTitle:!0}),l.redrawComponents(e,[a._id,s._id]);var w=d?c/h[2]:1,k=f?u/h[3]:1,L=d?h[0]:0,M=f?h[1]:0,A=d?h[0]/h[2]*c:0,S=f?h[1]/h[3]*u:0,z=a._offset-A,T=s._offset-S;n.clipRect.call(o.setTranslate,L,M).call(o.setScale,1/w,1/k),n.plot.call(o.setTranslate,z,T).call(o.setScale,w,k),o.setPointGroupScale(n.zoomScalePts,1/w,1/k),o.setTextPointsScale(n.zoomScaleTxt,1/w,1/k)}l.redrawComponents(e)}},,,,,,,,function(e,t,r){"use strict";var n=r(1),a=r(0),i=r(99),o=r(380),l=r(5).BADNUM,s=r(101),c=r(456),u=r(415),d=r(416);function f(e,t,r,n,a,o,l){var c=t._length,u=e._fullLayout,d=r._id,f=n._id,h=u._firstScatter[v(t)]===t.uid,p=(g(t,u,r,n)||{}).orientation,m=t.fill;r._minDtick=0,n._minDtick=0;var x={padded:!0},y={padded:!0};l&&(x.ppad=y.ppad=l);var _=c<2||a[0]!==a[c-1]||o[0]!==o[c-1];_&&("tozerox"===m||"tonextx"===m&&(h||"h"===p))?x.tozero=!0:(t.error_y||{}).visible||"tonexty"!==m&&"tozeroy"!==m&&(s.hasMarkers(t)||s.hasText(t))||(x.padded=!1,x.ppad=0),_&&("tozeroy"===m||"tonexty"===m&&(h||"v"===p))?y.tozero=!0:"tonextx"!==m&&"tozerox"!==m||(y.padded=!1),d&&(t._extremes[d]=i.findExtremes(r,a,x)),f&&(t._extremes[f]=i.findExtremes(n,o,y))}function h(e,t){if(s.hasMarkers(e)){var r,n=e.marker,o=1.6*(e.marker.sizeref||1);if(r="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},a.isArrayOrTypedArray(n.size)){var l={type:"linear"};i.setConvert(l);for(var c=l.makeCalcdata(e.marker,"size"),u=new Array(t),d=0;d<t;d++)u[d]=r(c[d]);return u}return r(n.size)}}function p(e,t){var r=v(t),n=e._firstScatter;n[r]||(n[r]=t.uid)}function v(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function g(e,t,r,n){var a=e.stackgroup;if(a){var i=t._scatterStackOpts[r._id+n._id][a],o="v"===i.orientation?n:r;return"linear"===o.type||"log"===o.type?i:void 0}}e.exports={calc:function(e,t){var r,s,v,m,x,y,_=e._fullLayout,b=i.getFromId(e,t.xaxis||"x"),w=i.getFromId(e,t.yaxis||"y"),k=b.makeCalcdata(t,"x"),L=w.makeCalcdata(t,"y"),M=o(t,b,"x",k),A=o(t,w,"y",L),S=t._length,z=new Array(S),T=t.ids,C=g(t,_,b,w),I=!1;p(_,t);var P,O="x",R="y";C?(a.pushUnique(C.traceIndices,t._expandedIndex),(r="v"===C.orientation)?(R="s",P="x"):(O="s",P="y"),x="interpolate"===C.stackgaps):f(e,t,b,w,M,A,h(t,S));var D=!!t.xperiodalignment,E=!!t.yperiodalignment;for(s=0;s<S;s++){var H=z[s]={},F=n(M[s]),Z=n(A[s]);F&&Z?(H[O]=M[s],H[R]=A[s],D&&(H.orig_x=k[s]),E&&(H.orig_y=L[s])):C&&(r?F:Z)?(H[P]=r?M[s]:A[s],H.gap=!0,x?(H.s=l,I=!0):H.s=0):H[O]=H[R]=l,T&&(H.id=String(T[s]))}if(u(z,t),c(e,t),d(z,t),C){for(s=0;s<z.length;)z[s][P]===l?z.splice(s,1):s++;if(a.sort(z,function(e,t){return e[P]-t[P]||e.i-t.i}),I){for(s=0;s<z.length-1&&z[s].gap;)s++;for((y=z[s].s)||(y=z[s].s=0),v=0;v<s;v++)z[v].s=y;for(m=z.length-1;m>s&&z[m].gap;)m--;for(y=z[m].s,v=z.length-1;v>m;v--)z[v].s=y;for(;s<m;)if(z[++s].gap){for(v=s+1;z[v].gap;)v++;for(var B=z[s-1][P],N=z[s-1].s,V=(z[v].s-N)/(z[v][P]-B);s<v;)z[s].s=N+(z[s][P]-B)*V,s++}}}return z},calcMarkerSize:h,calcAxisExpansion:f,setFirstScatter:p,getStackOpts:g}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;n.mergeArray(t.text,e,"tx"),n.mergeArray(t.texttemplate,e,"txt"),n.mergeArray(t.hovertext,e,"htx"),n.mergeArray(t.customdata,e,"data"),n.mergeArray(t.textposition,e,"tp"),t.textfont&&(n.mergeArrayCastPositive(t.textfont.size,e,"ts"),n.mergeArray(t.textfont.color,e,"tc"),n.mergeArray(t.textfont.family,e,"tf"));var a=t.marker;if(a){n.mergeArrayCastPositive(a.size,e,"ms"),n.mergeArrayCastPositive(a.opacity,e,"mo"),n.mergeArray(a.symbol,e,"mx"),n.mergeArray(a.color,e,"mc");var i=a.line;a.line&&(n.mergeArray(i.color,e,"mlc"),n.mergeArrayCastPositive(i.width,e,"mlw"));var o=a.gradient;o&&"none"!==o.type&&(n.mergeArray(o.type,e,"mgt"),n.mergeArray(o.color,e,"mgc"))}}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.isArrayOrTypedArray(t.selectedpoints)&&n.tagSelected(e,t)}},function(e,t,r){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},function(e,t,r){"use strict";var n=r(4),a=r(38),i=r(3);function o(e,t,r){a.pointStyle(e.selectAll("path.point"),t,r)}function l(e,t,r){a.textPointStyle(e.selectAll("text"),t,r)}e.exports={style:function(e){var t=n.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(t){o(n.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.text").each(function(t){l(n.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.trace path.js-line").call(a.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),i.getComponentMethod("errorbars","style")(t)},stylePoints:o,styleText:l,styleOnSelect:function(e,t,r){var n=t[0].trace;n.selectedpoints?(a.selectedPointStyle(r.selectAll("path.point"),n),a.selectedTextStyle(r.selectAll("text"),n)):(o(r,n,e),l(r,n,e))}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(101);e.exports={hasLines:n.hasLines,hasMarkers:n.hasMarkers,hasText:n.hasText,isBubble:n.isBubble,attributes:r(110),supplyDefaults:r(448),crossTraceDefaults:r(455),calc:r(414).calc,crossTraceCalc:r(457),arraysToCalcdata:r(415),plot:r(458),colorbar:r(417),formatLabels:r(461),style:r(418).style,styleOnSelect:r(418).styleOnSelect,hoverPoints:r(462),selectPoints:r(464),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(381),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},function(e,t,r){"use strict";var n=r(0),a=r(3),i=r(110),o=r(118),l=r(101),s=r(400),c=r(377),u=r(449),d=r(450),f=r(451),h=r(452),p=r(453),v=r(454);e.exports=function(e,t,r,g){function m(r,a){return n.coerce(e,t,i,r,a)}var x=s(e,t,g,m);if(x||(t.visible=!1),t.visible){c(e,t,g,m);var y=u(e,t,g,m),_=!y&&x<o.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("mode",_),l.hasLines(t)&&(f(e,t,r,g,m),h(e,t,m),m("connectgaps"),m("line.simplify")),l.hasMarkers(t)&&d(e,t,r,g,m,{gradient:!0}),l.hasText(t)&&(m("texttemplate"),p(e,t,g,m));var b=[];(l.hasMarkers(t)||l.hasText(t))&&(m("cliponaxis"),m("marker.maxdisplayed"),b.push("points")),m("fill",y?y.fillDflt:"none"),"none"!==t.fill&&(v(e,t,r,m),l.hasLines(t)||h(e,t,m));var w=(t.line||{}).color,k=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||b.push("fills"),m("hoveron",b.join("+")||"points"),"fills"!==t.hoveron&&m("hovertemplate");var L=a.getComponentMethod("errorbars","supplyDefaults");L(e,t,w||k||r,{axis:"y"}),L(e,t,w||k||r,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(t,m)}}},function(e,t,r){"use strict";var n=["orientation","groupnorm","stackgaps"];e.exports=function(e,t,r,a){var i=r._scatterStackOpts,o=a("stackgroup");if(o){var l=t.xaxis+t.yaxis,s=i[l];s||(s=i[l]={});var c=s[o],u=!1;c?c.traces.push(t):(c=s[o]={traceIndices:[],traces:[t]},u=!0);for(var d={orientation:t.x&&!t.y?"h":"v"},f=0;f<n.length;f++){var h=n[f],p=h+"Found";if(!c[p]){var v=void 0!==e[h],g="orientation"===h;if((v||u)&&(c[h]=a(h,d[h]),g&&(c.fillDflt="h"===c[h]?"tonextx":"tonexty"),v&&(c[p]=!0,!u&&(delete c.traces[0][h],g))))for(var m=0;m<c.traces.length-1;m++){var x=c.traces[m];x._input.fill!==x.fill&&(x.fill=c.fillDflt)}}}return c}}},function(e,t,r){"use strict";var n=r(14),a=r(29).hasColorscale,i=r(61),o=r(101);e.exports=function(e,t,r,l,s,c){var u=o.isBubble(e),d=(e.line||{}).color;(c=c||{},d&&(r=d),s("marker.symbol"),s("marker.opacity",u?.7:1),s("marker.size"),s("marker.color",r),a(e,"marker")&&i(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",d&&!Array.isArray(d)&&t.marker.color!==d?d:u?n.background:n.defaultLine),a(e,"marker.line")&&i(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",u?1:0)),u&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient)&&("none"!==s("marker.gradient.type")&&s("marker.gradient.color"))}},function(e,t,r){"use strict";var n=r(0).isArrayOrTypedArray,a=r(29).hasColorscale,i=r(61);e.exports=function(e,t,r,o,l,s){var c=(e.marker||{}).color;(l("line.color",r),a(e,"line"))?i(e,t,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!n(c)&&c||r);l("line.width"),(s||{}).noDash||l("line.dash")}},function(e,t,r){"use strict";e.exports=function(e,t,r){"spline"===r("line.shape")&&r("line.smoothing")}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r,a,i){i=i||{},a("textposition"),n.coerceFont(a,"textfont",r.font),i.noSelect||(a("selected.textfont.color"),a("unselected.textfont.color"))}},function(e,t,r){"use strict";var n=r(14),a=r(0).isArrayOrTypedArray;e.exports=function(e,t,r,i){var o=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!a(l)?o=l:s&&!a(s)&&(o=s)}i("fillcolor",n.addOpacity((t.line||{}).color||o||r,.5))}},function(e,t,r){"use strict";e.exports=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("scatter"===r.type){var n=r.fill;if("none"!==n&&"toself"!==n&&(r.opacity=void 0,"tonexty"===n||"tonextx"===n))for(var a=t-1;a>=0;a--){var i=e[a];if("scatter"===i.type&&i.xaxis===r.xaxis&&i.yaxis===r.yaxis){i.opacity=void 0;break}}}}}},function(e,t,r){"use strict";var n=r(29).hasColorscale,a=r(117),i=r(101);e.exports=function(e,t){i.hasLines(t)&&n(t,"line")&&a(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(t)&&(n(t,"marker")&&a(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),n(t,"marker.line")&&a(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},function(e,t,r){"use strict";var n=r(414);function a(e,t,r,n,a,i,o){a[n]=!0;var l={i:null,gap:!0,s:0};if(l[o]=r,e.splice(t,0,l),t&&r===e[t-1][o]){var s=e[t-1];l.s=s.s,l.i=s.i,l.gap=s.gap}else i&&(l.s=function(e,t,r,n){var a=e[t-1],i=e[t+1];return i?a?a.s+(i.s-a.s)*(r-a[n])/(i[n]-a[n]):i.s:a.s}(e,t,r,o));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}e.exports=function(e,t){var r=t.xaxis,i=t.yaxis,o=r._id+i._id,l=e._fullLayout._scatterStackOpts[o];if(l){var s,c,u,d,f,h,p,v,g,m,x,y,_,b,w,k=e.calcdata;for(var L in l){var M=(m=l[L]).traceIndices;if(M.length){for(x="interpolate"===m.stackgaps,y=m.groupnorm,"v"===m.orientation?(_="x",b="y"):(_="y",b="x"),w=new Array(M.length),s=0;s<w.length;s++)w[s]=!1;h=k[M[0]];var A=new Array(h.length);for(s=0;s<h.length;s++)A[s]=h[s][_];for(s=1;s<M.length;s++){for(f=k[M[s]],c=u=0;c<f.length;c++){for(p=f[c][_];p>A[u]&&u<A.length;u++)a(f,c,A[u],s,w,x,_),c++;if(p!==A[u]){for(d=0;d<s;d++)a(k[M[d]],u,p,d,w,x,_);A.splice(u,0,p)}u++}for(;u<A.length;u++)a(f,c,A[u],s,w,x,_),c++}var S=A.length;for(c=0;c<h.length;c++){for(v=h[c][b]=h[c].s,s=1;s<M.length;s++)(f=k[M[s]])[0].trace._rawLength=f[0].trace._length,f[0].trace._length=S,v+=f[c].s,f[c][b]=v;if(y)for(g=("fraction"===y?v:v/100)||1,s=0;s<M.length;s++){var z=k[M[s]][c];z[b]/=g,z.sNorm=z.s/g}}for(s=0;s<M.length;s++){var T=(f=k[M[s]])[0].trace,C=n.calcMarkerSize(T,T._rawLength),I=Array.isArray(C);if(C&&w[s]||I){var P=C;for(C=new Array(S),c=0;c<S;c++)C[c]=f[c].gap?0:I?P[f[c].i]:P}var O=new Array(S),R=new Array(S);for(c=0;c<S;c++)O[c]=f[c].x,R[c]=f[c].y;n.calcAxisExpansion(e,T,r,i,O,R,C),f[0].t.orientation=m.orientation}}}}}},function(e,t,r){"use strict";var n=r(4),a=r(3),i=r(0),o=i.ensureSingle,l=i.identity,s=r(38),c=r(101),u=r(459),d=r(460),f=r(376).tester;function h(e,t,r,d,h,p,v){var g;!function(e,t,r,a,o){var l=r.xaxis,s=r.yaxis,u=n.extent(i.simpleMap(l.range,l.r2c)),d=n.extent(i.simpleMap(s.range,s.r2c)),f=a[0].trace;if(!c.hasMarkers(f))return;var h=f.marker.maxdisplayed;if(0===h)return;var p=a.filter(function(e){return e.x>=u[0]&&e.x<=u[1]&&e.y>=d[0]&&e.y<=d[1]}),v=Math.ceil(p.length/h),g=0;o.forEach(function(e,r){var n=e[0].trace;c.hasMarkers(n)&&n.marker.maxdisplayed>0&&r<t&&g++});var m=Math.round(g*v/3+Math.floor(g/3)*v/7.1);a.forEach(function(e){delete e.vis}),p.forEach(function(e,t){0===Math.round((t+m)%v)&&(e.vis=!0)})}(0,t,r,d,h);var m=!!v&&v.duration>0;function x(e){return m?e.transition():e}var y=r.xaxis,_=r.yaxis,b=d[0].trace,w=b.line,k=n.select(p),L=o(k,"g","errorbars"),M=o(k,"g","lines"),A=o(k,"g","points"),S=o(k,"g","text");if(a.getComponentMethod("errorbars","plot")(e,L,r,v),!0===b.visible){var z,T;x(k).style("opacity",b.opacity);var C=b.fill.charAt(b.fill.length-1);"x"!==C&&"y"!==C&&(C=""),d[0][r.isRangePlot?"nodeRangePlot3":"node3"]=k;var I,P,O="",R=[],D=b._prevtrace;D&&(O=D._prevRevpath||"",T=D._nextFill,R=D._polygons);var E,H,F,Z,B,N,V,q="",G="",j=[],U=i.noop;if(z=b._ownFill,c.hasLines(b)||"none"!==b.fill){for(T&&T.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(E=s.steps(w.shape),H=s.steps(w.shape.split("").reverse().join(""))):E=H="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),w.smoothing):s.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},F=function(e){return H(e.reverse())},j=u(d,{xaxis:y,yaxis:_,connectGaps:b.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify,fill:b.fill}),V=b._polygons=new Array(j.length),g=0;g<j.length;g++)b._polygons[g]=f(j[g]);j.length&&(Z=j[0][0],N=(B=j[j.length-1])[B.length-1]),U=function(e){return function(t){if(I=E(t),P=F(t),q?C?(q+="L"+I.substr(1),G=P+"L"+G.substr(1)):(q+="Z"+I,G=P+"Z"+G):(q=I,G=P),c.hasLines(b)&&t.length>1){var r=n.select(this);if(r.datum(d),e)x(r.style("opacity",0).attr("d",I).call(s.lineGroupStyle)).style("opacity",1);else{var a=x(r);a.attr("d",I),s.singleLineStyle(d,a)}}}}}var Y=M.selectAll(".js-line").data(j);x(Y.exit()).style("opacity",0).remove(),Y.each(U(!1)),Y.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(U(!0)),s.setClipUrl(Y,r.layerClipId,e),j.length?(z?(z.datum(d),Z&&N&&(C?("y"===C?Z[1]=N[1]=_.c2p(0,!0):"x"===C&&(Z[0]=N[0]=y.c2p(0,!0)),x(z).attr("d","M"+N+"L"+Z+"L"+q.substr(1)).call(s.singleFillStyle)):x(z).attr("d",q+"Z").call(s.singleFillStyle))):T&&("tonext"===b.fill.substr(0,6)&&q&&O?("tonext"===b.fill?x(T).attr("d",q+"Z"+O+"Z").call(s.singleFillStyle):x(T).attr("d",q+"L"+O.substr(1)+"Z").call(s.singleFillStyle),b._polygons=b._polygons.concat(R)):(W(T),b._polygons=null)),b._prevRevpath=G,b._prevPolygons=V):(z?W(z):T&&W(T),b._polygons=b._prevRevpath=b._prevPolygons=null),A.datum(d),S.datum(d),function(t,a,i){var o,u=i[0].trace,d=c.hasMarkers(u),f=c.hasText(u),h=ee(u),p=te,v=te;if(d||f){var g=l,b=u.stackgroup,w=b&&"infer zero"===e._fullLayout._scatterStackOpts[y._id+_._id][b].stackgaps;u.marker.maxdisplayed||u._needsCull?g=w?Q:K:b&&!w&&(g=J),d&&(p=g),f&&(v=g)}var k,L=(o=t.selectAll("path.point").data(p,h)).enter().append("path").classed("point",!0);m&&L.call(s.pointStyle,u,e).call(s.translatePoints,y,_).style("opacity",0).transition().style("opacity",1),o.order(),d&&(k=s.makePointStyleFns(u)),o.each(function(t){var a=n.select(this),i=x(a);s.translatePoint(t,i,y,_)?(s.singlePointStyle(t,i,u,k,e),r.layerClipId&&s.hideOutsideRangePoint(t,i,y,_,u.xcalendar,u.ycalendar),u.customdata&&a.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):i.remove()}),m?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=a.selectAll("g").data(v,h)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each(function(e){var t=n.select(this),a=x(t.select("text"));s.translatePoint(e,a,y,_)?r.layerClipId&&s.hideOutsideRangePoint(e,t,y,_,u.xcalendar,u.ycalendar):t.remove()}),o.selectAll("text").call(s.textPointStyle,u,e).each(function(e){var t=y.c2p(e.x),r=_.c2p(e.y);n.select(this).selectAll("tspan.line").each(function(){x(n.select(this)).attr({x:t,y:r})})}),o.exit().remove()}(A,S,d);var X=!1===b.cliponaxis?null:r.layerClipId;s.setClipUrl(A,X,e),s.setClipUrl(S,X,e)}function W(e){x(e).attr("d","M0,0Z")}function K(e){return e.filter(function(e){return!e.gap&&e.vis})}function Q(e){return e.filter(function(e){return e.vis})}function J(e){return e.filter(function(e){return!e.gap})}function $(e){return e.id}function ee(e){if(e.ids)return $}function te(){return!1}}e.exports=function(e,t,r,a,i,c){var u,f,p=!i,v=!!i&&i.duration>0,g=d(e,t,r);((u=a.selectAll("g.trace").data(g,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),u.order(),function(e,t,r){t.each(function(t){var a=o(n.select(this),"g","fills");s.setClipUrl(a,r.layerClipId,e);var i=t[0].trace,c=[];i._ownfill&&c.push("_ownFill"),i._nexttrace&&c.push("_nextFill");var u=a.selectAll("g").data(c,l);u.enter().append("g"),u.exit().each(function(e){i[e]=null}).remove(),u.order().each(function(e){i[e]=o(n.select(this),"path","js-fill")})})}(e,u,t),v)?(c&&(f=c()),n.transition().duration(i.duration).ease(i.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()}).each(function(){a.selectAll("g.trace").each(function(r,n){h(e,n,t,r,g,this,i)})})):u.each(function(r,n){h(e,n,t,r,g,this,i)});p&&u.exit().remove(),a.selectAll("path:not([d])").remove()}},function(e,t,r){"use strict";var n=r(5),a=n.BADNUM,i=n.LOG_CLIP,o=i+.5,l=i-.5,s=r(0),c=s.segmentsIntersect,u=s.constrain,d=r(118);e.exports=function(e,t){var r,n,i,f,h,p,v,g,m,x,y,_,b,w,k,L,M,A,S=t.xaxis,z=t.yaxis,T="log"===S.type,C="log"===z.type,I=S._length,P=z._length,O=t.connectGaps,R=t.baseTolerance,D=t.shape,E="linear"===D,H=t.fill&&"none"!==t.fill,F=[],Z=d.minTolerance,B=e.length,N=new Array(B),V=0;function q(r){var n=e[r];if(!n)return!1;var i=t.linearized?S.l2p(n.x):S.c2p(n.x),s=t.linearized?z.l2p(n.y):z.c2p(n.y);if(i===a){if(T&&(i=S.c2p(n.x,!0)),i===a)return!1;C&&s===a&&(i*=Math.abs(S._m*P*(S._m>0?o:l)/(z._m*I*(z._m>0?o:l)))),i*=1e3}if(s===a){if(C&&(s=z.c2p(n.y,!0)),s===a)return!1;s*=1e3}return[i,s]}function G(e,t,r,n){var a=r-e,i=n-t,o=.5-e,l=.5-t,s=a*a+i*i,c=a*o+i*l;if(c>0&&c<s){var u=o*i-l*a;if(u*u<s)return!0}}function j(e,t){var r=e[0]/I,n=e[1]/P,a=Math.max(0,-r,r-1,-n,n-1);return a&&void 0!==M&&G(r,n,M,A)&&(a=0),a&&t&&G(r,n,t[0]/I,t[1]/P)&&(a=0),(1+d.toleranceGrowth*a)*R}function U(e,t){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}var Y,X,W,K,Q,J,$,ee=d.maxScreensAway,te=-I*ee,re=I*(1+ee),ne=-P*ee,ae=P*(1+ee),ie=[[te,ne,re,ne],[re,ne,re,ae],[re,ae,te,ae],[te,ae,te,ne]];function oe(e){if(e[0]<te||e[0]>re||e[1]<ne||e[1]>ae)return[u(e[0],te,re),u(e[1],ne,ae)]}function le(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===re)||(e[1]===t[1]&&(e[1]===ne||e[1]===ae)||void 0)}function se(e,t,r){return function(n,a){var i=oe(n),o=oe(a),l=[];if(i&&o&&le(i,o))return l;i&&l.push(i),o&&l.push(o);var c=2*s.constrain((n[e]+a[e])/2,t,r)-((i||n)[e]+(o||a)[e]);c&&((i&&o?c>0==i[e]>o[e]?i:o:i||o)[e]+=c);return l}}function ce(e){var t=e[0],r=e[1],n=t===N[V-1][0],a=r===N[V-1][1];if(!n||!a)if(V>1){var i=t===N[V-2][0],o=r===N[V-2][1];n&&(t===te||t===re)&&i?o?V--:N[V-1]=e:a&&(r===ne||r===ae)&&o?i?V--:N[V-1]=e:N[V++]=e}else N[V++]=e}function ue(e){N[V-1][0]!==e[0]&&N[V-1][1]!==e[1]&&ce([W,K]),ce(e),Q=null,W=K=0}function de(e){if(M=e[0]/I,A=e[1]/P,Y=e[0]<te?te:e[0]>re?re:0,X=e[1]<ne?ne:e[1]>ae?ae:0,Y||X){if(V)if(Q){var t=$(Q,e);t.length>1&&(ue(t[0]),N[V++]=t[1])}else J=$(N[V-1],e)[0],N[V++]=J;else N[V++]=[Y||e[0],X||e[1]];var r=N[V-1];Y&&X&&(r[0]!==Y||r[1]!==X)?(Q&&(W!==Y&&K!==X?ce(W&&K?(n=Q,i=(a=e)[0]-n[0],o=(a[1]-n[1])/i,(n[1]*a[0]-a[1]*n[0])/i>0?[o>0?te:re,ae]:[o>0?re:te,ne]):[W||Y,K||X]):W&&K&&ce([W,K])),ce([Y,X])):W-Y&&K-X&&ce([Y||W,X||K]),Q=e,W=Y,K=X}else Q&&ue($(Q,e)[0]),N[V++]=e;var n,a,i,o}for("linear"===D||"spline"===D?$=function(e,t){for(var r=[],n=0,a=0;a<4;a++){var i=ie[a],o=c(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);o&&(!n||Math.abs(o.x-r[0][0])>1||Math.abs(o.y-r[0][1])>1)&&(o=[o.x,o.y],n&&U(o,e)<U(r[0],e)?r.unshift(o):r.push(o),n++)}return r}:"hv"===D||"vh"===D?$=function(e,t){var r=[],n=oe(e),a=oe(t);return n&&a&&le(n,a)?r:(n&&r.push(n),a&&r.push(a),r)}:"hvh"===D?$=se(0,te,re):"vhv"===D&&($=se(1,ne,ae)),r=0;r<B;r++)if(n=q(r)){for(V=0,Q=null,de(n),r++;r<B;r++){if(!(f=q(r))){if(O)continue;break}if(E&&t.simplify){var fe=q(r+1);if(x=U(f,n),H&&(0===V||V===B-1)||!(x<j(f,fe)*Z)){for(g=[(f[0]-n[0])/x,(f[1]-n[1])/x],h=n,y=x,_=w=k=0,v=!1,i=f,r++;r<e.length;r++){if(p=fe,fe=q(r+1),!p){if(O)continue;break}if(L=(m=[p[0]-n[0],p[1]-n[1]])[0]*g[1]-m[1]*g[0],w=Math.min(w,L),(k=Math.max(k,L))-w>j(p,fe))break;i=p,(b=m[0]*g[0]+m[1]*g[1])>y?(y=b,f=p,v=!1):b<_&&(_=b,h=p,v=!0)}if(v?(de(f),i!==h&&de(h)):(h!==n&&de(h),i!==f&&de(f)),de(i),r>=e.length||!p)break;de(p),n=p}}else de(f)}Q&&ce([W||Q[0],K||Q[1]]),F.push(N.slice(0,V))}return F}},function(e,t,r){"use strict";var n={tonextx:1,tonexty:1,tonext:1};e.exports=function(e,t,r){var a,i,o,l,s,c={},u=!1,d=-1,f=0,h=-1;for(i=0;i<r.length;i++)(o=(a=r[i][0].trace).stackgroup||"")?o in c?s=c[o]:(s=c[o]=f,f++):a.fill in n&&h>=0?s=h:(s=h=f,f++),s<d&&(u=!0),a._groupIndex=d=s;var p=r.slice();u&&p.sort(function(e,t){var r=e[0].trace,n=t[0].trace;return r._groupIndex-n._groupIndex||r.index-n.index});var v={};for(i=0;i<p.length;i++)o=(a=p[i][0].trace).stackgroup||"",!0===a.visible?(a._nexttrace=null,a.fill in n&&(l=v[o],a._prevtrace=l||null,l&&(l._nexttrace=a)),a._ownfill=a.fill&&("tozero"===a.fill.substr(0,6)||"toself"===a.fill||"to"===a.fill.substr(0,2)&&!a._prevtrace),v[o]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return p}},function(e,t,r){"use strict";var n=r(99);e.exports=function(e,t,r){var a={},i={_fullLayout:r},o=n.getFromTrace(i,t,"x"),l=n.getFromTrace(i,t,"y");return a.xLabel=n.tickText(o,e.x,!0).text,a.yLabel=n.tickText(l,e.y,!0).text,a}},function(e,t,r){"use strict";var n=r(0),a=r(329),i=r(3),o=r(463),l=r(14),s=n.fillText;e.exports=function(e,t,r,c){var u=e.cd,d=u[0].trace,f=e.xa,h=e.ya,p=f.c2p(t),v=h.c2p(r),g=[p,v],m=d.hoveron||"",x=-1!==d.mode.indexOf("markers")?3:.5;if(-1!==m.indexOf("points")){var y=function(e){var t=Math.max(x,e.mrc||0),r=f.c2p(e.x)-p,n=h.c2p(e.y)-v;return Math.max(Math.sqrt(r*r+n*n)-t,1-x/t)},_=a.getDistanceFunction(c,function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,n=Math.abs(f.c2p(e.x)-p);return n<t?r*n/t:n-t+r},function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,n=Math.abs(h.c2p(e.y)-v);return n<t?r*n/t:n-t+r},y);if(a.getClosest(u,_,e),!1!==e.index){var b=u[e.index],w=f.c2p(b.x,!0),k=h.c2p(b.y,!0),L=b.mrc||1;e.index=b.i;var M=u[0].t.orientation,A=M&&(b.sNorm||b.s),S="h"===M?A:void 0!==b.orig_x?b.orig_x:b.x,z="v"===M?A:void 0!==b.orig_y?b.orig_y:b.y;return n.extendFlat(e,{color:o(d,b),x0:w-L,x1:w+L,xLabelVal:S,y0:k-L,y1:k+L,yLabelVal:z,spikeDistance:y(b),hovertemplate:d.hovertemplate}),s(b,d,e),i.getComponentMethod("errorbars","hoverInfo")(b,d,e),[e]}}if(-1!==m.indexOf("fills")&&d._polygons){var T,C,I,P,O,R,D,E,H,F=d._polygons,Z=[],B=!1,N=1/0,V=-1/0,q=1/0,G=-1/0;for(T=0;T<F.length;T++)(I=F[T]).contains(g)&&(B=!B,Z.push(I),q=Math.min(q,I.ymin),G=Math.max(G,I.ymax));if(B){var j=((q=Math.max(q,0))+(G=Math.min(G,h._length)))/2;for(T=0;T<Z.length;T++)for(P=Z[T].pts,C=1;C<P.length;C++)(E=P[C-1][1])>j!=(H=P[C][1])>=j&&(R=P[C-1][0],D=P[C][0],H-E&&(O=R+(D-R)*(j-E)/(H-E),N=Math.min(N,O),V=Math.max(V,O)));N=Math.max(N,0),V=Math.min(V,f._length);var U=l.defaultLine;return l.opacity(d.fillcolor)?U=d.fillcolor:l.opacity((d.line||{}).color)&&(U=d.line.color),n.extendFlat(e,{distance:e.maxHoverDistance,x0:N,x1:V,y0:j,y1:j,color:U,hovertemplate:!1}),delete e.index,d.text&&!Array.isArray(d.text)?e.text=String(d.text):e.text=d.name,[e]}}}},function(e,t,r){"use strict";var n=r(14),a=r(101);e.exports=function(e,t){var r,i;if("lines"===e.mode)return(r=e.line.color)&&n.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(i=o&&n.opacity(o)?o:l&&n.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?n.opacity(i)<.3?n.addOpacity(i,.3):i:(r=(e.line||{}).color)&&n.opacity(r)&&a.hasLines(e)&&e.line.width?r:e.fillcolor}},function(e,t,r){"use strict";var n=r(101);e.exports=function(e,t){var r,a,i,o,l=e.cd,s=e.xaxis,c=e.yaxis,u=[],d=l[0].trace;if(!n.hasMarkers(d)&&!n.hasText(d))return[];if(!1===t)for(r=0;r<l.length;r++)l[r].selected=0;else for(r=0;r<l.length;r++)a=l[r],i=s.c2p(a.x),o=c.c2p(a.y),null!==a.i&&t.contains([i,o],!1,r,e)?(u.push({pointNumber:a.i,x:s.c2d(a.x),y:c.c2d(a.y)}),a.selected=1):a.selected=0;return u}}]));